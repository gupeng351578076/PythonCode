<!DOCTYPE HTML>
<html>
<head>
<meta charset="UTF-8">
<meta name="baidu-tc-verification" content="0fb041a64ee71333c957d8c784961cc8" />
<meta property="qc:admins" content="145637425211673116375" />
<meta http-equiv="X-UA-Compatible" content="IE=10,IE=9,IE=8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">
<title>Python爬虫进阶四之PySpider的用法 | 静觅</title>
<script>
window._deel = {name: '静觅',url: 'https://cuiqingcai.com/wp-content/themes/Yusi', ajaxpager: 'on', commenton: 1, roll: [0,0]}
</script>

<!-- All in One SEO Pack 2.3.12.2.1 by Michael Torbert of Semper Fi Web Design[392,433] -->
<meta name="description"  content="审时度势 PySpider 是一个我个人认为非常方便并且功能强大的爬虫框架，支持多线程爬取、JS动态解析，提供了可操作界面、出错重试、定时爬取等等的功能，使用非常人性化。 本篇内容通过跟我做一个好玩的 PySpider 项目，来理解 PySpider" />

<meta name="keywords"  content="python,爬虫" />

<!-- /all in one seo pack -->
<link rel='dns-prefetch' href='//libs.baidu.com' />
<link rel='dns-prefetch' href='//s.w.org' />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.2.1\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.2.1\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/cuiqingcai.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.7.3"}};
			!function(a,b,c){function d(a){var b,c,d,e,f=String.fromCharCode;if(!k||!k.fillText)return!1;switch(k.clearRect(0,0,j.width,j.height),k.textBaseline="top",k.font="600 32px Arial",a){case"flag":return k.fillText(f(55356,56826,55356,56819),0,0),!(j.toDataURL().length<3e3)&&(k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57331,65039,8205,55356,57096),0,0),b=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57331,55356,57096),0,0),c=j.toDataURL(),b!==c);case"emoji4":return k.fillText(f(55357,56425,55356,57341,8205,55357,56507),0,0),d=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55357,56425,55356,57341,55357,56507),0,0),e=j.toDataURL(),d!==e}return!1}function e(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g,h,i,j=b.createElement("canvas"),k=j.getContext&&j.getContext("2d");for(i=Array("flag","emoji4"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],"flag"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='crayon-css'  href='https://cuiqingcai.com/wp-content/plugins/crayon-syntax-highlighter/css/min/crayon.min.css?ver=_2.7.2_beta' type='text/css' media='all' />
<link rel='stylesheet' id='crayon-theme-github-css'  href='https://cuiqingcai.com/wp-content/plugins/crayon-syntax-highlighter/themes/github/github.css?ver=_2.7.2_beta' type='text/css' media='all' />
<link rel='stylesheet' id='crayon-font-monaco-css'  href='https://cuiqingcai.com/wp-content/plugins/crayon-syntax-highlighter/fonts/monaco.css?ver=_2.7.2_beta' type='text/css' media='all' />
<link rel='stylesheet' id='page-list-style-css'  href='https://cuiqingcai.com/wp-content/plugins/sitemap/css/page-list.css?ver=4.3' type='text/css' media='all' />
<link rel='stylesheet' id='style-css'  href='https://cuiqingcai.com/wp-content/themes/Yusi/style.css?ver=33' type='text/css' media='all' />
<script type='text/javascript' src='//libs.baidu.com/jquery/1.8.3/jquery.min.js?ver=1.0'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var CrayonSyntaxSettings = {"version":"_2.7.2_beta","is_admin":"0","ajaxurl":"https:\/\/cuiqingcai.com\/wp-admin\/admin-ajax.php","prefix":"crayon-","setting":"crayon-setting","selected":"crayon-setting-selected","changed":"crayon-setting-changed","special":"crayon-setting-special","orig_value":"data-orig-value","debug":""};
var CrayonSyntaxStrings = {"copy":"\u4f7f\u7528 %s \u590d\u5236\uff0c\u4f7f\u7528 %s \u7c98\u8d34\u3002","minimize":"\u70b9\u51fb\u5c55\u5f00\u4ee3\u7801"};
/* ]]> */
</script>
<script type='text/javascript' src='https://cuiqingcai.com/wp-content/plugins/crayon-syntax-highlighter/js/min/crayon.min.js?ver=_2.7.2_beta'></script>
<script type='text/javascript' src='https://cuiqingcai.com/wp-content/themes/Yusi/js/jquery.fitvids.js?ver=2.0.110526'></script>
<link rel='https://api.w.org/' href='https://cuiqingcai.com/wp-json/' />
<link rel='prev' title='Python爬虫利器六之PyQuery的用法' href='https://cuiqingcai.com/2636.html' />
<link rel='next' title='PySpider HTTP 599: SSL certificate problem错误的解决方法' href='https://cuiqingcai.com/2703.html' />
<link rel="canonical" href="https://cuiqingcai.com/2652.html" />
<link rel='shortlink' href='https://cuiqingcai.com/?p=2652' />
<link rel="alternate" type="application/json+oembed" href="https://cuiqingcai.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fcuiqingcai.com%2F2652.html" />
<link rel="alternate" type="text/xml+oembed" href="https://cuiqingcai.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fcuiqingcai.com%2F2652.html&#038;format=xml" />
<meta name="keywords" content="Python, 爬虫, Python">
<meta name="description" content="审时度势 PySpider 是一个我个人认为非常方便并且功能强大的爬虫框架，支持多线程爬取、JS动态解析，提供了可操作界面、出错重试、定时爬取等等的功能，使用非常人性化。  本篇内容通过跟我做一个好玩的 PySpider 项目，来理解 PySpider 的运行流程。 招兵买马 具体的安装过程请查看本节讲述  安装  嗯，安装好了之后就与我大干一番吧。 鸿鹄之志 我之前写过的一篇文章  抓取淘宝MM照片  由于网页改版，爬取过程中需要的 ">
        <script type="text/javascript">
            jQuery(document).ready( function() {
                jQuery('.video').fitVids();
            });
        </script><!--[if lt IE 9]><script src="https://cuiqingcai.com/wp-content/themes/Yusi/js/html5.js"></script><![endif]-->

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?3ef185224776ec2561c9f7066ead4f24";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>
<meta name="360-site-verification" content="bdc579accc68a98f1258ebcce2266afa" />
<script type="text/javascript" name="baidu-tc-cerfication" data-appid="5411405" src="//apps.bdimg.com/cloudaapi/lightapp.js"></script>
<link rel="shortcut icon" type="image/x-icon" href="https://cuiqingcai.com/fav.png" />
<script type="text/javascript" src="https://cuiqingcai.com/wp-content/themes/Yusi/js/main.js"></script>
<script type="text/javascript">

</script>
</head>
<body class="post-template-default single single-post postid-2652 single-format-standard">

<header id="header" class="header">
<div class="container-inner">
 <div class="yusi-logo">
                    <a href="/">
                        <h1>
                                                        <span class="yusi-mono">静觅</span>
                                                        <span class="yusi-bloger">崔庆才的个人博客</span>
                                                    </h1>
                    </a>
    </div>
</div>

	<div id="nav-header" class="navbar">
		
		<ul class="nav">
			<li id="menu-item-44" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-44"><a href="https://cuiqingcai.com">首页</a></li>
<li id="menu-item-14" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children menu-item-14"><a href="https://cuiqingcai.com/category/life">生活笔记</a>
<ul class="sub-menu">
	<li id="menu-item-19" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-19"><a href="https://cuiqingcai.com/category/life/notes">个人随笔</a></li>
	<li id="menu-item-18" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-18"><a href="https://cuiqingcai.com/category/life/daily">个人日记</a></li>
	<li id="menu-item-15" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-15"><a href="https://cuiqingcai.com/category/life/presatation">个人展示</a></li>
</ul>
</li>
<li id="menu-item-7" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor menu-item-has-children menu-item-7"><a href="https://cuiqingcai.com/category/technique">技术杂谈</a>
<ul class="sub-menu">
	<li id="menu-item-9" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-9"><a href="https://cuiqingcai.com/category/technique/cc">C/C++</a></li>
	<li id="menu-item-11" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-11"><a href="https://cuiqingcai.com/category/technique/java">Java</a></li>
	<li id="menu-item-17" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-17"><a href="https://cuiqingcai.com/category/technique/php">PHP</a></li>
	<li id="menu-item-153" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-153"><a href="https://cuiqingcai.com/category/technique/html">HTML</a></li>
	<li id="menu-item-960" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-960"><a href="https://cuiqingcai.com/category/technique/python">Python</a></li>
	<li id="menu-item-1277" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1277"><a href="https://cuiqingcai.com/category/technique/javascript">JS</a></li>
	<li id="menu-item-16" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-16"><a href="https://cuiqingcai.com/category/technique/other">Other</a></li>
</ul>
</li>
<li id="menu-item-418" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-418"><a href="https://cuiqingcai.com/category/resources">福利专区</a></li>
<li id="menu-item-851" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-851"><a href="https://cuiqingcai.com/about">关于自己</a></li>
<li id="menu-item-251" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-251"><a href="https://cuiqingcai.com/message">给我留言</a></li>
<li id="menu-item-1131" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1131"><a href="https://cuiqingcai.com/donate">赞助作者</a></li>
<li id="menu-item-4571" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4571"><a href="https://cuiqingcai.com/exchange">技术交流</a></li>
<li style="float:right;">
                    <div class="toggle-search"><i class="fa fa-search"></i></div>
<div class="search-expand" style="display: none;"><div class="search-expand-inner"><form method="get" class="searchform themeform" onsubmit="location.href='https://cuiqingcai.com/?s=' + encodeURIComponent(this.s.value).replace(/%20/g, '+'); return false;" action="/"><div> <input type="ext" class="search" name="s" onblur="if(this.value=='')this.value='search...';" onfocus="if(this.value=='search...')this.value='';" value="search..."></div></form></div></div>
</li>
		</ul>
	</div>
	</div>
</header>
<section class="container"><div class="speedbar">
					<div class="pull-right">
				<i class="fa fa-user"></i> <a href="/wp-login.php?action=register">投稿</a>&nbsp;&nbsp;&nbsp;   <i class="fa fa-power-off"></i> <a href="https://cuiqingcai.com/wp-login.php">登录</a>			</div>
				<div class="toptip"><strong class="text-success"><i class="fa fa-volume-up"></i> </strong>   博主录制的Python3爬虫视频教程已发布！详情请戳<a href="https://cuiqingcai.com/4320.html">Python3爬虫视频教程</a>！希望大家支持！非常感谢！</div>
	</div>
	<div class="content-wrap">
	<div class="content">
<div class="breadcrumbs"><a title="返回首页" href="https://cuiqingcai.com"><i class="fa fa-home"></i></a> <small>></small> <a href="https://cuiqingcai.com/category/technique">技术杂谈</a> <small>></small> <a href="https://cuiqingcai.com/category/technique/python">Python</a> <small>></small> <span class="muted">Python爬虫进阶四之PySpider的用法</span></div>
				<header class="article-header">
			<h1 class="article-title"><a href="https://cuiqingcai.com/2652.html">Python爬虫进阶四之PySpider的用法</a></h1>
			<div class="meta">
				<span id="mute-category" class="muted"><i class="fa fa-list-alt"></i><a href="https://cuiqingcai.com/category/technique/python"> Python</a></span>				<span class="muted"><i class="fa fa-user"></i> <a href="https://cuiqingcai.com/author/cqcre">崔庆才</a></span>
				<time class="muted"><i class="fa fa-clock-o"></i> 2年前 (2016-03-25)</time>
				<span class="muted"><i class="fa fa-eye"></i> 88514浏览</span>
				<span class="muted"><i class="fa fa-comments-o"></i> <a href="https://cuiqingcai.com/2652.html#comments">156评论</a></span>							</div>
		</header>
<div class="banner banner-post"><a href="https://edu.hellobi.com/course/157"><img src="https://qiniu.cuiqingcai.com/wp-content/uploads/2017/04/横图：崔庆才-自己动手，丰衣足食！Python3网络爬虫实战案例.png" /></a>
</div>		<article class="article-content">
			<h2>审时度势</h2>
<p>PySpider 是一个我个人认为非常方便并且功能强大的爬虫框架，支持多线程爬取、JS动态解析，提供了可操作界面、出错重试、定时爬取等等的功能，使用非常人性化。</p>
<p>本篇内容通过跟我做一个好玩的 PySpider 项目，来理解 PySpider 的运行流程。</p>
<h2>招兵买马</h2>
<p>具体的安装过程请查看本节讲述</p>
<p><a class="dl link" href="http://cuiqingcai.com/2443.html" target="_blank">安装</a></p>
<p>嗯，安装好了之后就与我大干一番吧。</p>
<h2>鸿鹄之志</h2>
<p>我之前写过的一篇文章</p>
<p><a class="dl link" href="http://cuiqingcai.com/1001.html" target="_blank">抓取淘宝MM照片</a></p>
<p>由于网页改版，爬取过程中需要的 URL 需要 JS 动态解析生成，所以之前用的 urllib2 不能继续使用了，在这里我们利用 PySpider 重新实现一下。</p>
<p>所以现在我们需要做的是抓取淘宝MM的个人信息和图片存储到本地。</p>
<h2>审时度势</h2>
<p>爬取目标网站：<a href="https://mm.taobao.com/json/request_top_list.htm?page=1" target="_blank">https://mm.taobao.com/json/request_top_list.htm?page=1</a>，大家打开之后可以看到许多淘宝MM的列表。</p>
<p>列表有多少？</p>
<p><a href="https://mm.taobao.com/json/request_top_list.htm?page=10000" target="_blank">https://mm.taobao.com/json/request_top_list.htm?page=10000</a>，第10000页都有，看你想要多少。我什么也不知道。</p>
<p>随机点击一位 MM 的姓名，可以看到她的基本资料。</p>
<p><a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2016/03/QQ20160326-4@2x.png"><img class="alignnone size-large wp-image-2679" src="http://qiniu.cuiqingcai.com/wp-content/uploads/2016/03/QQ20160326-4@2x-1024x750.png" alt="QQ20160326-4@2x" width="1024" height="750" srcset="https://qiniu.cuiqingcai.com/wp-content/uploads/2016/03/QQ20160326-4@2x-1024x750.png 1024w, https://qiniu.cuiqingcai.com/wp-content/uploads/2016/03/QQ20160326-4@2x-300x220.png 300w" sizes="(max-width: 1024px) 100vw, 1024px" /></a></p>
<p>可以看到图中有一个个性域名，我们复制到浏览器打开。<a href="https://mm.taobao.com/tyy6160" target="_blank">mm.taobao.com/tyy6160</a></p>
<p><a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2016/03/QQ20160326-5@2x.png"><img class="alignnone size-large wp-image-2680" src="http://qiniu.cuiqingcai.com/wp-content/uploads/2016/03/QQ20160326-5@2x-1024x576.png" alt="QQ20160326-5@2x" width="1024" height="576" srcset="https://qiniu.cuiqingcai.com/wp-content/uploads/2016/03/QQ20160326-5@2x-1024x576.png 1024w, https://qiniu.cuiqingcai.com/wp-content/uploads/2016/03/QQ20160326-5@2x-300x169.png 300w" sizes="(max-width: 1024px) 100vw, 1024px" /></a></p>
<p>&nbsp;</p>
<p>嗯，往下拖，海量的 MM 图片都在这里了，怎么办你懂得，我们要把她们的照片和个人信息都存下来。</p>
<p><strong>P.S. 注意图中进度条！你猜有多少图片～</strong></p>
<h2>利剑出鞘</h2>
<p>安装成功之后，跟我一步步地完成一个网站的抓取，你就会明白 PySpider 的基本用法了。</p>
<p>命令行下执行</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a6921d338500938497698" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; float: left; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
pyspider all</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a6921d338500938497698-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a6921d338500938497698-1"><span class="crayon-e">pyspider </span><span class="crayon-v">all</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
<p>这句命令的意思是，运行 pyspider 并 启动它的所有组件。</p>
<p><a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2016/03/E6632A0A-9067-4B97-93A2-5DEF23FB4CD8.jpg"><img class="alignnone size-large wp-image-2653" src="http://qiniu.cuiqingcai.com/wp-content/uploads/2016/03/E6632A0A-9067-4B97-93A2-5DEF23FB4CD8-1024x658.jpg" alt="E6632A0A-9067-4B97-93A2-5DEF23FB4CD8" width="1024" height="658" srcset="https://qiniu.cuiqingcai.com/wp-content/uploads/2016/03/E6632A0A-9067-4B97-93A2-5DEF23FB4CD8-1024x658.jpg 1024w, https://qiniu.cuiqingcai.com/wp-content/uploads/2016/03/E6632A0A-9067-4B97-93A2-5DEF23FB4CD8-300x193.jpg 300w, https://qiniu.cuiqingcai.com/wp-content/uploads/2016/03/E6632A0A-9067-4B97-93A2-5DEF23FB4CD8.jpg 1140w" sizes="(max-width: 1024px) 100vw, 1024px" /></a></p>
<p>&nbsp;</p>
<p>可以发现程序已经正常启动，并在 5000 这个端口运行。</p>
<h2>一触即发</h2>
<p>接下来在浏览器中输入 <a href="http://localhost:5000" target="_blank">http://localhost:5000</a>，可以看到 PySpider 的主界面，点击右下角的 Create，命名为 taobaomm，当然名称你可以随意取，继续点击 Create。</p>
<p><a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2016/03/QQ20160325-0@2x.png"><img class="alignnone size-large wp-image-2654" src="http://qiniu.cuiqingcai.com/wp-content/uploads/2016/03/QQ20160325-0@2x-1024x397.png" alt="QQ20160325-0@2x" width="1024" height="397" srcset="https://qiniu.cuiqingcai.com/wp-content/uploads/2016/03/QQ20160325-0@2x-1024x397.png 1024w, https://qiniu.cuiqingcai.com/wp-content/uploads/2016/03/QQ20160325-0@2x-300x116.png 300w" sizes="(max-width: 1024px) 100vw, 1024px" /></a></p>
<p>这样我们会进入到一个爬取操作的页面。</p>
<p><a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2016/03/QQ20160325-1@2x.png"><img class="alignnone size-large wp-image-2655" src="http://qiniu.cuiqingcai.com/wp-content/uploads/2016/03/QQ20160325-1@2x-1024x592.png" alt="QQ20160325-1@2x" width="1024" height="592" srcset="https://qiniu.cuiqingcai.com/wp-content/uploads/2016/03/QQ20160325-1@2x-1024x592.png 1024w, https://qiniu.cuiqingcai.com/wp-content/uploads/2016/03/QQ20160325-1@2x-300x173.png 300w" sizes="(max-width: 1024px) 100vw, 1024px" /></a></p>
<p>整个页面分为两栏，左边是爬取页面预览区域，右边是代码编写区域。下面对区块进行说明：</p>
<p>左侧绿色区域：这个请求对应的 JSON 变量，在 PySpider 中，其实每个请求都有与之对应的 JSON 变量，包括回调函数，方法名，请求链接，请求数据等等。</p>
<p>绿色区域右上角Run：点击右上角的 run 按钮，就会执行这个请求，可以在左边的白色区域出现请求的结果。</p>
<p>左侧 enable css selector helper: 抓取页面之后，点击此按钮，可以方便地获取页面中某个元素的 CSS 选择器。</p>
<p>左侧 web: 即抓取的页面的实时预览图。</p>
<p>左侧 html: 抓取页面的 HTML 代码。</p>
<p>左侧 follows: 如果当前抓取方法中又新建了爬取请求，那么接下来的请求就会出现在 follows 里。</p>
<p>左侧 messages: 爬取过程中输出的一些信息。</p>
<p>右侧代码区域: 你可以在右侧区域书写代码，并点击右上角的 Save 按钮保存。</p>
<p>右侧 WebDAV Mode: 打开调试模式，左侧最大化，便于观察调试。</p>
<h2>乘胜追击</h2>
<p>依然是上一节的那个网址，<a href="https://mm.taobao.com/json/request_top_list.htm?page=1" target="_blank">https://mm.taobao.com/json/request_top_list.htm?page=1</a>，其中 page 参数代表页码。所以我们暂时抓取前 30 页。页码到最后可以随意调整。</p>
<p>首先我们定义基地址，然后定义爬取的页码和总页码。</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a6921d33850a062822263" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; float: left; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div><span class="crayon-language">Python</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
from pyspider.libs.base_handler import *


class Handler(BaseHandler):
    crawl_config = {
    }
    
    def __init__(self):
        self.base_url = 'https://mm.taobao.com/json/request_top_list.htm?page='
        self.page_num = 1
        self.total_num = 30

    @every(minutes=24 * 60)
    def on_start(self):
        while self.page_num &lt;= self.total_num:
            url = self.base_url + str(self.page_num)
            print url
            self.crawl(url, callback=self.index_page)
            self.page_num += 1

    @config(age=10 * 24 * 60 * 60)
    def index_page(self, response):
        for each in response.doc('a[href^="http"]').items():
            self.crawl(each.attr.href, callback=self.detail_page)

    @config(priority=2)
    def detail_page(self, response):
        return {
            "url": response.url,
            "title": response.doc('title').text(),
        }</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a6921d33850a062822263-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d33850a062822263-2">2</div><div class="crayon-num" data-line="crayon-5a6921d33850a062822263-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d33850a062822263-4">4</div><div class="crayon-num" data-line="crayon-5a6921d33850a062822263-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d33850a062822263-6">6</div><div class="crayon-num" data-line="crayon-5a6921d33850a062822263-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d33850a062822263-8">8</div><div class="crayon-num" data-line="crayon-5a6921d33850a062822263-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d33850a062822263-10">10</div><div class="crayon-num" data-line="crayon-5a6921d33850a062822263-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d33850a062822263-12">12</div><div class="crayon-num" data-line="crayon-5a6921d33850a062822263-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d33850a062822263-14">14</div><div class="crayon-num" data-line="crayon-5a6921d33850a062822263-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d33850a062822263-16">16</div><div class="crayon-num" data-line="crayon-5a6921d33850a062822263-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d33850a062822263-18">18</div><div class="crayon-num" data-line="crayon-5a6921d33850a062822263-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d33850a062822263-20">20</div><div class="crayon-num" data-line="crayon-5a6921d33850a062822263-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d33850a062822263-22">22</div><div class="crayon-num" data-line="crayon-5a6921d33850a062822263-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d33850a062822263-24">24</div><div class="crayon-num" data-line="crayon-5a6921d33850a062822263-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d33850a062822263-26">26</div><div class="crayon-num" data-line="crayon-5a6921d33850a062822263-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d33850a062822263-28">28</div><div class="crayon-num" data-line="crayon-5a6921d33850a062822263-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d33850a062822263-30">30</div><div class="crayon-num" data-line="crayon-5a6921d33850a062822263-31">31</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a6921d33850a062822263-1"><span class="crayon-st">from</span><span class="crayon-h"> </span><span class="crayon-v">pyspider</span><span class="crayon-sy">.</span><span class="crayon-v">libs</span><span class="crayon-sy">.</span><span class="crayon-e">base_handler </span><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-o">*</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d33850a062822263-2">&nbsp;</div><div class="crayon-line" id="crayon-5a6921d33850a062822263-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d33850a062822263-4"><span class="crayon-t">class</span><span class="crayon-h"> </span><span class="crayon-e">Handler</span><span class="crayon-sy">(</span><span class="crayon-v">BaseHandler</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5a6921d33850a062822263-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">crawl_config</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d33850a062822263-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a6921d33850a062822263-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d33850a062822263-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">def</span><span class="crayon-h"> </span><span class="crayon-e">__init__</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5a6921d33850a062822263-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">base_url</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'https://mm.taobao.com/json/request_top_list.htm?page='</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d33850a062822263-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">page_num</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">1</span></div><div class="crayon-line" id="crayon-5a6921d33850a062822263-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">total_num</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">30</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d33850a062822263-12">&nbsp;</div><div class="crayon-line" id="crayon-5a6921d33850a062822263-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">@</span><span class="crayon-e">every</span><span class="crayon-sy">(</span><span class="crayon-v">minutes</span><span class="crayon-o">=</span><span class="crayon-cn">24</span><span class="crayon-h"> </span><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-cn">60</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d33850a062822263-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">def</span><span class="crayon-h"> </span><span class="crayon-e">on_start</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5a6921d33850a062822263-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">while</span><span class="crayon-h"> </span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">page_num</span><span class="crayon-h"> </span><span class="crayon-o">&lt;=</span><span class="crayon-h"> </span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">total_num</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d33850a062822263-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">url</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">base_url</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-k ">str</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">page_num</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a6921d33850a062822263-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-k ">print</span><span class="crayon-h"> </span><span class="crayon-e">url</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d33850a062822263-18"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-e">crawl</span><span class="crayon-sy">(</span><span class="crayon-v">url</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">callback</span><span class="crayon-o">=</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">index_page</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a6921d33850a062822263-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">page_num</span><span class="crayon-h"> </span><span class="crayon-o">+=</span><span class="crayon-h"> </span><span class="crayon-cn">1</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d33850a062822263-20">&nbsp;</div><div class="crayon-line" id="crayon-5a6921d33850a062822263-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">@</span><span class="crayon-e">config</span><span class="crayon-sy">(</span><span class="crayon-v">age</span><span class="crayon-o">=</span><span class="crayon-cn">10</span><span class="crayon-h"> </span><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-cn">24</span><span class="crayon-h"> </span><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-cn">60</span><span class="crayon-h"> </span><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-cn">60</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d33850a062822263-22"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">def</span><span class="crayon-h"> </span><span class="crayon-e">index_page</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">response</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5a6921d33850a062822263-23"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-e">each </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">response</span><span class="crayon-sy">.</span><span class="crayon-e">doc</span><span class="crayon-sy">(</span><span class="crayon-s">'a[href^="http"]'</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">items</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d33850a062822263-24"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-e">crawl</span><span class="crayon-sy">(</span><span class="crayon-v">each</span><span class="crayon-sy">.</span><span class="crayon-v">attr</span><span class="crayon-sy">.</span><span class="crayon-v">href</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">callback</span><span class="crayon-o">=</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">detail_page</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a6921d33850a062822263-25">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d33850a062822263-26"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">@</span><span class="crayon-e">config</span><span class="crayon-sy">(</span><span class="crayon-v">priority</span><span class="crayon-o">=</span><span class="crayon-cn">2</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a6921d33850a062822263-27"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">def</span><span class="crayon-h"> </span><span class="crayon-e">detail_page</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">response</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d33850a062822263-28"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a6921d33850a062822263-29"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"url"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">response</span><span class="crayon-sy">.</span><span class="crayon-v">url</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d33850a062822263-30"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"title"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">response</span><span class="crayon-sy">.</span><span class="crayon-e">doc</span><span class="crayon-sy">(</span><span class="crayon-s">'title'</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">text</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a6921d33850a062822263-31"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0024 seconds] -->
<p>点击 save 保存代码，然后点击左边的 run，运行代码。</p>
<p><a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2016/03/QQ20160325-2@2x.png"><img class="alignnone size-large wp-image-2657" src="http://qiniu.cuiqingcai.com/wp-content/uploads/2016/03/QQ20160325-2@2x-1024x597.png" alt="QQ20160325-2@2x" width="1024" height="597" srcset="https://qiniu.cuiqingcai.com/wp-content/uploads/2016/03/QQ20160325-2@2x-1024x597.png 1024w, https://qiniu.cuiqingcai.com/wp-content/uploads/2016/03/QQ20160325-2@2x-300x175.png 300w" sizes="(max-width: 1024px) 100vw, 1024px" /></a></p>
<p>运行后我们会发现 follows 出现了 30 这个数字，说明我们接下来有 30 个新请求，点击可查看所有爬取列表。另外控制台也有输出，将所有要爬取的 URL 打印了出来。</p>
<p>然后我们点击左侧任意一个绿色箭头，可以继续爬取这个页面。例如点击第一个 URL，来爬取这个 URL</p>
<p><a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2016/03/QQ20160325-3@2x.png"><img class="alignnone size-large wp-image-2658" src="http://qiniu.cuiqingcai.com/wp-content/uploads/2016/03/QQ20160325-3@2x-1024x347.png" alt="QQ20160325-3@2x" width="1024" height="347" srcset="https://qiniu.cuiqingcai.com/wp-content/uploads/2016/03/QQ20160325-3@2x-1024x347.png 1024w, https://qiniu.cuiqingcai.com/wp-content/uploads/2016/03/QQ20160325-3@2x-300x102.png 300w" sizes="(max-width: 1024px) 100vw, 1024px" /></a></p>
<p>点击之后，再查看下方的 web 页面，可以预览实时页面，这个页面被我们爬取了下来，并且回调到 index_page 函数来处理，目前 index_page 函数我们还没有处理，所以是继续构件了所有的链接请求。</p>
<p><a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2016/03/QQ20160325-4@2x.png"><img class="alignnone size-large wp-image-2659" src="http://qiniu.cuiqingcai.com/wp-content/uploads/2016/03/QQ20160325-4@2x-949x1024.png" alt="QQ20160325-4@2x" width="949" height="1024" srcset="https://qiniu.cuiqingcai.com/wp-content/uploads/2016/03/QQ20160325-4@2x-949x1024.png 949w, https://qiniu.cuiqingcai.com/wp-content/uploads/2016/03/QQ20160325-4@2x-278x300.png 278w" sizes="(max-width: 949px) 100vw, 949px" /></a></p>
<p>好，接下来我们怎么办？当然是进入到 MM 到个人页面去爬取了。</p>
<h2>如火如荼</h2>
<p>爬取到了 MM 的列表，接下来就要进入到 MM 详情页了，修改 index_page 方法。</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a6921d338510328830650" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; float: left; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
def index_page(self, response):
    for each in response.doc('.lady-name').items():
        self.crawl(each.attr.href, callback=self.detail_page)</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a6921d338510328830650-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d338510328830650-2">2</div><div class="crayon-num" data-line="crayon-5a6921d338510328830650-3">3</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a6921d338510328830650-1"><span class="crayon-e">def </span><span class="crayon-e">index_page</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">response</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d338510328830650-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-st">each</span><span class="crayon-h"> </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">response</span><span class="crayon-sy">.</span><span class="crayon-e">doc</span><span class="crayon-sy">(</span><span class="crayon-s">'.lady-name'</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">items</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5a6921d338510328830650-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-e">crawl</span><span class="crayon-sy">(</span><span class="crayon-st">each</span><span class="crayon-sy">.</span><span class="crayon-v">attr</span><span class="crayon-sy">.</span><span class="crayon-v">href</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">callback</span><span class="crayon-o">=</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">detail_page</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0004 seconds] -->
<p>其中 response 就是刚才爬取的列表页，response 其实就相当于列表页的 html 代码，利用 doc 函数，其实是调用了 PyQuery，用 CSS 选择器得到每一个MM的链接，然后重新发起新的请求。</p>
<p>比如，我们这里拿到的 each.attr.href 可能是 <a href="http://mm.taobao.com/self/model_card.htm?user_id=687471686">mm.taobao.com/self/model_card.htm?user_id=687471686</a>，在这里继续调用了 crawl 方法，代表继续抓取这个链接的详情。</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a6921d338514396667720" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; float: left; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
self.crawl(each.attr.href, callback=self.detail_page)</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a6921d338514396667720-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a6921d338514396667720-1"><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-e">crawl</span><span class="crayon-sy">(</span><span class="crayon-st">each</span><span class="crayon-sy">.</span><span class="crayon-v">attr</span><span class="crayon-sy">.</span><span class="crayon-v">href</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">callback</span><span class="crayon-o">=</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">detail_page</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->
<p>然后回调函数就是 detail_page，爬取的结果会作为 response 变量传过去。detail_page 接到这个变量继续下面的分析。</p>
<p><a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2016/03/QQ20160325-7@2x.png"><img class="alignnone size-large wp-image-2663" src="http://qiniu.cuiqingcai.com/wp-content/uploads/2016/03/QQ20160325-7@2x-1024x620.png" alt="QQ20160325-7@2x" width="1024" height="620" srcset="https://qiniu.cuiqingcai.com/wp-content/uploads/2016/03/QQ20160325-7@2x-1024x620.png 1024w, https://qiniu.cuiqingcai.com/wp-content/uploads/2016/03/QQ20160325-7@2x-300x182.png 300w" sizes="(max-width: 1024px) 100vw, 1024px" /></a></p>
<p>好，我们继续点击 run 按钮，开始下一个页面的爬取。得到的结果是这样的。</p>
<p><a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2016/03/QQ20160325-5@2x.png"><img class="alignnone size-large wp-image-2664" src="http://qiniu.cuiqingcai.com/wp-content/uploads/2016/03/QQ20160325-5@2x-864x1024.png" alt="QQ20160325-5@2x" width="864" height="1024" srcset="https://qiniu.cuiqingcai.com/wp-content/uploads/2016/03/QQ20160325-5@2x-864x1024.png 864w, https://qiniu.cuiqingcai.com/wp-content/uploads/2016/03/QQ20160325-5@2x-253x300.png 253w" sizes="(max-width: 864px) 100vw, 864px" /></a></p>
<p>哦，有些页面没有加载出来，这是为什么？</p>
<p>在之前的文章说过，这个页面比较特殊，右边的页面使用 JS 渲染生成的，而普通的抓取是不能得到 JS 渲染后的页面的，这可麻烦了。</p>
<p>然而，幸运的是，PySpider 提供了动态解析 JS 的机制。</p>
<p>友情提示：可能有的小伙伴不知道 PhantomJS，可以参考</p>
<p><a class="dl link" href="http://cuiqingcai.com/2599.html" target="_blank">爬虫JS动态解析</a></p>
<p>因为我们在前面装好了 PhantomJS，所以，这时候就轮到它来出场了。在最开始运行 PySpider 的时候，使用了<code>pyspider all</code>命令，这个命令是把 PySpider 所有的组件启动起来，其中也包括 PhantomJS。</p>
<p>所以我们代码怎么改呢？很简单。</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a6921d338517505836475" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; float: left; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div><span class="crayon-language">Python</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
def index_page(self, response):
    for each in response.doc('.lady-name').items():
        self.crawl(each.attr.href, callback=self.detail_page, fetch_type='js')</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a6921d338517505836475-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d338517505836475-2">2</div><div class="crayon-num" data-line="crayon-5a6921d338517505836475-3">3</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a6921d338517505836475-1"><span class="crayon-r">def</span><span class="crayon-h"> </span><span class="crayon-e">index_page</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">response</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d338517505836475-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-e">each </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">response</span><span class="crayon-sy">.</span><span class="crayon-e">doc</span><span class="crayon-sy">(</span><span class="crayon-s">'.lady-name'</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">items</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5a6921d338517505836475-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-e">crawl</span><span class="crayon-sy">(</span><span class="crayon-v">each</span><span class="crayon-sy">.</span><span class="crayon-v">attr</span><span class="crayon-sy">.</span><span class="crayon-v">href</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">callback</span><span class="crayon-o">=</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">detail_page</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">fetch_type</span><span class="crayon-o">=</span><span class="crayon-s">'js'</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0006 seconds] -->
<p>只是简单地加了一个 fetch_type=&#8217;js&#8217;，点击绿色的返回箭头，重新运行一下。</p>
<p>可以发现，页面已经被我们成功加载出来了，简直不能更帅！</p>
<p><a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2016/03/QQ20160325-9@2x.png"><img class="alignnone size-large wp-image-2666" src="http://qiniu.cuiqingcai.com/wp-content/uploads/2016/03/QQ20160325-9@2x-1004x1024.png" alt="QQ20160325-9@2x" width="1004" height="1024" srcset="https://qiniu.cuiqingcai.com/wp-content/uploads/2016/03/QQ20160325-9@2x-1004x1024.png 1004w, https://qiniu.cuiqingcai.com/wp-content/uploads/2016/03/QQ20160325-9@2x-294x300.png 294w" sizes="(max-width: 1004px) 100vw, 1004px" /></a></p>
<p>看下面的个性域名，所有我们需要的 MM 图片都在那里面了，所以我们需要继续抓取这个页面。</p>
<h2>胜利在望</h2>
<p>好，继续修改 detail_page 方法，然后增加一个 domain_page 方法，用来处理每个 MM 的个性域名。</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a6921d33851b501936504" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; float: left; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div><span class="crayon-language">Python</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
def detail_page(self, response):
    domain = 'https:' + response.doc('.mm-p-domain-info li &gt; span').text()
    print domain
    self.crawl(domain, callback=self.domain_page)
                
def domain_page(self, response):
    pass</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a6921d33851b501936504-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d33851b501936504-2">2</div><div class="crayon-num" data-line="crayon-5a6921d33851b501936504-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d33851b501936504-4">4</div><div class="crayon-num" data-line="crayon-5a6921d33851b501936504-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d33851b501936504-6">6</div><div class="crayon-num" data-line="crayon-5a6921d33851b501936504-7">7</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a6921d33851b501936504-1"><span class="crayon-r">def</span><span class="crayon-h"> </span><span class="crayon-e">detail_page</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">response</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d33851b501936504-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">domain</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'https:'</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">response</span><span class="crayon-sy">.</span><span class="crayon-e">doc</span><span class="crayon-sy">(</span><span class="crayon-s">'.mm-p-domain-info li &gt; span'</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">text</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a6921d33851b501936504-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-k ">print</span><span class="crayon-h"> </span><span class="crayon-e">domain</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d33851b501936504-4"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-e">crawl</span><span class="crayon-sy">(</span><span class="crayon-v">domain</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">callback</span><span class="crayon-o">=</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">domain_page</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a6921d33851b501936504-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d33851b501936504-6"><span class="crayon-r">def</span><span class="crayon-h"> </span><span class="crayon-e">domain_page</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">response</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5a6921d33851b501936504-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">pass</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0006 seconds] -->
<p>好，继续重新 run，预览一下页面，终于，我们看到了 MM 的所有图片。</p>
<p><a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2016/03/QQ20160326-0@2x.png"><img class="alignnone size-large wp-image-2669" src="http://qiniu.cuiqingcai.com/wp-content/uploads/2016/03/QQ20160326-0@2x-1024x546.png" alt="QQ20160326-0@2x" width="1024" height="546" srcset="https://qiniu.cuiqingcai.com/wp-content/uploads/2016/03/QQ20160326-0@2x-1024x546.png 1024w, https://qiniu.cuiqingcai.com/wp-content/uploads/2016/03/QQ20160326-0@2x-300x160.png 300w" sizes="(max-width: 1024px) 100vw, 1024px" /></a></p>
<p>嗯，你懂得！</p>
<h2>只欠东风</h2>
<p>好，照片都有了，那么我们就偷偷地下载下来吧～</p>
<p>完善 domain_page 代码，实现保存简介和遍历保存图片的方法。</p>
<p>在这里，PySpider 有一个特点，所有的 request 都会保存到一个队列中，并具有去重和自动重试机制。所以，我们最好的解决方法是，把每张图片的请求都写成一个 request，然后成功后用文件写入即可，这样会避免图片加载不全的问题。</p>
<p>曾经在之前文章写过图片下载和文件夹创建的过程，在这里就不多赘述原理了，直接上写好的工具类，后面会有完整代码。</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a6921d33851e219017899" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; float: left; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div><span class="crayon-language">Python</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
import os

class Deal:
    def __init__(self):
        self.path = DIR_PATH
        if not self.path.endswith('/'):
            self.path = self.path + '/'
        if not os.path.exists(self.path):
            os.makedirs(self.path)

    def mkDir(self, path):
        path = path.strip()
        dir_path = self.path + path
        exists = os.path.exists(dir_path)
        if not exists:
            os.makedirs(dir_path)
            return dir_path
        else:
            return dir_path

    def saveImg(self, content, path):
        f = open(path, 'wb')
        f.write(content)
        f.close()

    def saveBrief(self, content, dir_path, name):
        file_name = dir_path + "/" + name + ".txt"
        f = open(file_name, "w+")
        f.write(content.encode('utf-8'))

    def getExtension(self, url):
        extension = url.split('.')[-1]
        return extension</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a6921d33851e219017899-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d33851e219017899-2">2</div><div class="crayon-num" data-line="crayon-5a6921d33851e219017899-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d33851e219017899-4">4</div><div class="crayon-num" data-line="crayon-5a6921d33851e219017899-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d33851e219017899-6">6</div><div class="crayon-num" data-line="crayon-5a6921d33851e219017899-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d33851e219017899-8">8</div><div class="crayon-num" data-line="crayon-5a6921d33851e219017899-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d33851e219017899-10">10</div><div class="crayon-num" data-line="crayon-5a6921d33851e219017899-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d33851e219017899-12">12</div><div class="crayon-num" data-line="crayon-5a6921d33851e219017899-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d33851e219017899-14">14</div><div class="crayon-num" data-line="crayon-5a6921d33851e219017899-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d33851e219017899-16">16</div><div class="crayon-num" data-line="crayon-5a6921d33851e219017899-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d33851e219017899-18">18</div><div class="crayon-num" data-line="crayon-5a6921d33851e219017899-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d33851e219017899-20">20</div><div class="crayon-num" data-line="crayon-5a6921d33851e219017899-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d33851e219017899-22">22</div><div class="crayon-num" data-line="crayon-5a6921d33851e219017899-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d33851e219017899-24">24</div><div class="crayon-num" data-line="crayon-5a6921d33851e219017899-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d33851e219017899-26">26</div><div class="crayon-num" data-line="crayon-5a6921d33851e219017899-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d33851e219017899-28">28</div><div class="crayon-num" data-line="crayon-5a6921d33851e219017899-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d33851e219017899-30">30</div><div class="crayon-num" data-line="crayon-5a6921d33851e219017899-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d33851e219017899-32">32</div><div class="crayon-num" data-line="crayon-5a6921d33851e219017899-33">33</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a6921d33851e219017899-1"><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-k ">os</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d33851e219017899-2">&nbsp;</div><div class="crayon-line" id="crayon-5a6921d33851e219017899-3"><span class="crayon-t">class</span><span class="crayon-h"> </span><span class="crayon-v">Deal</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d33851e219017899-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">def</span><span class="crayon-h"> </span><span class="crayon-e">__init__</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5a6921d33851e219017899-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">path</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">DIR_PATH</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d33851e219017899-6"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-st">not</span><span class="crayon-h"> </span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">path</span><span class="crayon-sy">.</span><span class="crayon-e">endswith</span><span class="crayon-sy">(</span><span class="crayon-s">'/'</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5a6921d33851e219017899-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">path</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">path</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">'/'</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d33851e219017899-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-st">not</span><span class="crayon-h"> </span><span class="crayon-k ">os.path</span><span class="crayon-sy">.</span><span class="crayon-e">exists</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">path</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5a6921d33851e219017899-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-k ">os</span><span class="crayon-sy">.</span><span class="crayon-e">makedirs</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">path</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d33851e219017899-10">&nbsp;</div><div class="crayon-line" id="crayon-5a6921d33851e219017899-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">def</span><span class="crayon-h"> </span><span class="crayon-e">mkDir</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">path</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d33851e219017899-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">path</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">path</span><span class="crayon-sy">.</span><span class="crayon-e">strip</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a6921d33851e219017899-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">dir_path</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">path</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-e">path</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d33851e219017899-14"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">exists</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-k ">os.path</span><span class="crayon-sy">.</span><span class="crayon-e">exists</span><span class="crayon-sy">(</span><span class="crayon-v">dir_path</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a6921d33851e219017899-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-st">not</span><span class="crayon-h"> </span><span class="crayon-v">exists</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d33851e219017899-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-k ">os</span><span class="crayon-sy">.</span><span class="crayon-e">makedirs</span><span class="crayon-sy">(</span><span class="crayon-v">dir_path</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a6921d33851e219017899-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-e">dir_path</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d33851e219017899-18"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">else</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5a6921d33851e219017899-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-e">dir_path</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d33851e219017899-20">&nbsp;</div><div class="crayon-line" id="crayon-5a6921d33851e219017899-21"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">def</span><span class="crayon-h"> </span><span class="crayon-e">saveImg</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">content</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">path</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d33851e219017899-22"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">f</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-k ">open</span><span class="crayon-sy">(</span><span class="crayon-v">path</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'wb'</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a6921d33851e219017899-23"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">f</span><span class="crayon-sy">.</span><span class="crayon-e">write</span><span class="crayon-sy">(</span><span class="crayon-v">content</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d33851e219017899-24"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">f</span><span class="crayon-sy">.</span><span class="crayon-e">close</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a6921d33851e219017899-25">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d33851e219017899-26"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">def</span><span class="crayon-h"> </span><span class="crayon-e">saveBrief</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">content</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">dir_path</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">name</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5a6921d33851e219017899-27"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">file_name</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">dir_path</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">"/"</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">name</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">".txt"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d33851e219017899-28"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">f</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-k ">open</span><span class="crayon-sy">(</span><span class="crayon-v">file_name</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"w+"</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a6921d33851e219017899-29"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">f</span><span class="crayon-sy">.</span><span class="crayon-e">write</span><span class="crayon-sy">(</span><span class="crayon-v">content</span><span class="crayon-sy">.</span><span class="crayon-e">encode</span><span class="crayon-sy">(</span><span class="crayon-s">'utf-8'</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d33851e219017899-30">&nbsp;</div><div class="crayon-line" id="crayon-5a6921d33851e219017899-31"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">def</span><span class="crayon-h"> </span><span class="crayon-e">getExtension</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">url</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d33851e219017899-32"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">extension</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">url</span><span class="crayon-sy">.</span><span class="crayon-e">split</span><span class="crayon-sy">(</span><span class="crayon-s">'.'</span><span class="crayon-sy">)</span><span class="crayon-sy">[</span><span class="crayon-o">-</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-5a6921d33851e219017899-33"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">extension</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0026 seconds] -->
<p>这里面包含了四个方法。</p>
<blockquote><p>mkDir：创建文件夹，用来创建 MM 名字对应的文件夹。</p>
<p>saveBrief: 保存简介，保存 MM 的文字简介。</p>
<p>saveImg: 传入图片二进制流以及保存路径，存储图片。</p>
<p>getExtension: 获得链接的后缀名，通过图片 URL 获得。</p></blockquote>
<p>然后在 domain_page 中具体实现如下</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a6921d338521493523349" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; float: left; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
    def domain_page(self, response):
        name = response.doc('.mm-p-model-info-left-top dd &gt; a').text()
        dir_path = self.deal.mkDir(name)
        brief = response.doc('.mm-aixiu-content').text()
        if dir_path:
            imgs = response.doc('.mm-aixiu-content img').items()
            count = 1
            self.deal.saveBrief(brief, dir_path, name)
            for img in imgs:
                url = img.attr.src
                if url:
                    extension = self.deal.getExtension(url)
                    file_name = name + str(count) + '.' + extension
                    count += 1
                    self.crawl(img.attr.src, callback=self.save_img,
                               save={'dir_path': dir_path, 'file_name': file_name})

    def save_img(self, response):
        content = response.content
        dir_path = response.save['dir_path']
        file_name = response.save['file_name']
        file_path = dir_path + '/' + file_name
        self.deal.saveImg(content, file_path)</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a6921d338521493523349-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d338521493523349-2">2</div><div class="crayon-num" data-line="crayon-5a6921d338521493523349-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d338521493523349-4">4</div><div class="crayon-num" data-line="crayon-5a6921d338521493523349-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d338521493523349-6">6</div><div class="crayon-num" data-line="crayon-5a6921d338521493523349-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d338521493523349-8">8</div><div class="crayon-num" data-line="crayon-5a6921d338521493523349-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d338521493523349-10">10</div><div class="crayon-num" data-line="crayon-5a6921d338521493523349-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d338521493523349-12">12</div><div class="crayon-num" data-line="crayon-5a6921d338521493523349-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d338521493523349-14">14</div><div class="crayon-num" data-line="crayon-5a6921d338521493523349-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d338521493523349-16">16</div><div class="crayon-num" data-line="crayon-5a6921d338521493523349-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d338521493523349-18">18</div><div class="crayon-num" data-line="crayon-5a6921d338521493523349-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d338521493523349-20">20</div><div class="crayon-num" data-line="crayon-5a6921d338521493523349-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d338521493523349-22">22</div><div class="crayon-num" data-line="crayon-5a6921d338521493523349-23">23</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a6921d338521493523349-1"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">def </span><span class="crayon-e">domain_page</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">response</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d338521493523349-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">name</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">response</span><span class="crayon-sy">.</span><span class="crayon-e">doc</span><span class="crayon-sy">(</span><span class="crayon-s">'.mm-p-model-info-left-top dd &gt; a'</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">text</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a6921d338521493523349-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">dir_path</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">deal</span><span class="crayon-sy">.</span><span class="crayon-e">mkDir</span><span class="crayon-sy">(</span><span class="crayon-v">name</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d338521493523349-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">brief</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">response</span><span class="crayon-sy">.</span><span class="crayon-e">doc</span><span class="crayon-sy">(</span><span class="crayon-s">'.mm-aixiu-content'</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">text</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a6921d338521493523349-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-v">dir_path</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d338521493523349-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">imgs</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">response</span><span class="crayon-sy">.</span><span class="crayon-e">doc</span><span class="crayon-sy">(</span><span class="crayon-s">'.mm-aixiu-content img'</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">items</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a6921d338521493523349-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">count</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">1</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d338521493523349-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">deal</span><span class="crayon-sy">.</span><span class="crayon-e">saveBrief</span><span class="crayon-sy">(</span><span class="crayon-v">brief</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">dir_path</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">name</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a6921d338521493523349-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-e">img </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">imgs</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d338521493523349-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">url</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">img</span><span class="crayon-sy">.</span><span class="crayon-v">attr</span><span class="crayon-sy">.</span><span class="crayon-e">src</span></div><div class="crayon-line" id="crayon-5a6921d338521493523349-11"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-v">url</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d338521493523349-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">extension</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">deal</span><span class="crayon-sy">.</span><span class="crayon-e">getExtension</span><span class="crayon-sy">(</span><span class="crayon-v">url</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a6921d338521493523349-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">file_name</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">name</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-e">str</span><span class="crayon-sy">(</span><span class="crayon-v">count</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">'.'</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-e">extension</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d338521493523349-14"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">count</span><span class="crayon-h"> </span><span class="crayon-o">+=</span><span class="crayon-h"> </span><span class="crayon-cn">1</span></div><div class="crayon-line" id="crayon-5a6921d338521493523349-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-e">crawl</span><span class="crayon-sy">(</span><span class="crayon-v">img</span><span class="crayon-sy">.</span><span class="crayon-v">attr</span><span class="crayon-sy">.</span><span class="crayon-v">src</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">callback</span><span class="crayon-o">=</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">save_img</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d338521493523349-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">save</span><span class="crayon-o">=</span><span class="crayon-sy">{</span><span class="crayon-s">'dir_path'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">dir_path</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'file_name'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">file_name</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a6921d338521493523349-17">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d338521493523349-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">def </span><span class="crayon-e">save_img</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">response</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5a6921d338521493523349-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">content</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">response</span><span class="crayon-sy">.</span><span class="crayon-e">content</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d338521493523349-20"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">dir_path</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">response</span><span class="crayon-sy">.</span><span class="crayon-v">save</span><span class="crayon-sy">[</span><span class="crayon-s">'dir_path'</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-5a6921d338521493523349-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">file_name</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">response</span><span class="crayon-sy">.</span><span class="crayon-v">save</span><span class="crayon-sy">[</span><span class="crayon-s">'file_name'</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d338521493523349-22"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">file_path</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">dir_path</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">'/'</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-e">file_name</span></div><div class="crayon-line" id="crayon-5a6921d338521493523349-23"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">deal</span><span class="crayon-sy">.</span><span class="crayon-e">saveImg</span><span class="crayon-sy">(</span><span class="crayon-v">content</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">file_path</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0020 seconds] -->
<p>以上方法首先获取了页面的所有文字，然后调用了 saveBrief 方法存储简介。</p>
<p>然后遍历了 MM 所有的图片，并通过链接获取后缀名，和 MM 的姓名以及自增计数组合成一个新的文件名，调用 saveImg 方法保存图片。</p>
<h2>炉火纯青</h2>
<p>好，基本的东西都写好了。</p>
<p>接下来。继续完善一下代码。第一版本完成。</p>
<p><strong>版本一功能：按照淘宝MM姓名分文件夹，存储MM的 txt 文本简介以及所有美图至本地。</strong></p>
<p>可配置项：</p>
<blockquote>
<ul>
<li>PAGE_START: 列表开始页码</li>
<li>PAGE_END: 列表结束页码</li>
<li>DIR_PATH: 资源保存路径</li>
</ul>
</blockquote>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a6921d338525124851174" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; float: left; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div><span class="crayon-language">Python</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
#!/usr/bin/env python
# -*- encoding: utf-8 -*-
# Created on 2016-03-25 00:59:45
# Project: taobaomm

from pyspider.libs.base_handler import *

PAGE_START = 1
PAGE_END = 30
DIR_PATH = '/var/py/mm'


class Handler(BaseHandler):
    crawl_config = {
    }

    def __init__(self):
        self.base_url = 'https://mm.taobao.com/json/request_top_list.htm?page='
        self.page_num = PAGE_START
        self.total_num = PAGE_END
        self.deal = Deal()

    def on_start(self):
        while self.page_num &lt;= self.total_num:
            url = self.base_url + str(self.page_num)
            self.crawl(url, callback=self.index_page)
            self.page_num += 1

    def index_page(self, response):
        for each in response.doc('.lady-name').items():
            self.crawl(each.attr.href, callback=self.detail_page, fetch_type='js')

    def detail_page(self, response):
        domain = response.doc('.mm-p-domain-info li &gt; span').text()
        if domain:
            page_url = 'https:' + domain
            self.crawl(page_url, callback=self.domain_page)

    def domain_page(self, response):
        name = response.doc('.mm-p-model-info-left-top dd &gt; a').text()
        dir_path = self.deal.mkDir(name)
        brief = response.doc('.mm-aixiu-content').text()
        if dir_path:
            imgs = response.doc('.mm-aixiu-content img').items()
            count = 1
            self.deal.saveBrief(brief, dir_path, name)
            for img in imgs:
                url = img.attr.src
                if url:
                    extension = self.deal.getExtension(url)
                    file_name = name + str(count) + '.' + extension
                    count += 1
                    self.crawl(img.attr.src, callback=self.save_img,
                               save={'dir_path': dir_path, 'file_name': file_name})

    def save_img(self, response):
        content = response.content
        dir_path = response.save['dir_path']
        file_name = response.save['file_name']
        file_path = dir_path + '/' + file_name
        self.deal.saveImg(content, file_path)


import os

class Deal:
    def __init__(self):
        self.path = DIR_PATH
        if not self.path.endswith('/'):
            self.path = self.path + '/'
        if not os.path.exists(self.path):
            os.makedirs(self.path)

    def mkDir(self, path):
        path = path.strip()
        dir_path = self.path + path
        exists = os.path.exists(dir_path)
        if not exists:
            os.makedirs(dir_path)
            return dir_path
        else:
            return dir_path

    def saveImg(self, content, path):
        f = open(path, 'wb')
        f.write(content)
        f.close()

    def saveBrief(self, content, dir_path, name):
        file_name = dir_path + "/" + name + ".txt"
        f = open(file_name, "w+")
        f.write(content.encode('utf-8'))

    def getExtension(self, url):
        extension = url.split('.')[-1]
        return extension</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a6921d338525124851174-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d338525124851174-2">2</div><div class="crayon-num" data-line="crayon-5a6921d338525124851174-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d338525124851174-4">4</div><div class="crayon-num" data-line="crayon-5a6921d338525124851174-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d338525124851174-6">6</div><div class="crayon-num" data-line="crayon-5a6921d338525124851174-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d338525124851174-8">8</div><div class="crayon-num" data-line="crayon-5a6921d338525124851174-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d338525124851174-10">10</div><div class="crayon-num" data-line="crayon-5a6921d338525124851174-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d338525124851174-12">12</div><div class="crayon-num" data-line="crayon-5a6921d338525124851174-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d338525124851174-14">14</div><div class="crayon-num" data-line="crayon-5a6921d338525124851174-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d338525124851174-16">16</div><div class="crayon-num" data-line="crayon-5a6921d338525124851174-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d338525124851174-18">18</div><div class="crayon-num" data-line="crayon-5a6921d338525124851174-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d338525124851174-20">20</div><div class="crayon-num" data-line="crayon-5a6921d338525124851174-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d338525124851174-22">22</div><div class="crayon-num" data-line="crayon-5a6921d338525124851174-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d338525124851174-24">24</div><div class="crayon-num" data-line="crayon-5a6921d338525124851174-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d338525124851174-26">26</div><div class="crayon-num" data-line="crayon-5a6921d338525124851174-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d338525124851174-28">28</div><div class="crayon-num" data-line="crayon-5a6921d338525124851174-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d338525124851174-30">30</div><div class="crayon-num" data-line="crayon-5a6921d338525124851174-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d338525124851174-32">32</div><div class="crayon-num" data-line="crayon-5a6921d338525124851174-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d338525124851174-34">34</div><div class="crayon-num" data-line="crayon-5a6921d338525124851174-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d338525124851174-36">36</div><div class="crayon-num" data-line="crayon-5a6921d338525124851174-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d338525124851174-38">38</div><div class="crayon-num" data-line="crayon-5a6921d338525124851174-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d338525124851174-40">40</div><div class="crayon-num" data-line="crayon-5a6921d338525124851174-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d338525124851174-42">42</div><div class="crayon-num" data-line="crayon-5a6921d338525124851174-43">43</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d338525124851174-44">44</div><div class="crayon-num" data-line="crayon-5a6921d338525124851174-45">45</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d338525124851174-46">46</div><div class="crayon-num" data-line="crayon-5a6921d338525124851174-47">47</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d338525124851174-48">48</div><div class="crayon-num" data-line="crayon-5a6921d338525124851174-49">49</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d338525124851174-50">50</div><div class="crayon-num" data-line="crayon-5a6921d338525124851174-51">51</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d338525124851174-52">52</div><div class="crayon-num" data-line="crayon-5a6921d338525124851174-53">53</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d338525124851174-54">54</div><div class="crayon-num" data-line="crayon-5a6921d338525124851174-55">55</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d338525124851174-56">56</div><div class="crayon-num" data-line="crayon-5a6921d338525124851174-57">57</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d338525124851174-58">58</div><div class="crayon-num" data-line="crayon-5a6921d338525124851174-59">59</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d338525124851174-60">60</div><div class="crayon-num" data-line="crayon-5a6921d338525124851174-61">61</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d338525124851174-62">62</div><div class="crayon-num" data-line="crayon-5a6921d338525124851174-63">63</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d338525124851174-64">64</div><div class="crayon-num" data-line="crayon-5a6921d338525124851174-65">65</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d338525124851174-66">66</div><div class="crayon-num" data-line="crayon-5a6921d338525124851174-67">67</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d338525124851174-68">68</div><div class="crayon-num" data-line="crayon-5a6921d338525124851174-69">69</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d338525124851174-70">70</div><div class="crayon-num" data-line="crayon-5a6921d338525124851174-71">71</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d338525124851174-72">72</div><div class="crayon-num" data-line="crayon-5a6921d338525124851174-73">73</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d338525124851174-74">74</div><div class="crayon-num" data-line="crayon-5a6921d338525124851174-75">75</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d338525124851174-76">76</div><div class="crayon-num" data-line="crayon-5a6921d338525124851174-77">77</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d338525124851174-78">78</div><div class="crayon-num" data-line="crayon-5a6921d338525124851174-79">79</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d338525124851174-80">80</div><div class="crayon-num" data-line="crayon-5a6921d338525124851174-81">81</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d338525124851174-82">82</div><div class="crayon-num" data-line="crayon-5a6921d338525124851174-83">83</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d338525124851174-84">84</div><div class="crayon-num" data-line="crayon-5a6921d338525124851174-85">85</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d338525124851174-86">86</div><div class="crayon-num" data-line="crayon-5a6921d338525124851174-87">87</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d338525124851174-88">88</div><div class="crayon-num" data-line="crayon-5a6921d338525124851174-89">89</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d338525124851174-90">90</div><div class="crayon-num" data-line="crayon-5a6921d338525124851174-91">91</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d338525124851174-92">92</div><div class="crayon-num" data-line="crayon-5a6921d338525124851174-93">93</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d338525124851174-94">94</div><div class="crayon-num" data-line="crayon-5a6921d338525124851174-95">95</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6921d338525124851174-96">96</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a6921d338525124851174-1"><span class="crayon-c">#!/usr/bin/env python</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d338525124851174-2"><span class="crayon-c"># -*- encoding: utf-8 -*-</span></div><div class="crayon-line" id="crayon-5a6921d338525124851174-3"><span class="crayon-c"># Created on 2016-03-25 00:59:45</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d338525124851174-4"><span class="crayon-c"># Project: taobaomm</span></div><div class="crayon-line" id="crayon-5a6921d338525124851174-5">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d338525124851174-6"><span class="crayon-st">from</span><span class="crayon-h"> </span><span class="crayon-v">pyspider</span><span class="crayon-sy">.</span><span class="crayon-v">libs</span><span class="crayon-sy">.</span><span class="crayon-e">base_handler </span><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-o">*</span></div><div class="crayon-line" id="crayon-5a6921d338525124851174-7">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d338525124851174-8"><span class="crayon-v">PAGE_START</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">1</span></div><div class="crayon-line" id="crayon-5a6921d338525124851174-9"><span class="crayon-v">PAGE_END</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">30</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d338525124851174-10"><span class="crayon-v">DIR_PATH</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'/var/py/mm'</span></div><div class="crayon-line" id="crayon-5a6921d338525124851174-11">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d338525124851174-12">&nbsp;</div><div class="crayon-line" id="crayon-5a6921d338525124851174-13"><span class="crayon-t">class</span><span class="crayon-h"> </span><span class="crayon-e">Handler</span><span class="crayon-sy">(</span><span class="crayon-v">BaseHandler</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d338525124851174-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">crawl_config</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a6921d338525124851174-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d338525124851174-16">&nbsp;</div><div class="crayon-line" id="crayon-5a6921d338525124851174-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">def</span><span class="crayon-h"> </span><span class="crayon-e">__init__</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d338525124851174-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">base_url</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'https://mm.taobao.com/json/request_top_list.htm?page='</span></div><div class="crayon-line" id="crayon-5a6921d338525124851174-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">page_num</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">PAGE_START</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d338525124851174-20"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">total_num</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">PAGE_END</span></div><div class="crayon-line" id="crayon-5a6921d338525124851174-21"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">deal</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">Deal</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d338525124851174-22">&nbsp;</div><div class="crayon-line" id="crayon-5a6921d338525124851174-23"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">def</span><span class="crayon-h"> </span><span class="crayon-e">on_start</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d338525124851174-24"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">while</span><span class="crayon-h"> </span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">page_num</span><span class="crayon-h"> </span><span class="crayon-o">&lt;=</span><span class="crayon-h"> </span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">total_num</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5a6921d338525124851174-25"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">url</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">base_url</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-k ">str</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">page_num</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d338525124851174-26"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-e">crawl</span><span class="crayon-sy">(</span><span class="crayon-v">url</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">callback</span><span class="crayon-o">=</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">index_page</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a6921d338525124851174-27"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">page_num</span><span class="crayon-h"> </span><span class="crayon-o">+=</span><span class="crayon-h"> </span><span class="crayon-cn">1</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d338525124851174-28">&nbsp;</div><div class="crayon-line" id="crayon-5a6921d338525124851174-29"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">def</span><span class="crayon-h"> </span><span class="crayon-e">index_page</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">response</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d338525124851174-30"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-e">each </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">response</span><span class="crayon-sy">.</span><span class="crayon-e">doc</span><span class="crayon-sy">(</span><span class="crayon-s">'.lady-name'</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">items</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5a6921d338525124851174-31"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-e">crawl</span><span class="crayon-sy">(</span><span class="crayon-v">each</span><span class="crayon-sy">.</span><span class="crayon-v">attr</span><span class="crayon-sy">.</span><span class="crayon-v">href</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">callback</span><span class="crayon-o">=</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">detail_page</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">fetch_type</span><span class="crayon-o">=</span><span class="crayon-s">'js'</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d338525124851174-32">&nbsp;</div><div class="crayon-line" id="crayon-5a6921d338525124851174-33"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">def</span><span class="crayon-h"> </span><span class="crayon-e">detail_page</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">response</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d338525124851174-34"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">domain</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">response</span><span class="crayon-sy">.</span><span class="crayon-e">doc</span><span class="crayon-sy">(</span><span class="crayon-s">'.mm-p-domain-info li &gt; span'</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">text</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a6921d338525124851174-35"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-v">domain</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d338525124851174-36"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">page_url</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'https:'</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-e">domain</span></div><div class="crayon-line" id="crayon-5a6921d338525124851174-37"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-e">crawl</span><span class="crayon-sy">(</span><span class="crayon-v">page_url</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">callback</span><span class="crayon-o">=</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">domain_page</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d338525124851174-38">&nbsp;</div><div class="crayon-line" id="crayon-5a6921d338525124851174-39"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">def</span><span class="crayon-h"> </span><span class="crayon-e">domain_page</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">response</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d338525124851174-40"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">name</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">response</span><span class="crayon-sy">.</span><span class="crayon-e">doc</span><span class="crayon-sy">(</span><span class="crayon-s">'.mm-p-model-info-left-top dd &gt; a'</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">text</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a6921d338525124851174-41"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">dir_path</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">deal</span><span class="crayon-sy">.</span><span class="crayon-e">mkDir</span><span class="crayon-sy">(</span><span class="crayon-v">name</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d338525124851174-42"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">brief</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">response</span><span class="crayon-sy">.</span><span class="crayon-e">doc</span><span class="crayon-sy">(</span><span class="crayon-s">'.mm-aixiu-content'</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">text</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a6921d338525124851174-43"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-v">dir_path</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d338525124851174-44"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">imgs</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">response</span><span class="crayon-sy">.</span><span class="crayon-e">doc</span><span class="crayon-sy">(</span><span class="crayon-s">'.mm-aixiu-content img'</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">items</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a6921d338525124851174-45"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">count</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">1</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d338525124851174-46"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">deal</span><span class="crayon-sy">.</span><span class="crayon-e">saveBrief</span><span class="crayon-sy">(</span><span class="crayon-v">brief</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">dir_path</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">name</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a6921d338525124851174-47"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-e">img </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">imgs</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d338525124851174-48"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">url</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">img</span><span class="crayon-sy">.</span><span class="crayon-v">attr</span><span class="crayon-sy">.</span><span class="crayon-e">src</span></div><div class="crayon-line" id="crayon-5a6921d338525124851174-49"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-v">url</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d338525124851174-50"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">extension</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">deal</span><span class="crayon-sy">.</span><span class="crayon-e">getExtension</span><span class="crayon-sy">(</span><span class="crayon-v">url</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a6921d338525124851174-51"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">file_name</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">name</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-k ">str</span><span class="crayon-sy">(</span><span class="crayon-v">count</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">'.'</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-e">extension</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d338525124851174-52"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">count</span><span class="crayon-h"> </span><span class="crayon-o">+=</span><span class="crayon-h"> </span><span class="crayon-cn">1</span></div><div class="crayon-line" id="crayon-5a6921d338525124851174-53"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-e">crawl</span><span class="crayon-sy">(</span><span class="crayon-v">img</span><span class="crayon-sy">.</span><span class="crayon-v">attr</span><span class="crayon-sy">.</span><span class="crayon-v">src</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">callback</span><span class="crayon-o">=</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">save_img</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d338525124851174-54"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">save</span><span class="crayon-o">=</span><span class="crayon-sy">{</span><span class="crayon-s">'dir_path'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">dir_path</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'file_name'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">file_name</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a6921d338525124851174-55">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d338525124851174-56"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">def</span><span class="crayon-h"> </span><span class="crayon-e">save_img</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">response</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5a6921d338525124851174-57"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">content</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">response</span><span class="crayon-sy">.</span><span class="crayon-e">content</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d338525124851174-58"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">dir_path</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">response</span><span class="crayon-sy">.</span><span class="crayon-v">save</span><span class="crayon-sy">[</span><span class="crayon-s">'dir_path'</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-5a6921d338525124851174-59"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">file_name</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">response</span><span class="crayon-sy">.</span><span class="crayon-v">save</span><span class="crayon-sy">[</span><span class="crayon-s">'file_name'</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d338525124851174-60"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">file_path</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">dir_path</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">'/'</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-e">file_name</span></div><div class="crayon-line" id="crayon-5a6921d338525124851174-61"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">deal</span><span class="crayon-sy">.</span><span class="crayon-e">saveImg</span><span class="crayon-sy">(</span><span class="crayon-v">content</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">file_path</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d338525124851174-62">&nbsp;</div><div class="crayon-line" id="crayon-5a6921d338525124851174-63">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d338525124851174-64"><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-k ">os</span></div><div class="crayon-line" id="crayon-5a6921d338525124851174-65">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d338525124851174-66"><span class="crayon-t">class</span><span class="crayon-h"> </span><span class="crayon-v">Deal</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5a6921d338525124851174-67"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">def</span><span class="crayon-h"> </span><span class="crayon-e">__init__</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d338525124851174-68"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">path</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">DIR_PATH</span></div><div class="crayon-line" id="crayon-5a6921d338525124851174-69"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-st">not</span><span class="crayon-h"> </span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">path</span><span class="crayon-sy">.</span><span class="crayon-e">endswith</span><span class="crayon-sy">(</span><span class="crayon-s">'/'</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d338525124851174-70"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">path</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">path</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">'/'</span></div><div class="crayon-line" id="crayon-5a6921d338525124851174-71"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-st">not</span><span class="crayon-h"> </span><span class="crayon-k ">os.path</span><span class="crayon-sy">.</span><span class="crayon-e">exists</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">path</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d338525124851174-72"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-k ">os</span><span class="crayon-sy">.</span><span class="crayon-e">makedirs</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">path</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a6921d338525124851174-73">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d338525124851174-74"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">def</span><span class="crayon-h"> </span><span class="crayon-e">mkDir</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">path</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5a6921d338525124851174-75"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">path</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">path</span><span class="crayon-sy">.</span><span class="crayon-e">strip</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d338525124851174-76"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">dir_path</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">path</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-e">path</span></div><div class="crayon-line" id="crayon-5a6921d338525124851174-77"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">exists</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-k ">os.path</span><span class="crayon-sy">.</span><span class="crayon-e">exists</span><span class="crayon-sy">(</span><span class="crayon-v">dir_path</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d338525124851174-78"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-st">not</span><span class="crayon-h"> </span><span class="crayon-v">exists</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5a6921d338525124851174-79"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-k ">os</span><span class="crayon-sy">.</span><span class="crayon-e">makedirs</span><span class="crayon-sy">(</span><span class="crayon-v">dir_path</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d338525124851174-80"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-e">dir_path</span></div><div class="crayon-line" id="crayon-5a6921d338525124851174-81"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">else</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d338525124851174-82"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-e">dir_path</span></div><div class="crayon-line" id="crayon-5a6921d338525124851174-83">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d338525124851174-84"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">def</span><span class="crayon-h"> </span><span class="crayon-e">saveImg</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">content</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">path</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5a6921d338525124851174-85"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">f</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-k ">open</span><span class="crayon-sy">(</span><span class="crayon-v">path</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'wb'</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d338525124851174-86"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">f</span><span class="crayon-sy">.</span><span class="crayon-e">write</span><span class="crayon-sy">(</span><span class="crayon-v">content</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a6921d338525124851174-87"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">f</span><span class="crayon-sy">.</span><span class="crayon-e">close</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d338525124851174-88">&nbsp;</div><div class="crayon-line" id="crayon-5a6921d338525124851174-89"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">def</span><span class="crayon-h"> </span><span class="crayon-e">saveBrief</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">content</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">dir_path</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">name</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d338525124851174-90"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">file_name</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">dir_path</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">"/"</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">name</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">".txt"</span></div><div class="crayon-line" id="crayon-5a6921d338525124851174-91"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">f</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-k ">open</span><span class="crayon-sy">(</span><span class="crayon-v">file_name</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"w+"</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d338525124851174-92"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">f</span><span class="crayon-sy">.</span><span class="crayon-e">write</span><span class="crayon-sy">(</span><span class="crayon-v">content</span><span class="crayon-sy">.</span><span class="crayon-e">encode</span><span class="crayon-sy">(</span><span class="crayon-s">'utf-8'</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a6921d338525124851174-93">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d338525124851174-94"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">def</span><span class="crayon-h"> </span><span class="crayon-e">getExtension</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">url</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5a6921d338525124851174-95"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">extension</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">url</span><span class="crayon-sy">.</span><span class="crayon-e">split</span><span class="crayon-sy">(</span><span class="crayon-s">'.'</span><span class="crayon-sy">)</span><span class="crayon-sy">[</span><span class="crayon-o">-</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6921d338525124851174-96"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">extension</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0073 seconds] -->
<p>粘贴到你的 PySpider 中运行吧～</p>
<p>其中有一些知识点，我会在后面作详细的用法总结。大家可以先体会一下代码。</p>
<p><a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2016/03/QQ20160326-1@2x.png"><img class="alignnone size-large wp-image-2670" src="http://qiniu.cuiqingcai.com/wp-content/uploads/2016/03/QQ20160326-1@2x-1024x418.png" alt="QQ20160326-1@2x" width="1024" height="418" srcset="https://qiniu.cuiqingcai.com/wp-content/uploads/2016/03/QQ20160326-1@2x-1024x418.png 1024w, https://qiniu.cuiqingcai.com/wp-content/uploads/2016/03/QQ20160326-1@2x-300x122.png 300w" sizes="(max-width: 1024px) 100vw, 1024px" /></a></p>
<p>保存之后，点击下方的 run，你会发现，海量的 MM 图片已经涌入你的电脑啦～</p>
<p><a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2016/03/QQ20160326-2@2x.png"><img class="alignnone size-large wp-image-2672" src="http://qiniu.cuiqingcai.com/wp-content/uploads/2016/03/QQ20160326-2@2x-1024x831.png" alt="QQ20160326-2@2x" width="1024" height="831" srcset="https://qiniu.cuiqingcai.com/wp-content/uploads/2016/03/QQ20160326-2@2x-1024x831.png 1024w, https://qiniu.cuiqingcai.com/wp-content/uploads/2016/03/QQ20160326-2@2x-300x244.png 300w, https://qiniu.cuiqingcai.com/wp-content/uploads/2016/03/QQ20160326-2@2x.png 1540w" sizes="(max-width: 1024px) 100vw, 1024px" /></a> <a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2016/03/QQ20160326-3@2x.png"><img class="alignnone size-large wp-image-2673" src="http://qiniu.cuiqingcai.com/wp-content/uploads/2016/03/QQ20160326-3@2x-1024x831.png" alt="QQ20160326-3@2x" width="1024" height="831" srcset="https://qiniu.cuiqingcai.com/wp-content/uploads/2016/03/QQ20160326-3@2x-1024x831.png 1024w, https://qiniu.cuiqingcai.com/wp-content/uploads/2016/03/QQ20160326-3@2x-300x244.png 300w, https://qiniu.cuiqingcai.com/wp-content/uploads/2016/03/QQ20160326-3@2x.png 1540w" sizes="(max-width: 1024px) 100vw, 1024px" /></a></p>
<p>&nbsp;</p>
<p>需要解释？需要我也不解释！</p>
<h2>项目代码</h2>
<p>&nbsp;</p>
<p><a class="dl link" href="https://github.com/cqcre/TaobaoMM" target="_blank">TaobaoMM &#8211; GitHub</a></p>
<h2>尚方宝剑</h2>
<p>如果想了解 PySpider 的更多内容，可以查看官方文档。</p>
<p><a class="dl link" href="http://docs.pyspider.org/en/latest/Quickstart/" target="_blank">官方文档</a></p>
<p>转载请注明：<a href="https://cuiqingcai.com">静觅</a> &raquo; <a href="https://cuiqingcai.com/2652.html">Python爬虫进阶四之PySpider的用法</a></p>

      
<div class="article-social">
			<a href="javascript:;" data-action="ding" data-id="2652" id="Addlike" class="action"><i class="fa fa-heart-o"></i>喜欢 (<span class="count">215</span>)</a><span class="or">or</span><span class="action action-share bdsharebuttonbox"><i class="fa fa-share-alt"></i>分享 (<span class="bds_count" data-cmd="count" title="累计分享0次">0</span>)<div class="action-popover"><div class="popover top in"><div class="arrow"></div><div class="popover-content"><a href="#" class="sinaweibo fa fa-weibo" data-cmd="tsina" title="分享到新浪微博"></a><a href="#" class="bds_qzone fa fa-star" data-cmd="qzone" title="分享到QQ空间"></a><a href="#" class="tencentweibo fa fa-tencent-weibo" data-cmd="tqq" title="分享到腾讯微博"></a><a href="#" class="qq fa fa-qq" data-cmd="sqq" title="分享到QQ好友"></a><a href="#" class="bds_renren fa fa-renren" data-cmd="renren" title="分享到人人网"></a><a href="#" class="bds_weixin fa fa-weixin" data-cmd="weixin" title="分享到微信"></a><a href="#" class="bds_more fa fa-ellipsis-h" data-cmd="more"></a></div></div></div></span>	
</div>
	</article>	
				<div style="background:#fff;padding-bottom:20px;font-size:14px;">
			<p style="text-align: center;margin-bottom:20px;padding:0px 20px">您的支持是博主写作最大的动力，如果您喜欢我的文章，感觉我的文章对您有帮助，请狠狠点击下面的</p>
			<p style="text-align: center;"><a href="http://cuiqingcai.com/donate"> <input style="width: 310px; margin: 10px auto 0px; background-color: #f58a87; color: #ffffff; height: 40px; border: none; font-family: 'Microsoft Yahei'; font-size: 16px; letter-spacing: 2px;" type="button" value="我要小额赞助" /></a>
		</div>
		<div class="">
    <div id="qrcodes">
        <div class="row">
            <div class="col-xs-12 col-md-4">
                <div class="p-sm" style="overflow: hidden; padding-bottom: 15px;">
                    <p class="text-center">想结交更多的朋友吗?</p>
                    <p class="text-center">来进击的Coder瞧瞧吧</p>
                    <div class="text-center">
                        <img class="code-img"
                             src="http://qiniu.cuiqingcai.com/wp-content/uploads/2017/05/QRCode1.png"/>
                    </div>
                    <div class="text-center">
                        <p style="color: #e9415a; font-size: 15px;">进击的Coder</p>
                        <p>
                            <span>QQ群号 </span><span style="color: #e9415a; font-size: 15px; margin-bottom: 45px;"> 99350970  </span><a class="btn btn-xs btn-danger"
                                                                                                                                       href="http://shang.qq.com/wpa/qunwpa?idkey=31ed8a7d15339353ad090379bb9243118f90220324a7a0f4b453bce52dcd02b6"
                                                                                                                                       target="_blank">立即加入</a>
                        </p>
                    </div>
                </div>
            </div>

            <div class="col-xs-12 col-md-4">
                <div class="p-sm" style="overflow: hidden; padding-bottom: 15px;">
                    <p class="text-center">进击的Coder灌水太多?</p>
                    <p class="text-center">这里是纯粹的技术领地</p>
                    <div class="text-center">
                        <img class="code-img"
                             src="http://qiniu.cuiqingcai.com/wp-content/uploads/2017/05/QRCode2.png"/>
                    </div>
                    <div class="text-center">
                        <p style="color: #18A57D; font-size: 15px;">激进的Coder</p>
                        <p>
                            <span>QQ群号 </span><span style="color: #18A57D; font-size: 15px; margin-bottom: 45px;"> 627725766  </span><a target="_blank" class="btn btn-xs" style="background-color: #18A57D"
                                                                                                                                        href="//shang.qq.com/wpa/qunwpa?idkey=6096ee3de52a5a948a9fe45178ed9e9ba9084b909815c5f7775b85f4734fdda1">立即加入</a>
                        </p>
                    </div>
                </div>
            </div>
            <div class="col-xs-12 col-md-4">
                <div class="p-sm" style="overflow: hidden; padding-bottom: 15px;">
                    <p class="text-center">想找人聊天解闷？想要学习干货？</p>
                    <p class="text-center">微信公众号进击的Coder为你打造</p>
                    <div class="text-center">
                        <img class="code-img"
                             src="http://qiniu.cuiqingcai.com/wp-content/uploads/2017/05/qrcode_for_gh_5b0546ddd2d0_430.jpg"/>
                    </div>
                    <div class="text-center">
                        <p style="color: #e9415a; font-size: 15px;">进击的Coder</p>
                        <p>
                            <span>微信公众号 </span><span style="color: #e9415a; font-size: 15px; margin-bottom: 45px;"> 扫一扫关注</span>
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <style>
    #qrcodes {
        min-height: 350px;
    background: white;
    }
    #qrcodes .btn {
        background-color: #eb586f;
        height: 22px;
        line-height: 22px !important;
        font-size: 12px;
        color: white;padding: initial;font-size: 12px;width: 65px;
    }
    .article-content #qrcodes{
        text-indent: 0px !important;
    }
    .article-content #qrcodes a {
        color: white;
    }
    #qrcodes .btn:hover {
        color: white;
    }
    #qrcodes .code-img {
        width: 180px;
    }
    </style>
    <style>
        #qrcodes * {
            -webkit-box-sizing: border-box;
            -moz-box-sizing: border-box;
            box-sizing: border-box;
        }
        *:before,
        *:after {
            -webkit-box-sizing: border-box;
            -moz-box-sizing: border-box;
            box-sizing: border-box;
        }
        .row {
            margin-right: -15px;
            margin-left: -15px;
        }
        .col-xs-1, .col-sm-1, .col-md-1, .col-lg-1, .col-xs-2, .col-sm-2, .col-md-2, .col-lg-2, .col-xs-3, .col-sm-3, .col-md-3, .col-lg-3, .col-xs-4, .col-sm-4, .col-md-4, .col-lg-4, .col-xs-5, .col-sm-5, .col-md-5, .col-lg-5, .col-xs-6, .col-sm-6, .col-md-6, .col-lg-6, .col-xs-7, .col-sm-7, .col-md-7, .col-lg-7, .col-xs-8, .col-sm-8, .col-md-8, .col-lg-8, .col-xs-9, .col-sm-9, .col-md-9, .col-lg-9, .col-xs-10, .col-sm-10, .col-md-10, .col-lg-10, .col-xs-11, .col-sm-11, .col-md-11, .col-lg-11, .col-xs-12, .col-sm-12, .col-md-12, .col-lg-12 {
            position: relative;
            min-height: 1px;
            padding-right: 15px;
            padding-left: 15px;
        }
        .col-xs-1, .col-xs-2, .col-xs-3, .col-xs-4, .col-xs-5, .col-xs-6, .col-xs-7, .col-xs-8, .col-xs-9, .col-xs-10, .col-xs-11, .col-xs-12 {
            float: left;
        }
        .col-xs-12 {
            width: 100%;
        }
        .col-xs-11 {
            width: 91.66666667%;
        }
        .col-xs-10 {
            width: 83.33333333%;
        }
        .col-xs-9 {
            width: 75%;
        }
        .col-xs-8 {
            width: 66.66666667%;
        }
        .col-xs-7 {
            width: 58.33333333%;
        }
        .col-xs-6 {
            width: 50%;
        }
        .col-xs-5 {
            width: 41.66666667%;
        }
        .col-xs-4 {
            width: 33.33333333%;
        }
        .col-xs-3 {
            width: 25%;
        }
        .col-xs-2 {
            width: 16.66666667%;
        }
        .col-xs-1 {
            width: 8.33333333%;
        }
        .col-xs-pull-12 {
            right: 100%;
        }
        .col-xs-pull-11 {
            right: 91.66666667%;
        }
        .col-xs-pull-10 {
            right: 83.33333333%;
        }
        .col-xs-pull-9 {
            right: 75%;
        }
        .col-xs-pull-8 {
            right: 66.66666667%;
        }
        .col-xs-pull-7 {
            right: 58.33333333%;
        }
        .col-xs-pull-6 {
            right: 50%;
        }
        .col-xs-pull-5 {
            right: 41.66666667%;
        }
        .col-xs-pull-4 {
            right: 33.33333333%;
        }
        .col-xs-pull-3 {
            right: 25%;
        }
        .col-xs-pull-2 {
            right: 16.66666667%;
        }
        .col-xs-pull-1 {
            right: 8.33333333%;
        }
        .col-xs-pull-0 {
            right: auto;
        }
        .col-xs-push-12 {
            left: 100%;
        }
        .col-xs-push-11 {
            left: 91.66666667%;
        }
        .col-xs-push-10 {
            left: 83.33333333%;
        }
        .col-xs-push-9 {
            left: 75%;
        }
        .col-xs-push-8 {
            left: 66.66666667%;
        }
        .col-xs-push-7 {
            left: 58.33333333%;
        }
        .col-xs-push-6 {
            left: 50%;
        }
        .col-xs-push-5 {
            left: 41.66666667%;
        }
        .col-xs-push-4 {
            left: 33.33333333%;
        }
        .col-xs-push-3 {
            left: 25%;
        }
        .col-xs-push-2 {
            left: 16.66666667%;
        }
        .col-xs-push-1 {
            left: 8.33333333%;
        }
        .col-xs-push-0 {
            left: auto;
        }
        .col-xs-offset-12 {
            margin-left: 100%;
        }
        .col-xs-offset-11 {
            margin-left: 91.66666667%;
        }
        .col-xs-offset-10 {
            margin-left: 83.33333333%;
        }
        .col-xs-offset-9 {
            margin-left: 75%;
        }
        .col-xs-offset-8 {
            margin-left: 66.66666667%;
        }
        .col-xs-offset-7 {
            margin-left: 58.33333333%;
        }
        .col-xs-offset-6 {
            margin-left: 50%;
        }
        .col-xs-offset-5 {
            margin-left: 41.66666667%;
        }
        .col-xs-offset-4 {
            margin-left: 33.33333333%;
        }
        .col-xs-offset-3 {
            margin-left: 25%;
        }
        .col-xs-offset-2 {
            margin-left: 16.66666667%;
        }
        .col-xs-offset-1 {
            margin-left: 8.33333333%;
        }
        .col-xs-offset-0 {
            margin-left: 0;
        }
        @media (min-width: 768px) {
            .col-sm-1, .col-sm-2, .col-sm-3, .col-sm-4, .col-sm-5, .col-sm-6, .col-sm-7, .col-sm-8, .col-sm-9, .col-sm-10, .col-sm-11, .col-sm-12 {
                float: left;
            }
            .col-sm-12 {
                width: 100%;
            }
            .col-sm-11 {
                width: 91.66666667%;
            }
            .col-sm-10 {
                width: 83.33333333%;
            }
            .col-sm-9 {
                width: 75%;
            }
            .col-sm-8 {
                width: 66.66666667%;
            }
            .col-sm-7 {
                width: 58.33333333%;
            }
            .col-sm-6 {
                width: 50%;
            }
            .col-sm-5 {
                width: 41.66666667%;
            }
            .col-sm-4 {
                width: 33.33333333%;
            }
            .col-sm-3 {
                width: 25%;
            }
            .col-sm-2 {
                width: 16.66666667%;
            }
            .col-sm-1 {
                width: 8.33333333%;
            }
            .col-sm-pull-12 {
                right: 100%;
            }
            .col-sm-pull-11 {
                right: 91.66666667%;
            }
            .col-sm-pull-10 {
                right: 83.33333333%;
            }
            .col-sm-pull-9 {
                right: 75%;
            }
            .col-sm-pull-8 {
                right: 66.66666667%;
            }
            .col-sm-pull-7 {
                right: 58.33333333%;
            }
            .col-sm-pull-6 {
                right: 50%;
            }
            .col-sm-pull-5 {
                right: 41.66666667%;
            }
            .col-sm-pull-4 {
                right: 33.33333333%;
            }
            .col-sm-pull-3 {
                right: 25%;
            }
            .col-sm-pull-2 {
                right: 16.66666667%;
            }
            .col-sm-pull-1 {
                right: 8.33333333%;
            }
            .col-sm-pull-0 {
                right: auto;
            }
            .col-sm-push-12 {
                left: 100%;
            }
            .col-sm-push-11 {
                left: 91.66666667%;
            }
            .col-sm-push-10 {
                left: 83.33333333%;
            }
            .col-sm-push-9 {
                left: 75%;
            }
            .col-sm-push-8 {
                left: 66.66666667%;
            }
            .col-sm-push-7 {
                left: 58.33333333%;
            }
            .col-sm-push-6 {
                left: 50%;
            }
            .col-sm-push-5 {
                left: 41.66666667%;
            }
            .col-sm-push-4 {
                left: 33.33333333%;
            }
            .col-sm-push-3 {
                left: 25%;
            }
            .col-sm-push-2 {
                left: 16.66666667%;
            }
            .col-sm-push-1 {
                left: 8.33333333%;
            }
            .col-sm-push-0 {
                left: auto;
            }
            .col-sm-offset-12 {
                margin-left: 100%;
            }
            .col-sm-offset-11 {
                margin-left: 91.66666667%;
            }
            .col-sm-offset-10 {
                margin-left: 83.33333333%;
            }
            .col-sm-offset-9 {
                margin-left: 75%;
            }
            .col-sm-offset-8 {
                margin-left: 66.66666667%;
            }
            .col-sm-offset-7 {
                margin-left: 58.33333333%;
            }
            .col-sm-offset-6 {
                margin-left: 50%;
            }
            .col-sm-offset-5 {
                margin-left: 41.66666667%;
            }
            .col-sm-offset-4 {
                margin-left: 33.33333333%;
            }
            .col-sm-offset-3 {
                margin-left: 25%;
            }
            .col-sm-offset-2 {
                margin-left: 16.66666667%;
            }
            .col-sm-offset-1 {
                margin-left: 8.33333333%;
            }
            .col-sm-offset-0 {
                margin-left: 0;
            }
        }
        @media (min-width: 992px) {
            .col-md-1, .col-md-2, .col-md-3, .col-md-4, .col-md-5, .col-md-6, .col-md-7, .col-md-8, .col-md-9, .col-md-10, .col-md-11, .col-md-12 {
                float: left;
            }
            .col-md-12 {
                width: 100%;
            }
            .col-md-11 {
                width: 91.66666667%;
            }
            .col-md-10 {
                width: 83.33333333%;
            }
            .col-md-9 {
                width: 75%;
            }
            .col-md-8 {
                width: 66.66666667%;
            }
            .col-md-7 {
                width: 58.33333333%;
            }
            .col-md-6 {
                width: 50%;
            }
            .col-md-5 {
                width: 41.66666667%;
            }
            .col-md-4 {
                width: 33.33333333%;
            }
            .col-md-3 {
                width: 25%;
            }
            .col-md-2 {
                width: 16.66666667%;
            }
            .col-md-1 {
                width: 8.33333333%;
            }
            .col-md-pull-12 {
                right: 100%;
            }
            .col-md-pull-11 {
                right: 91.66666667%;
            }
            .col-md-pull-10 {
                right: 83.33333333%;
            }
            .col-md-pull-9 {
                right: 75%;
            }
            .col-md-pull-8 {
                right: 66.66666667%;
            }
            .col-md-pull-7 {
                right: 58.33333333%;
            }
            .col-md-pull-6 {
                right: 50%;
            }
            .col-md-pull-5 {
                right: 41.66666667%;
            }
            .col-md-pull-4 {
                right: 33.33333333%;
            }
            .col-md-pull-3 {
                right: 25%;
            }
            .col-md-pull-2 {
                right: 16.66666667%;
            }
            .col-md-pull-1 {
                right: 8.33333333%;
            }
            .col-md-pull-0 {
                right: auto;
            }
            .col-md-push-12 {
                left: 100%;
            }
            .col-md-push-11 {
                left: 91.66666667%;
            }
            .col-md-push-10 {
                left: 83.33333333%;
            }
            .col-md-push-9 {
                left: 75%;
            }
            .col-md-push-8 {
                left: 66.66666667%;
            }
            .col-md-push-7 {
                left: 58.33333333%;
            }
            .col-md-push-6 {
                left: 50%;
            }
            .col-md-push-5 {
                left: 41.66666667%;
            }
            .col-md-push-4 {
                left: 33.33333333%;
            }
            .col-md-push-3 {
                left: 25%;
            }
            .col-md-push-2 {
                left: 16.66666667%;
            }
            .col-md-push-1 {
                left: 8.33333333%;
            }
            .col-md-push-0 {
                left: auto;
            }
            .col-md-offset-12 {
                margin-left: 100%;
            }
            .col-md-offset-11 {
                margin-left: 91.66666667%;
            }
            .col-md-offset-10 {
                margin-left: 83.33333333%;
            }
            .col-md-offset-9 {
                margin-left: 75%;
            }
            .col-md-offset-8 {
                margin-left: 66.66666667%;
            }
            .col-md-offset-7 {
                margin-left: 58.33333333%;
            }
            .col-md-offset-6 {
                margin-left: 50%;
            }
            .col-md-offset-5 {
                margin-left: 41.66666667%;
            }
            .col-md-offset-4 {
                margin-left: 33.33333333%;
            }
            .col-md-offset-3 {
                margin-left: 25%;
            }
            .col-md-offset-2 {
                margin-left: 16.66666667%;
            }
            .col-md-offset-1 {
                margin-left: 8.33333333%;
            }
            .col-md-offset-0 {
                margin-left: 0;
            }
        }
        @media (min-width: 1200px) {
            .col-lg-1, .col-lg-2, .col-lg-3, .col-lg-4, .col-lg-5, .col-lg-6, .col-lg-7, .col-lg-8, .col-lg-9, .col-lg-10, .col-lg-11, .col-lg-12 {
                float: left;
            }
            .col-lg-12 {
                width: 100%;
            }
            .col-lg-11 {
                width: 91.66666667%;
            }
            .col-lg-10 {
                width: 83.33333333%;
            }
            .col-lg-9 {
                width: 75%;
            }
            .col-lg-8 {
                width: 66.66666667%;
            }
            .col-lg-7 {
                width: 58.33333333%;
            }
            .col-lg-6 {
                width: 50%;
            }
            .col-lg-5 {
                width: 41.66666667%;
            }
            .col-lg-4 {
                width: 33.33333333%;
            }
            .col-lg-3 {
                width: 25%;
            }
            .col-lg-2 {
                width: 16.66666667%;
            }
            .col-lg-1 {
                width: 8.33333333%;
            }
            .col-lg-pull-12 {
                right: 100%;
            }
            .col-lg-pull-11 {
                right: 91.66666667%;
            }
            .col-lg-pull-10 {
                right: 83.33333333%;
            }
            .col-lg-pull-9 {
                right: 75%;
            }
            .col-lg-pull-8 {
                right: 66.66666667%;
            }
            .col-lg-pull-7 {
                right: 58.33333333%;
            }
            .col-lg-pull-6 {
                right: 50%;
            }
            .col-lg-pull-5 {
                right: 41.66666667%;
            }
            .col-lg-pull-4 {
                right: 33.33333333%;
            }
            .col-lg-pull-3 {
                right: 25%;
            }
            .col-lg-pull-2 {
                right: 16.66666667%;
            }
            .col-lg-pull-1 {
                right: 8.33333333%;
            }
            .col-lg-pull-0 {
                right: auto;
            }
            .col-lg-push-12 {
                left: 100%;
            }
            .col-lg-push-11 {
                left: 91.66666667%;
            }
            .col-lg-push-10 {
                left: 83.33333333%;
            }
            .col-lg-push-9 {
                left: 75%;
            }
            .col-lg-push-8 {
                left: 66.66666667%;
            }
            .col-lg-push-7 {
                left: 58.33333333%;
            }
            .col-lg-push-6 {
                left: 50%;
            }
            .col-lg-push-5 {
                left: 41.66666667%;
            }
            .col-lg-push-4 {
                left: 33.33333333%;
            }
            .col-lg-push-3 {
                left: 25%;
            }
            .col-lg-push-2 {
                left: 16.66666667%;
            }
            .col-lg-push-1 {
                left: 8.33333333%;
            }
            .col-lg-push-0 {
                left: auto;
            }
            .col-lg-offset-12 {
                margin-left: 100%;
            }
            .col-lg-offset-11 {
                margin-left: 91.66666667%;
            }
            .col-lg-offset-10 {
                margin-left: 83.33333333%;
            }
            .col-lg-offset-9 {
                margin-left: 75%;
            }
            .col-lg-offset-8 {
                margin-left: 66.66666667%;
            }
            .col-lg-offset-7 {
                margin-left: 58.33333333%;
            }
            .col-lg-offset-6 {
                margin-left: 50%;
            }
            .col-lg-offset-5 {
                margin-left: 41.66666667%;
            }
            .col-lg-offset-4 {
                margin-left: 33.33333333%;
            }
            .col-lg-offset-3 {
                margin-left: 25%;
            }
            .col-lg-offset-2 {
                margin-left: 16.66666667%;
            }
            .col-lg-offset-1 {
                margin-left: 8.33333333%;
            }
            .col-lg-offset-0 {
                margin-left: 0;
            }
        }
    </style>
</div>
		<footer class="article-footer">
			<div class="article-tags"><i class="fa fa-tags"></i><a href="https://cuiqingcai.com/tag/python" rel="tag">Python</a><a href="https://cuiqingcai.com/tag/%e7%88%ac%e8%99%ab" rel="tag">爬虫</a></div>		</footer>
	<nav class="article-nav">
			<span class="article-nav-prev"><i class="fa fa-angle-double-left"></i> <a href="https://cuiqingcai.com/2636.html" rel="prev">Python爬虫利器六之PyQuery的用法</a></span>
			<span class="article-nav-next"><a href="https://cuiqingcai.com/2703.html" rel="next">PySpider HTTP 599: SSL certificate problem错误的解决方法</a>  <i class="fa fa-angle-double-right"></i></span>
		</nav>

		<div class="related_top">
			<div class="related_posts"><ul class="related_img">

		<li class="related_box"  >
		<a href="https://cuiqingcai.com/5006.html" title="在阿里云上测试Gerapy教程" target="_blank">
<img src="https://cuiqingcai.com/wp-content/themes/Yusi/timthumb.php?src=https://qiniu.cuiqingcai.com/wp-content/uploads/2018/01/Selection_020.png&h=110&w=185&q=90&zc=1&ct=1" alt="在阿里云上测试Gerapy教程" />	<br><span class="r_title">在阿里云上测试Gerapy教程</span></a>
		</li>
	
		<li class="related_box"  >
		<a href="https://cuiqingcai.com/4959.html" title="跟繁琐的命令行说拜拜！Gerapy分布式爬虫管理框架来袭！" target="_blank">
<img src="https://cuiqingcai.com/wp-content/themes/Yusi/timthumb.php?src=https://qiniu.cuiqingcai.com/wp-content/uploads/2018/01/49.jpeg&h=110&w=185&q=90&zc=1&ct=1" alt="跟繁琐的命令行说拜拜！Gerapy分布式爬虫管理框架来袭！" />	<br><span class="r_title">跟繁琐的命令行说拜拜！Gerapy分布式爬虫管理框架来袭！</span></a>
		</li>
	
		<li class="related_box"  >
		<a href="https://cuiqingcai.com/4816.html" title="自建免费PYTHON爬虫代理IP池" target="_blank">
<img src="https://cuiqingcai.com/wp-content/themes/Yusi/timthumb.php?src=http://qiniu.cuiqingcai.com/wp-content/uploads/2016/10/9555112.jpg&h=110&w=185&q=90&zc=1&ct=1" alt="自建免费PYTHON爬虫代理IP池" />	<br><span class="r_title">自建免费PYTHON爬虫代理IP池</span></a>
		</li>
	
		<li class="related_box"  >
		<a href="https://cuiqingcai.com/4791.html" title="轻型爬虫框架" target="_blank">
<img src="https://cuiqingcai.com/wp-content/themes/Yusi/timthumb.php?src=http://qiniu.cuiqingcai.com/wp-content/uploads/2017/02/QQ图片20170205084843.jpg&h=110&w=185&q=90&zc=1&ct=1" alt="轻型爬虫框架" />	<br><span class="r_title">轻型爬虫框架</span></a>
		</li>
	</ul>

<div class="relates">
<ul>
<li><i class="fa fa-minus"></i><a href="https://cuiqingcai.com/5006.html">在阿里云上测试Gerapy教程</a></li><li><i class="fa fa-minus"></i><a href="https://cuiqingcai.com/4959.html">跟繁琐的命令行说拜拜！Gerapy分布式爬虫管理框架来袭！</a></li><li><i class="fa fa-minus"></i><a href="https://cuiqingcai.com/4816.html">自建免费PYTHON爬虫代理IP池</a></li><li><i class="fa fa-minus"></i><a href="https://cuiqingcai.com/4791.html">轻型爬虫框架</a></li><li><i class="fa fa-minus"></i><a href="https://cuiqingcai.com/4778.html">Neo4j简介及Py2Neo的用法</a></li><li><i class="fa fa-minus"></i><a href="https://cuiqingcai.com/4607.html">获取知乎问题答案并转换为MarkDown文件</a></li><li><i class="fa fa-minus"></i><a href="https://cuiqingcai.com/4465.html">密码保护：免登录新浪微博爬虫系列之第一篇  单博主微博及评论数据</a></li><li><i class="fa fa-minus"></i><a href="https://cuiqingcai.com/4380.html">利用Scrapy爬取知乎用户详细信息并存至MongoDB</a></li>
</ul></div></div>		</div>
						<a name="comments"></a>
<div id="SOHUCS" sid="2652"></div> 
<script type="text/javascript"> 
(function(){ 
    var appid = 'cyse2vKeA'; 
    var conf = 'prod_e440e40ef998fc11db594040d810aefb'; 
    var width = window.innerWidth || document.documentElement.clientWidth; 
    if (width < 960) { 
        window.document.write('<script id="changyan_mobile_js" charset="utf-8" type="text/javascript" src="https://changyan.sohu.com/upload/mobile/wap-js/changyan_mobile.js?client_id=' + appid + '&conf=' + conf + '"><\/script>'); 
    } else { 
        var loadJs=function(d,a){var c=document.getElementsByTagName("head")[0]||document.head||document.documentElement;var b=document.createElement("script");b.setAttribute("type","text/javascript");b.setAttribute("charset","UTF-8");b.setAttribute("src",d);if(typeof a==="function"){if(window.attachEvent){b.onreadystatechange=function(){var e=b.readyState;if(e==="loaded"||e==="complete"){b.onreadystatechange=null;a()}}}else{b.onload=a}}c.appendChild(b)};loadJs("https://changyan.sohu.com/upload/changyan.js",function(){window.changyan.api.config({appid:appid,conf:conf})}); 
    }})(); 
</script>            
<div id="ds-ssr" style="display:none">
				<nav id="comment-nav-above">
			<h1 class="assistive-text">Comment navigation</h1>
			<div class="nav-previous"><a href="https://cuiqingcai.com/2652.html/comment-page-6#comments" >&larr; Older Comments</a></div>
			<div class="nav-next"></div>
		</nav>
		            <ol id="commentlist">
                		<li class="comment even thread-even depth-1" id="li-comment-4392">
			<article id="comment-4392" class="comment">
				<footer class="comment-meta">
					<cite class="comment-author vcard">
						<span class="fn">0o鹏o0</span> on <a rel="nofollow" href="https://cuiqingcai.com/2652.html/comment-page-7#comment-4392"><time pubdate datetime="2017-09-08T15:03:48+00:00">2017年9月8日 at 下午3:03</time></a> <span class="says">said:</span>					</cite>
				</footer>
	
				<div class="comment-content"><p>1</p>
</div>
				
			</article>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-4384">
			<article id="comment-4384" class="comment">
				<footer class="comment-meta">
					<cite class="comment-author vcard">
						<span class="fn">qq874342339</span> on <a rel="nofollow" href="https://cuiqingcai.com/2652.html/comment-page-7#comment-4384"><time pubdate datetime="2017-09-04T21:15:31+00:00">2017年9月4日 at 下午9:15</time></a> <span class="says">said:</span>					</cite>
				</footer>
	
				<div class="comment-content"><p>您好，您的教程我一直在看！<br />
想请教一下您，response.doc（）是怎么用的呢？能说一下吗？是输入能定位到语句的逐个标签还是？谢谢！</p>
</div>
				
			</article>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="li-comment-4369">
			<article id="comment-4369" class="comment">
				<footer class="comment-meta">
					<cite class="comment-author vcard">
						<span class="fn">666666</span> on <a rel="nofollow" href="https://cuiqingcai.com/2652.html/comment-page-7#comment-4369"><time pubdate datetime="2017-08-25T19:05:40+00:00">2017年8月25日 at 下午7:05</time></a> <span class="says">said:</span>					</cite>
				</footer>
	
				<div class="comment-content"><p>[E 170825 19:04:35 base_handler:203] 501 Server Error<br />
    Traceback (most recent call last):<br />
      File /usr/lib/python2.7/site-packages/pyspider/libs/base_handler.py, line 196, in run_task<br />
        result = self._run_task(task, response)<br />
      File /usr/lib/python2.7/site-packages/pyspider/libs/base_handler.py, line 175, in _run_task<br />
        response.raise_for_status()<br />
      File /usr/lib/python2.7/site-packages/pyspider/libs/response.py, line 184, in raise_for_status<br />
        raise http_error<br />
    HTTPError: 501 Server Error</p>
<p>这是什么鬼?</p>
</div>
				
			</article>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-4239">
			<article id="comment-4239" class="comment">
				<footer class="comment-meta">
					<cite class="comment-author vcard">
						<span class="fn">尼古拉斯特仑苏</span> on <a rel="nofollow" href="https://cuiqingcai.com/2652.html/comment-page-7#comment-4239"><time pubdate datetime="2017-07-13T14:59:24+00:00">2017年7月13日 at 下午2:59</time></a> <span class="says">said:</span>					</cite>
				</footer>
	
				<div class="comment-content"><p>图上报这个错，是权限问题吗，请问应该怎么解决？</p>
</div>
				
			</article>
		<ul class="children">
		<li class="comment even depth-2" id="li-comment-4244">
			<article id="comment-4244" class="comment">
				<footer class="comment-meta">
					<cite class="comment-author vcard">
						<span class="fn">空城计</span> on <a rel="nofollow" href="https://cuiqingcai.com/2652.html/comment-page-7#comment-4244"><time pubdate datetime="2017-07-14T22:42:41+00:00">2017年7月14日 at 下午10:42</time></a> <span class="says">said:</span>					</cite>
				</footer>
	
				<div class="comment-content"><p>是的</p>
</div>
				
			</article>
		</li><!-- #comment-## -->
		<li class="comment odd alt depth-2" id="li-comment-4243">
			<article id="comment-4243" class="comment">
				<footer class="comment-meta">
					<cite class="comment-author vcard">
						<span class="fn">空城计</span> on <a rel="nofollow" href="https://cuiqingcai.com/2652.html/comment-page-7#comment-4243"><time pubdate datetime="2017-07-14T22:45:22+00:00">2017年7月14日 at 下午10:45</time></a> <span class="says">said:</span>					</cite>
				</footer>
	
				<div class="comment-content"><p>如果你用的是UNIX(LINUX),将路径改成你主目录，默认就有写的权限。/Users/username/&#8230;   或者(linux)  /home/username/&#8230;</p>
</div>
				
			</article>
		<ul class="children">
		<li class="comment even depth-3" id="li-comment-4258">
			<article id="comment-4258" class="comment">
				<footer class="comment-meta">
					<cite class="comment-author vcard">
						<span class="fn">尼古拉斯特仑苏</span> on <a rel="nofollow" href="https://cuiqingcai.com/2652.html/comment-page-7#comment-4258"><time pubdate datetime="2017-07-20T10:06:52+00:00">2017年7月20日 at 上午10:06</time></a> <span class="says">said:</span>					</cite>
				</footer>
	
				<div class="comment-content"><p>多谢，已经解决了，最近一段时间一直在看博主的博客，受益匪浅</p>
</div>
				
			</article>
		</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
		<li class="comment odd alt thread-even depth-1" id="li-comment-4168">
			<article id="comment-4168" class="comment">
				<footer class="comment-meta">
					<cite class="comment-author vcard">
						<span class="fn">秋风梧</span> on <a rel="nofollow" href="https://cuiqingcai.com/2652.html/comment-page-7#comment-4168"><time pubdate datetime="2017-06-14T10:29:51+00:00">2017年6月14日 at 上午10:29</time></a> <span class="says">said:</span>					</cite>
				</footer>
	
				<div class="comment-content"><p>谢谢贡献代码，2017-06-14，python2.7 32bit，代码亲测可行，python35, 64bit好像会出现问题</p>
</div>
				
			</article>
		<ul class="children">
		<li class="comment even depth-2" id="li-comment-4298">
			<article id="comment-4298" class="comment">
				<footer class="comment-meta">
					<cite class="comment-author vcard">
						<span class="fn">yun糖no1</span> on <a rel="nofollow" href="https://cuiqingcai.com/2652.html/comment-page-7#comment-4298"><time pubdate datetime="2017-07-28T17:06:24+00:00">2017年7月28日 at 下午5:06</time></a> <span class="says">said:</span>					</cite>
				</footer>
	
				<div class="comment-content"><p>python35换成32位也是可以的</p>
</div>
				
			</article>
		</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-4568">
			<article id="comment-4568" class="comment">
				<footer class="comment-meta">
					<cite class="comment-author vcard">
						<span class="fn">Solo157在搜狐</span> on <a rel="nofollow" href="https://cuiqingcai.com/2652.html/comment-page-7#comment-4568"><time pubdate datetime="2017-06-02T11:08:00+00:00">2017年6月2日 at 上午11:08</time></a> <span class="says">said:</span>					</cite>
				</footer>
	
				<div class="comment-content"><p>Tasks中出现大量time out 错误：如下所示<br />
HTTP 599: Operation timed out after 120000 milliseconds with 1944467 out of 5242880 bytes received<br />
ask<br />
        response.raise_for_status()<br />
      File h:\programdata\anaconda3\lib\site-packages\pyspider\libs\response.py, line 172, in raise_for_status<br />
        six.reraise(Exception, Exception(self.error), Traceback.from_string(self.traceback).as_traceback())<br />
      File h:\programdata\anaconda3\lib\site-packages\six.py, line 685, in reraise<br />
        raise value.with_traceback(tb)<br />
      File h:\programdata\anaconda3\lib\site-packages\pyspider\fetcher\tornado_fetcher.py, line 378, in http_fetch<br />
        response = yield gen.maybe_future(self.http_client.fetch(request))<br />
      File h:\programdata\anaconda3\lib\site-packages\tornado\gen.py, line 1015, in run<br />
        value = future.result()<br />
      File h:\programdata\anaconda3\lib\site-packages\tornado\concurrent.py, line 237, in result<br />
        raise_exc_info(self._exc_info)<br />
      File &amp;lt;string&amp;gt;, line 3, in raise_exc_info<br />
    Exception: HTTP 599: Operation timed out after 120000 milliseconds with 1944467 out of 5242880 bytes received</p>
<p>{<br />
请问这是网络问题吗？？？？？？</p>
</div>
				
			</article>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="li-comment-4096">
			<article id="comment-4096" class="comment">
				<footer class="comment-meta">
					<cite class="comment-author vcard">
						<span class="fn">匿名</span> on <a rel="nofollow" href="https://cuiqingcai.com/2652.html/comment-page-7#comment-4096"><time pubdate datetime="2017-05-20T17:48:00+00:00">2017年5月20日 at 下午5:48</time></a> <span class="says">said:</span>					</cite>
				</footer>
	
				<div class="comment-content"><p>我刚刚也遇到这个问题了，这是因为saveBrief()函数中文件打开方式不对，爬去下来的brief是二进制的好像，所以应该以二进制方式打开文件。我在saveBrief()函数中 把 f=open(file_name,&#8217;w+&#8217;)改为f=open(file_name,&#8217;wb&#8217;)就好了。</p>
</div>
				
			</article>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-3901">
			<article id="comment-3901" class="comment">
				<footer class="comment-meta">
					<cite class="comment-author vcard">
						<span class="fn">杜蕾</span> on <a rel="nofollow" href="https://cuiqingcai.com/2652.html/comment-page-7#comment-3901"><time pubdate datetime="2017-04-11T22:22:54+00:00">2017年4月11日 at 下午10:22</time></a> <span class="says">said:</span>					</cite>
				</footer>
	
				<div class="comment-content"><p>马克，稍后再细看，感谢分享</p>
</div>
				
			</article>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="li-comment-3858">
			<article id="comment-3858" class="comment">
				<footer class="comment-meta">
					<cite class="comment-author vcard">
						<span class="fn"><a href='http://t.qq.com/hurenjian1120' rel='external nofollow' class='url'>核桃仁</a></span> on <a rel="nofollow" href="https://cuiqingcai.com/2652.html/comment-page-7#comment-3858"><time pubdate datetime="2017-04-08T20:39:49+00:00">2017年4月8日 at 下午8:39</time></a> <span class="says">said:</span>					</cite>
				</footer>
	
				<div class="comment-content"><p>Traceback (most recent call last):  File &#8220;D:/Softwareconcerned/Python/Spider_test/TaobaoMM-master/spider/spider.py&#8221;, line 97, in     MMspider.on_start()  File &#8220;D:/Softwareconcerned/Python/Spider_test/TaobaoMM-master/spider/spider.py&#8221;, line 26, in on_start    self.crawl(url, callback=self.index_page, validate_cert=False)  File &#8220;C:softwarePythonlibsite-packagespyspider-0.3.9-py2.7.eggpyspiderlibsbase_handler.py&#8221;, line 388, in crawl    return self._crawl(url, **kwargs)  File &#8220;C:softwarePythonlibsite-packagespyspider-0.3.9-py2.7.eggpyspiderlibsbase_handler.py&#8221;, line 332, in _crawl    if cache_key not in self._follows_keys:AttributeError: &#8216;Handler&#8217; object has no attribute &#8216;_follows_keys&#8217;请问这是什么鬼？</p>
</div>
				
			</article>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-3846">
			<article id="comment-3846" class="comment">
				<footer class="comment-meta">
					<cite class="comment-author vcard">
						<span class="fn"><a href='http://t.qq.com/duanzhaoxia123' rel='external nofollow' class='url'>FHE</a></span> on <a rel="nofollow" href="https://cuiqingcai.com/2652.html/comment-page-7#comment-3846"><time pubdate datetime="2017-04-06T21:50:32+00:00">2017年4月6日 at 下午9:50</time></a> <span class="says">said:</span>					</cite>
				</footer>
	
				<div class="comment-content"><p>博主，为什么index_pag里for each in response.doc(&#8216;a[href^=&#8221;http&#8221;]&#8217;).items(): 要换成for each in response.doc(&#8216;.lady-name&#8217;).items():用前面一个爬不出来。。有何讲究？</p>
</div>
				
			</article>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="li-comment-3159">
			<article id="comment-3159" class="comment">
				<footer class="comment-meta">
					<cite class="comment-author vcard">
						<span class="fn"><a href='http://www.kaixin001.com/home/?uid=175175150' rel='external nofollow' class='url'>可可</a></span> on <a rel="nofollow" href="https://cuiqingcai.com/2652.html/comment-page-7#comment-3159"><time pubdate datetime="2017-01-12T15:15:52+00:00">2017年1月12日 at 下午3:15</time></a> <span class="says">said:</span>					</cite>
				</footer>
	
				<div class="comment-content"><p>万 v部 A 片　高ｃ清 国产.日韩 <a href="http://www.288D.pW" rel="nofollow">http://www.288D.pW</a></p>
</div>
				
			</article>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-3130">
			<article id="comment-3130" class="comment">
				<footer class="comment-meta">
					<cite class="comment-author vcard">
						<span class="fn"><a href='http://t.qq.com/pyjacm1991' rel='external nofollow' class='url'>彭远杰</a></span> on <a rel="nofollow" href="https://cuiqingcai.com/2652.html/comment-page-7#comment-3130"><time pubdate datetime="2017-01-04T17:55:31+00:00">2017年1月4日 at 下午5:55</time></a> <span class="says">said:</span>					</cite>
				</footer>
	
				<div class="comment-content"><p>图片下载不了了，因为会跳转到淘宝的登录页</p>
</div>
				
			</article>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="li-comment-3079">
			<article id="comment-3079" class="comment">
				<footer class="comment-meta">
					<cite class="comment-author vcard">
						<span class="fn">熊宝</span> on <a rel="nofollow" href="https://cuiqingcai.com/2652.html/comment-page-7#comment-3079"><time pubdate datetime="2016-12-28T13:57:01+00:00">2016年12月28日 at 下午1:57</time></a> <span class="says">said:</span>					</cite>
				</footer>
	
				<div class="comment-content"><p>博主，我想请教一个问题，就是我用urllib或urllib2抓取网页代码时，发现个性域名那部分的网页代码是空的，这个就是你说的动态JS生成导致的吗？但是我看HTML代码的时候这部分都只是在div里面，不是在script里面的，怎么识别哪个网站有用到什么技术将关键部分代码隐藏了呢？<img src="%E8%AF%B7%E8%BE%93%E5%85%A5%E5%9B%BE%E7%89%87%E5%9C%B0%E5%9D%80" /></p>
</div>
				
			</article>
		<ul class="children">
		<li class="comment byuser comment-author-cqcre bypostauthor odd alt depth-2" id="li-comment-3107">
			<article id="comment-3107" class="comment">
				<footer class="comment-meta">
					<cite class="comment-author vcard">
						<span class="fn"><a href='http://www.baidu.com/p/崔庆才' rel='external nofollow' class='url'>崔庆才</a></span> on <a rel="nofollow" href="https://cuiqingcai.com/2652.html/comment-page-7#comment-3107"><time pubdate datetime="2017-01-01T15:49:04+00:00">2017年1月1日 at 下午3:49</time></a> <span class="says">said:</span>					</cite>
				</footer>
	
				<div class="comment-content"><p>对确实是js生成的，但是浏览器内看是有，浏览器是js渲染结束后的结果。这个得从浏览器控制台network请求里面看看</p>
</div>
				
			</article>
		</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
		<li class="comment even thread-odd thread-alt depth-1" id="li-comment-2954">
			<article id="comment-2954" class="comment">
				<footer class="comment-meta">
					<cite class="comment-author vcard">
						<span class="fn"><a href='http://weibo.com/5368701784' rel='external nofollow' class='url'>康康康忙buddy</a></span> on <a rel="nofollow" href="https://cuiqingcai.com/2652.html/comment-page-7#comment-2954"><time pubdate datetime="2016-12-09T21:40:16+00:00">2016年12月9日 at 下午9:40</time></a> <span class="says">said:</span>					</cite>
				</footer>
	
				<div class="comment-content"><p>淘宝需要登录。。</p>
</div>
				
			</article>
		</li><!-- #comment-## -->
            </ol>

				<nav id="comment-nav-below">
			<h1 class="assistive-text">Comment navigation</h1>
			<div class="nav-previous"><a href="https://cuiqingcai.com/2652.html/comment-page-6#comments" >&larr; Older Comments</a></div>
			<div class="nav-next"></div>
		</nav>
		    </div>
			
	</div>
</div>
<aside class="sidebar">	
<div class="widget widget_text"><div class="textwidget"><div class="social">

<a href="https://weibo.com/cuiqingcai" rel="external nofollow" title="新浪微博" target="_blank"><i class="sinaweibo fa fa-weibo"></i></a><a  href="http://t.qq.com/CQCcqc123456?preview" rel="external nofollow" title="腾讯微博" target="_blank"><i class="tencentweibo fa fa-tencent-weibo"></i></a><a class="weixin"><i class="weixins fa fa-weixin"></i><div class="weixin-popover"><div class="popover bottom in"><div class="arrow"></div><div class="popover-title"></div><div class="popover-content"><img src="https://cuiqingcai.com/wp-content/themes/Yusi/img/weixin.gif" ></div></div></div></a>
<a href="http://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&email=cqc@cuiqingcai.com" rel="external nofollow" title="Email" target="_blank"><i class="email fa fa-envelope-o"></i></a><a href="?feed=rss2" rel="external nofollow" target="_blank"  title="订阅本站"><i class="rss fa fa-rss"></i></a>
</div></div></div>

<div class="widget widget_metaslider_widget"><div class="title"><h2>热门专题</h2></div><!-- meta slider -->
<div style="width: 100%;" class="metaslider metaslider-nivo metaslider-2698 ml-slider meta-slider">
    
    <div id="metaslider_container_2698">
        <div class='slider-wrapper theme-bar'>
            <div class='ribbon'></div>
            <div id='metaslider_2698' class='nivoSlider'>
                <a href="https://cuiqingcai.com/1052.html" target="_blank"><img src="https://qiniu.cuiqingcai.com/wp-content/uploads/2015/04/wallpaper_5263464.jpg" height="300" width="320" data-title="Python爬虫学习系列教程" title="Python爬虫学习系列教程" alt="Python爬虫学习系列教程" class="slider-2698 slide-1720" /></a>
                <a href="https://cuiqingcai.com/4320.html" target="_blank"><img src="https://qiniu.cuiqingcai.com/wp-content/uploads/2015/02/wallpaper_5226849-1.jpg" height="300" width="320" data-title="Python3爬虫学习视频教程" title="OpenGL绘图系列教程" alt="OpenGL绘图系列教程" class="slider-2698 slide-951" /></a>
                <a href="https://cuiqingcai.com/4352.html" target="_blank"><img src="https://qiniu.cuiqingcai.com/wp-content/uploads/2016/03/20-234x220.jpg" height="300" width="320" data-title="小白学爬虫系列教程" alt="" class="slider-2698 slide-4372" /></a>
            </div>
        </div>
        
    </div>
    <script type="text/javascript">
        var metaslider_2698 = function($) {
            $('#metaslider_2698').nivoSlider({ 
                boxCols:7,
                boxRows:5,
                pauseTime:3000,
                effect:"random",
                controlNav:false,
                directionNav:true,
                pauseOnHover:true,
                animSpeed:600,
                prevText:"&lt;",
                nextText:"&gt;",
                slices:15,
                manualAdvance:false
            });
        };
        var timer_metaslider_2698 = function() {
            var slider = !window.jQuery ? window.setTimeout(timer_metaslider_2698, 100) : !jQuery.isReady ? window.setTimeout(timer_metaslider_2698, 1) : metaslider_2698(window.jQuery);
        };
        timer_metaslider_2698();
    </script>
</div>
<!--// meta slider--></div><div class="widget widget_text">			<div class="textwidget"><img src="https://qiniu.cuiqingcai.com/wp-content/uploads/2018/01/zhifubao.png"/></div>
		</div><div class="widget widget_archive"><div class="title"><h2>文章归档</h2></div>		<ul>
			<li><a href='https://cuiqingcai.com/date/2018/01'>2018年一月</a></li>
	<li><a href='https://cuiqingcai.com/date/2017/12'>2017年十二月</a></li>
	<li><a href='https://cuiqingcai.com/date/2017/11'>2017年十一月</a></li>
	<li><a href='https://cuiqingcai.com/date/2017/10'>2017年十月</a></li>
	<li><a href='https://cuiqingcai.com/date/2017/09'>2017年九月</a></li>
	<li><a href='https://cuiqingcai.com/date/2017/08'>2017年八月</a></li>
	<li><a href='https://cuiqingcai.com/date/2017/07'>2017年七月</a></li>
	<li><a href='https://cuiqingcai.com/date/2017/06'>2017年六月</a></li>
	<li><a href='https://cuiqingcai.com/date/2017/05'>2017年五月</a></li>
	<li><a href='https://cuiqingcai.com/date/2017/04'>2017年四月</a></li>
	<li><a href='https://cuiqingcai.com/date/2017/03'>2017年三月</a></li>
	<li><a href='https://cuiqingcai.com/date/2017/02'>2017年二月</a></li>
	<li><a href='https://cuiqingcai.com/date/2017/01'>2017年一月</a></li>
	<li><a href='https://cuiqingcai.com/date/2016/12'>2016年十二月</a></li>
	<li><a href='https://cuiqingcai.com/date/2016/11'>2016年十一月</a></li>
	<li><a href='https://cuiqingcai.com/date/2016/10'>2016年十月</a></li>
	<li><a href='https://cuiqingcai.com/date/2016/09'>2016年九月</a></li>
	<li><a href='https://cuiqingcai.com/date/2016/08'>2016年八月</a></li>
	<li><a href='https://cuiqingcai.com/date/2016/07'>2016年七月</a></li>
	<li><a href='https://cuiqingcai.com/date/2016/06'>2016年六月</a></li>
	<li><a href='https://cuiqingcai.com/date/2016/03'>2016年三月</a></li>
	<li><a href='https://cuiqingcai.com/date/2016/02'>2016年二月</a></li>
	<li><a href='https://cuiqingcai.com/date/2016/01'>2016年一月</a></li>
	<li><a href='https://cuiqingcai.com/date/2015/12'>2015年十二月</a></li>
	<li><a href='https://cuiqingcai.com/date/2015/11'>2015年十一月</a></li>
	<li><a href='https://cuiqingcai.com/date/2015/10'>2015年十月</a></li>
	<li><a href='https://cuiqingcai.com/date/2015/09'>2015年九月</a></li>
	<li><a href='https://cuiqingcai.com/date/2015/08'>2015年八月</a></li>
	<li><a href='https://cuiqingcai.com/date/2015/07'>2015年七月</a></li>
	<li><a href='https://cuiqingcai.com/date/2015/06'>2015年六月</a></li>
	<li><a href='https://cuiqingcai.com/date/2015/05'>2015年五月</a></li>
	<li><a href='https://cuiqingcai.com/date/2015/04'>2015年四月</a></li>
	<li><a href='https://cuiqingcai.com/date/2015/03'>2015年三月</a></li>
	<li><a href='https://cuiqingcai.com/date/2015/02'>2015年二月</a></li>
	<li><a href='https://cuiqingcai.com/date/2015/01'>2015年一月</a></li>
	<li><a href='https://cuiqingcai.com/date/2014/12'>2014年十二月</a></li>
	<li><a href='https://cuiqingcai.com/date/2014/11'>2014年十一月</a></li>
	<li><a href='https://cuiqingcai.com/date/2014/10'>2014年十月</a></li>
	<li><a href='https://cuiqingcai.com/date/2014/09'>2014年九月</a></li>
		</ul>
		</div><div class="widget widget_text"><div class="title"><h2>交流分享</h2></div>			<div class="textwidget"><div class="p-sm" style="overflow:hidden;padding-bottom:15px">
<p class="text-center">
想一起交流学习经验吗？来进击的Coder瞧瞧吧
</p>
<div class="text-center" style="float:left">
<img src="http://qiniu.cuiqingcai.com/wp-content/uploads/2016/12/QQqun.png" style="width:250px"/>
</div>
<div class="text-left" style="float:left;padding-top: 10px;width:90px">
<p>学习？交流？分享？吐槽？</p>
<p>尽在</p>
<p style="
    color: #E9415A;
    font-size: 15px;">进击的Coder</p>
<p>QQ群号</p>
<p style="
    color: #E9415A;
    font-size: 15px;margin-bottom:45px">99350970</p>
<a style="background-color: #EB586F;
    height: 16px;
    display: block;
    line-height: 16px;
    font-size: 13px;" class="btn btn-xs btn-danger" target="_blank" href="http://shang.qq.com/wpa/qunwpa?idkey=31ed8a7d15339353ad090379bb9243118f90220324a7a0f4b453bce52dcd02b6">立即加入</a>
</div>
</div></div>
		</div><div class="widget widget_text"><div class="title"><h2>微信公众号</h2></div>			<div class="textwidget"><div class="p-sm" style="overflow:hidden;padding-bottom:12px">
<p class="text-center">
学习累了吧，扫个码玩玩吧~
</p>
<div class="text-center" style="float:left">
<img src="http://qiniu.cuiqingcai.com/wp-content/uploads/2017/05/qrcode_for_gh_5b0546ddd2d0_430.jpg" style="width:250px"/>
</div>
<div class="text-left" style="float:left;padding-top: 10px;width:90px">
<p>想找人聊天解闷？<br />想要学习干货？<br />想要更多福利？</p>
<p>尽在</p>
<p style="
    color: #E9415A;
    font-size: 15px;">进击的Coder</p>
<p>公众号搜索</p>
<a style="background-color: #EB586F;
    height: 16px;
    display: block;
    line-height: 14px; width: 70px;
    font-size: 12px;" class="btn btn-xs btn-danger" target="_blank">进击的Coder</a>
</div>
</div></div>
		</div><div class="widget d_postlist"><div class="title"><h2>猜你喜欢</h2></div><ul><li><a href="https://cuiqingcai.com/990.html" title="Python爬虫实战一之爬取糗事百科段子" ><span class="thumbnail"><img src="https://cuiqingcai.com/wp-content/themes/Yusi/timthumb.php?src=https://qiniu.cuiqingcai.com/wp-content/uploads/2015/02/wallpaper_5228661.jpg&h=64&w=100&q=90&zc=1&ct=1" alt="Python爬虫实战一之爬取糗事百科段子" /></span><span class="text">Python爬虫实战一之爬取糗事百科段子</span><span class="muted">2015-02-17</span><span class="muted">644评论</span></a></li>
<li><a href="https://cuiqingcai.com/993.html" title="Python爬虫实战二之爬取百度贴吧帖子" ><span class="thumbnail"><img src="https://cuiqingcai.com/wp-content/themes/Yusi/timthumb.php?src=https://qiniu.cuiqingcai.com/wp-content/uploads/2015/02/wallpaper_5265936.jpg&h=64&w=100&q=90&zc=1&ct=1" alt="Python爬虫实战二之爬取百度贴吧帖子" /></span><span class="text">Python爬虫实战二之爬取百度贴吧帖子</span><span class="muted">2015-02-17</span><span class="muted">215评论</span></a></li>
<li><a href="https://cuiqingcai.com/3179.html" title="小白爬虫第一弹之抓取妹子图" ><span class="thumbnail"><img src="https://cuiqingcai.com/wp-content/themes/Yusi/timthumb.php?src=https://qiniu.cuiqingcai.com/wp-content/uploads/2016/10/1-1506261ZI7.jpg&h=64&w=100&q=90&zc=1&ct=1" alt="小白爬虫第一弹之抓取妹子图" /></span><span class="text">小白爬虫第一弹之抓取妹子图</span><span class="muted">2016-10-28</span><span class="muted">175评论</span></a></li>
<li><a href="https://cuiqingcai.com/1001.html" title="Python爬虫实战四之抓取淘宝MM照片" ><span class="thumbnail"><img src="https://cuiqingcai.com/wp-content/themes/Yusi/timthumb.php?src=https://qiniu.cuiqingcai.com/wp-content/uploads/2015/02/wallpaper_5270641.jpg&h=64&w=100&q=90&zc=1&ct=1" alt="Python爬虫实战四之抓取淘宝MM照片" /></span><span class="text">Python爬虫实战四之抓取淘宝MM照片</span><span class="muted">2015-02-20</span><span class="muted">160评论</span></a></li>
<li><a href="https://cuiqingcai.com/2652.html" title="Python爬虫进阶四之PySpider的用法" ><span class="thumbnail"><img src="https://cuiqingcai.com/wp-content/themes/Yusi/timthumb.php?src=https://qiniu.cuiqingcai.com/wp-content/uploads/2016/03/兔小妖39.jpg&h=64&w=100&q=90&zc=1&ct=1" alt="Python爬虫进阶四之PySpider的用法" /></span><span class="text">Python爬虫进阶四之PySpider的用法</span><span class="muted">2016-03-26</span><span class="muted">156评论</span></a></li>
<li><a href="https://cuiqingcai.com/1076.html" title="Python爬虫实战五之模拟登录淘宝并获取所有订单" ><span class="thumbnail"><img src="https://cuiqingcai.com/wp-content/themes/Yusi/timthumb.php?src=https://qiniu.cuiqingcai.com/wp-content/uploads/2015/02/wallpaper_5226152.jpg&h=64&w=100&q=90&zc=1&ct=1" alt="Python爬虫实战五之模拟登录淘宝并获取所有订单" /></span><span class="text">Python爬虫实战五之模拟登录淘宝并获取所有订单</span><span class="muted">2015-02-24</span><span class="muted">136评论</span></a></li>
<li><a href="https://cuiqingcai.com/968.html" title="Python爬虫入门六之Cookie的使用" ><span class="thumbnail"><img src="https://cuiqingcai.com/wp-content/themes/Yusi/timthumb.php?src=https://qiniu.cuiqingcai.com/wp-content/uploads/2015/02/wallpaper_5258536-1.jpg&h=64&w=100&q=90&zc=1&ct=1" alt="Python爬虫入门六之Cookie的使用" /></span><span class="text">Python爬虫入门六之Cookie的使用</span><span class="muted">2015-02-15</span><span class="muted">132评论</span></a></li>
<li><a href="https://cuiqingcai.com/3472.html" title="小白进阶之Scrapy第一篇" ><span class="thumbnail"><img src="https://cuiqingcai.com/wp-content/themes/Yusi/timthumb.php?src=https://qiniu.cuiqingcai.com/wp-content/uploads/2016/07/DSC00123.jpg&h=64&w=100&q=90&zc=1&ct=1" alt="小白进阶之Scrapy第一篇" /></span><span class="text">小白进阶之Scrapy第一篇</span><span class="muted">2016-12-07</span><span class="muted">123评论</span></a></li>
<li><a href="https://cuiqingcai.com/1052.html" title="Python爬虫学习系列教程" ><span class="thumbnail"><img src="https://cuiqingcai.com/wp-content/themes/Yusi/timthumb.php?src=https://qiniu.cuiqingcai.com/wp-content/uploads/2015/02/wallpaper_5254665-e1424499272248.jpg&h=64&w=100&q=90&zc=1&ct=1" alt="Python爬虫学习系列教程" /></span><span class="text">Python爬虫学习系列教程</span><span class="muted">2015-02-21</span><span class="muted">112评论</span></a></li>
<li><a href="https://cuiqingcai.com/2416.html" title="弃用多说，改用畅言" ><span class="thumbnail"><img src="https://cuiqingcai.com/wp-content/themes/Yusi/timthumb.php?src=https://qiniu.cuiqingcai.com/wp-content/uploads/2016/02/bg1-e1454442892955.jpg&h=64&w=100&q=90&zc=1&ct=1" alt="弃用多说，改用畅言" /></span><span class="text">弃用多说，改用畅言</span><span class="muted">2016-02-03</span><span class="muted">84评论</span></a></li>
</ul></div><div class="widget d_tag"><div class="title"><h2>标签云</h2></div><div class="d_tags"><a title="45个话题" href="https://cuiqingcai.com/tag/python">Python (45)</a><a title="39个话题" href="https://cuiqingcai.com/tag/%e7%88%ac%e8%99%ab">爬虫 (39)</a><a title="31个话题" href="https://cuiqingcai.com/tag/php">PHP (31)</a><a title="21个话题" href="https://cuiqingcai.com/tag/js">JS (21)</a><a title="12个话题" href="https://cuiqingcai.com/tag/html">HTML (12)</a><a title="11个话题" href="https://cuiqingcai.com/tag/opengl">OpenGL (11)</a><a title="9个话题" href="https://cuiqingcai.com/tag/jquery">jQuery (9)</a><a title="7个话题" href="https://cuiqingcai.com/tag/linux">Linux (7)</a><a title="7个话题" href="https://cuiqingcai.com/tag/wordpress">WordPress (7)</a><a title="7个话题" href="https://cuiqingcai.com/tag/winpcap">Winpcap (7)</a><a title="6个话题" href="https://cuiqingcai.com/tag/css">CSS (6)</a><a title="6个话题" href="https://cuiqingcai.com/tag/security">Security (6)</a><a title="6个话题" href="https://cuiqingcai.com/tag/%e6%b7%b1%e5%ba%a6%e5%ad%a6%e4%b9%a0">深度学习 (6)</a><a title="6个话题" href="https://cuiqingcai.com/tag/tensorflow">TensorFlow (6)</a><a title="4个话题" href="https://cuiqingcai.com/tag/git">Git (4)</a><a title="4个话题" href="https://cuiqingcai.com/tag/bootstrap">Bootstrap (4)</a><a title="4个话题" href="https://cuiqingcai.com/tag/net">Net (4)</a><a title="3个话题" href="https://cuiqingcai.com/tag/java">Java (3)</a><a title="3个话题" href="https://cuiqingcai.com/tag/mysql">Mysql (3)</a><a title="2个话题" href="https://cuiqingcai.com/tag/cocos2d-x">Cocos2d-x (2)</a><a title="2个话题" href="https://cuiqingcai.com/tag/jsp">JSP (2)</a><a title="2个话题" href="https://cuiqingcai.com/tag/matlab">Matlab (2)</a><a title="2个话题" href="https://cuiqingcai.com/tag/photoshop">Photoshop (2)</a><a title="2个话题" href="https://cuiqingcai.com/tag/less">LESS (2)</a><a title="2个话题" href="https://cuiqingcai.com/tag/sass">SASS (2)</a><a title="1个话题" href="https://cuiqingcai.com/tag/json">Json (1)</a><a title="1个话题" href="https://cuiqingcai.com/tag/redis">Redis (1)</a><a title="1个话题" href="https://cuiqingcai.com/tag/nginx">Nginx (1)</a><a title="1个话题" href="https://cuiqingcai.com/tag/appium">Appium (1)</a><a title="1个话题" href="https://cuiqingcai.com/tag/gulp">Gulp (1)</a><a title="1个话题" href="https://cuiqingcai.com/tag/laravel">Laravel (1)</a><a title="1个话题" href="https://cuiqingcai.com/tag/%e6%b5%8b%e8%af%95">测试 (1)</a><a title="1个话题" href="https://cuiqingcai.com/tag/app">APP (1)</a><a title="1个话题" href="https://cuiqingcai.com/tag/ssh">SSH (1)</a><a title="1个话题" href="https://cuiqingcai.com/tag/scrapy%e5%88%86%e5%b8%83%e5%bc%8f">Scrapy分布式 (1)</a><a title="1个话题" href="https://cuiqingcai.com/tag/%e8%a7%86%e9%a2%91">视频 (1)</a><a title="1个话题" href="https://cuiqingcai.com/tag/python3">Python3 (1)</a><a title="1个话题" href="https://cuiqingcai.com/tag/scrapy">Scrapy (1)</a><a title="1个话题" href="https://cuiqingcai.com/tag/%e7%9f%a5%e4%b9%8e">知乎 (1)</a><a title="1个话题" href="https://cuiqingcai.com/tag/neo4j">Neo4j (1)</a><a title="1个话题" href="https://cuiqingcai.com/tag/http">HTTP (1)</a></div></div><div class="widget widget_links"><div class="title"><h2>友情链接</h2></div>
	<ul class='xoxo blogroll'>
<li><a href="http://www.99banzou.com" target="_blank">99伴奏网</a></li>
<li><a href="http://www.anotherhome.net" target="_blank">Anotherhome</a></li>
<li><a href="http://zhouchenwen.com" rel="acquaintance" target="_blank">ColdCoder</a></li>
<li><a href="https://www.3maio.com" target="_blank">Cpphp</a></li>
<li><a href="http://www.spotty.com.cn/" target="_blank">DevNews</a></li>
<li><a href="http://www.findspace.name" target="_blank">Findspace</a></li>
<li><a href="http://blog.hickwu.com/" target="_blank">Hick</a></li>
<li><a href="http://www.jankl.com/">jank</a></li>
<li><a href="http://www.keen8.com/">keen8博客</a></li>
<li><a href="http://lise.io/" target="_blank">Keep It Simple</a></li>
<li><a href="http://www.k2zone.cn/" target="_blank">kTWO</a></li>
<li><a href="http://monkeyblog.cn/">Monkey前端博客</a></li>
<li><a href="http://www.newbieblog.cc/" target="_blank">newbie&#039;blog</a></li>
<li><a href="http://www.urselect.com/?aid=dnk9st" target="_blank">nopcommerce</a></li>
<li><a href="http://www.imop.us/" target="_blank">phper.yang</a></li>
<li><a href="http://www.shangzekai.xyz">Shang</a></li>
<li><a href="http://wonderlee.me">Wonder’s Land</a></li>
<li><a href="http://wxinjie.cn/">XJIE</a></li>
<li><a href="http://www.paurl.com/">互联网运营</a></li>
<li><a href="http://www.atrail.cn/" target="_blank">从前以后</a></li>
<li><a href="http://lanbing510.info" target="_blank">冰蓝</a></li>
<li><a href="http://www.61mon.com/" target="_blank">刘毅</a></li>
<li><a href="http://www.superqq.com/">刚刚在线</a></li>
<li><a href="http://qianxunclub.com/" target="_blank">千寻啊千寻</a></li>
<li><a href="http://kodcloud.com/">可道云</a></li>
<li><a href="http://www.lvtao.net" target="_blank">吕滔博客</a></li>
<li><a href="https://wujunze.com" target="_blank">吴钧泽博客</a></li>
<li><a href="http://www.hellobi.com/" target="_blank">天善智能</a></li>
<li><a href="http://www.fddcn.cn" target="_blank">奋斗的承诺</a></li>
<li><a href="http://www.jrady.cn/" target="_blank">宏愿</a></li>
<li><a href="http://www.cenchong.com/" target="_blank">岑冲个人博客</a></li>
<li><a href="https://upliu.net/" target="_blank">开飞机的小蜗牛</a></li>
<li><a href="http://www.chrafz.com/">张弦先生</a></li>
<li><a href="http://www.503error.com/">张志明的个人博客</a></li>
<li><a href="https://www.sastdoglcy.cn/" target="_blank">成长的柚子</a></li>
<li><a href="http://www.jishux.com/" target="_blank">技术栈</a></li>
<li><a href="https://seofangfa.com" target="_blank">方法SEO顾问</a></li>
<li><a href="http://www.lishengcn.cn/" target="_blank">李胜的脚步</a></li>
<li><a href="http://liaoyuming.cn" rel="acquaintance" target="_blank">永远站</a></li>
<li><a href="http://www.hubwiz.com" target="_blank">汇智网</a></li>
<li><a href="http://frankchen.xyz/" target="_blank">江南消夏</a></li>
<li><a href="http://bysocket.com" target="_blank">泥瓦匠BYSocket</a></li>
<li><a href="http://www.xiaoxiangyucuo.com/">潇湘雨错</a></li>
<li><a href="http://www.xiongge.club/">熊哥club</a></li>
<li><a href="https://geekspider.org/" target="_blank">爬虫实验室</a></li>
<li><a href="http://www.aihongxin.com/">爱红心 爱分享</a></li>
<li><a href="http://blog.wangjingxin.top/">王镜鑫的博客</a></li>
<li><a href="http://zerlong.com/" target="_blank">知语</a></li>
<li><a href="https://www.binblogs.cn" target="_blank">码农De边缘世界</a></li>
<li><a href="http://ibloger.net" target="_blank">程序喵</a></li>
<li><a href="http://www.numberer.net/" target="_blank">第二导航</a></li>
<li><a href="http://blog.csdn.net/lu_wei_wei">米四度的思考</a></li>
<li><a href="http://www.zoeys.cn/" target="_blank">糊糊</a></li>
<li><a href="https://www.carlstedt.cn/">紫杉倒影</a></li>
<li><a href="http://www.laodong.me" target="_blank">老董博客</a></li>
<li><a href="http://zangyiwei.com">臧义伟博客</a></li>
<li><a href="http://www.lanqibing.com/" target="_blank">蓝骑兵</a></li>
<li><a href="http://www.zhan0929.cc">詹加兵个人博客</a></li>
<li><a href="http://zhaoshuai.me/%20" target="_blank">赵帅的个人博客</a></li>
<li><a href="http://blog.zfuyun.top/">赵浮云博客</a></li>
<li><a href="http://www.leyle.com/" target="_blank">遗落岛</a></li>

	</ul>
</div>
<div class="widget widget_text"><div class="title"><h2>精品推荐</h2></div>			<div class="textwidget"><div class="side-ad">
<script type="text/javascript">
var cpro_id="u2578794";
(window["cproStyleApi"] = window["cproStyleApi"] || {})[cpro_id]={at:"3",rsi0:"300",rsi1:"250",pat:"17",tn:"baiduCustNativeAD",rss1:"#FFFFFF",conBW:"1",adp:"1",ptt:"0",titFF:"%E5%BE%AE%E8%BD%AF%E9%9B%85%E9%BB%91",titFS:"14",rss2:"#00a67c",titSU:"0"}
</script>
<script src="https://cpro.baidustatic.com/cpro/ui/c.js" type="text/javascript"></script>
</div>
<style>
#BAIDU_SSP__wrapper_u2578794_1 {
display:none;
}
#BAIDU_SSP__wrapper_u2578794_0 #iframeu2578794_0  .bd-logo2 {
display:none !important;
}
</style></div>
		</div><div class="widget widget_text"><div class="title"><h2>新浪微博</h2></div>			<div class="textwidget"><iframe width="100%" height="550" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=550&fansRow=2&ptype=1&speed=0&skin=1&isTitle=0&noborder=0&isWeibo=1&isFans=1&uid=2830678474&verifier=7468dc7b&dpc=1"></iframe></div>
		</div><div class="widget widget_text"><div class="title"><h2>热门评论</h2></div>			<div class="textwidget"><div style="background:#fff;margin-top:5px;padding:0 20px 10px 10px;display:none">
			<div id="cyReping" role="cylabs" data-use="reping"></div>	
			<script type="text/javascript" charset="utf-8" src="http://changyan.itc.cn/js/lib/jquery.js"></script>
			<script type="text/javascript" charset="utf-8" src="https://changyan.sohu.com/js/changyan.labs.https.js?appid=cyse2vKeA"></script>
            	</div></div>
		</div><div class="widget widget_text"><div class="title"><h2>交流问答</h2></div>			<div class="textwidget"><div class="p-sm">
<p style="
    margin-left: 20px;
    color: #00a67c;
">遇到问题没有解决方案？来论坛提问吧</p><p style="
    margin-left: 10px;
">
<a href="http://bbs.cuiqingcai.com/">
<input type="button" value="点我提问" style="width: 310px; margin: 10px auto 0px; background-color: rgb(245, 138, 135); color: rgb(255, 255, 255); height: 40px; border: none; font-family: 'Microsoft Yahei'; font-size: 16px; letter-spacing: 2px;" onmouseover="this.style.backgroundColor='rgb(252, 125, 121)'" onmouseout="this.style.backgroundColor='#F58A87'"/></a>
</p></div></div>
		</div><div class="widget widget_text">			<div class="textwidget"><p><a href="https://edu.hellobi.com/course/157"><br />
<img src="http://qiniu.cuiqingcai.com/wp-content/uploads/2017/04/WechatIMG258.jpeg"/><br />
</a></p>
</div>
		</div></aside></section>
<footer class="footer">
    <div class="footer-inner">
        <div class="copyright pull-left">
         <a href="https://cuiqingcai.com " title="静觅">静觅</a> 版权所有丨采用<a href="http://yusi123.com/"> 欲思 </a>主题丨基于<a href="http://cn.wordpress.org/" title="WordPress"> WordPress </a>构建   © 2015丨托管于 <a rel="nofollow" target="_blank" href="http://www.aliyun.com/">阿里云主机</a> & <a rel="nofollow" target="_blank" href="http://www.qiniu.com/">七牛云存储 </a>丨鲁ICP备14030596号
		 <div>
			<script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_1253486800'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s4.cnzz.com/z_stat.php%3Fid%3D1253486800%26online%3D1%26show%3Dline' type='text/javascript'%3E%3C/script%3E"));</script>
		 </div>
		</div>
        
    </div>
</footer>

<link rel='stylesheet' id='metaslider-nivo-slider-css'  href='https://cuiqingcai.com/wp-content/plugins/ml-slider/assets/sliders/nivoslider/nivo-slider.css?ver=3.5' type='text/css' media='all' property='stylesheet' />
<link rel='stylesheet' id='metaslider-public-css'  href='https://cuiqingcai.com/wp-content/plugins/ml-slider/assets/metaslider/public.css?ver=3.5' type='text/css' media='all' property='stylesheet' />
<link rel='stylesheet' id='metaslider-nivo-slider-bar-css'  href='https://cuiqingcai.com/wp-content/plugins/ml-slider/assets/sliders/nivoslider/themes/bar/bar.css?ver=3.5' type='text/css' media='all' property='stylesheet' />
<script type='text/javascript'>
/* <![CDATA[ */
var viewsCacheL10n = {"admin_ajax_url":"https:\/\/cuiqingcai.com\/wp-admin\/admin-ajax.php","post_id":"2652"};
/* ]]> */
</script>
<script type='text/javascript' src='https://cuiqingcai.com/wp-content/plugins/wp-postviews/postviews-cache.js?ver=1.68'></script>
<script type='text/javascript' src='https://cuiqingcai.com/wp-content/themes/Yusi/js/jquery.js?ver=1.0'></script>
<script type='text/javascript' src='https://cuiqingcai.com/wp-includes/js/wp-embed.min.js?ver=4.7.3'></script>
<script type='text/javascript' src='https://cuiqingcai.com/wp-content/plugins/ml-slider/assets/sliders/nivoslider/jquery.nivo.slider.pack.js?ver=3.5'></script>
<script>with(document)0[(getElementsByTagName("head")[0]||body).appendChild(createElement("script")).src="http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion="+~(-new Date()/36e5)];</script><!-- xuanfu -->
 <script type="text/javascript">
    /*300*25 创建于 2015-02-23*/
    var cpro_id = "u1959047";
</script>
<script src="https://cpro.baidustatic.com/cpro/ui/s.js" type="text/javascript"></script>
<script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3F3ef185224776ec2561c9f7066ead4f24' type='text/javascript'%3E%3C/script%3E"));
</script>
<script>
setTimeout(function(){
	
$('#cpv6_left_lower,#cpv6_right_lower').css({
'width': 0
});
}, 500);
</script>
<script type="text/javascript">
$(document).ready(function(){
	var imgs = new Array();
	imgs[0] = 'http://qiniu.cuiqingcai.com/wp-content/uploads/2015/05/20150525111154.jpg';
	imgs[1] = 'http://qiniu.cuiqingcai.com/wp-content/uploads/2015/05/20150525111447.jpg';
	imgs[2] = 'http://qiniu.cuiqingcai.com/wp-content/uploads/2015/05/20150525112058.jpg';
	imgs[3] = 'http://qiniu.cuiqingcai.com/wp-content/uploads/2015/05/20150525112112.jpg';
	imgs[4] = 'http://qiniu.cuiqingcai.com/wp-content/uploads/2015/05/20150525112129.jpg';
	imgs[5] = 'http://qiniu.cuiqingcai.com/wp-content/uploads/2015/05/20150525112155.jpg';
	$('.ds-avatar img[src*="cdncache"], .ds-avatar img[src*="avatar-50"]').each(function(){
		var rand = Math.floor(Math.random()*imgs.length);
		$(this).attr("src",imgs[rand]);
	})
});
</script>
</body>
</html>
<!-- Dynamic page generated in 0.312 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2018-01-25 08:16:19 -->

<!-- super cache -->