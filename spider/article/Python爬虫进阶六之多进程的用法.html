<!DOCTYPE HTML>
<html>
<head>
<meta charset="UTF-8">
<meta name="baidu-tc-verification" content="0fb041a64ee71333c957d8c784961cc8" />
<meta property="qc:admins" content="145637425211673116375" />
<meta http-equiv="X-UA-Compatible" content="IE=10,IE=9,IE=8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">
<title>Python爬虫进阶六之多进程的用法 | 静觅</title>
<script>
window._deel = {name: '静觅',url: 'https://cuiqingcai.com/wp-content/themes/Yusi', ajaxpager: 'on', commenton: 1, roll: [0,0]}
</script>

<!-- All in One SEO Pack 2.3.12.2.1 by Michael Torbert of Semper Fi Web Design[392,428] -->
<meta name="description"  content="前言 在上一节中介绍了thread多线程库。python中的多线程其实并不是真正的多线程，并不能做到充分利用多核CPU资源。 如果想要充分利用，在python中大部分情况需要使用多进程，那么这个包就叫做" />

<meta name="keywords"  content="python,爬虫" />

<!-- /all in one seo pack -->
<link rel='dns-prefetch' href='//libs.baidu.com' />
<link rel='dns-prefetch' href='//s.w.org' />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.2.1\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.2.1\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/cuiqingcai.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.7.3"}};
			!function(a,b,c){function d(a){var b,c,d,e,f=String.fromCharCode;if(!k||!k.fillText)return!1;switch(k.clearRect(0,0,j.width,j.height),k.textBaseline="top",k.font="600 32px Arial",a){case"flag":return k.fillText(f(55356,56826,55356,56819),0,0),!(j.toDataURL().length<3e3)&&(k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57331,65039,8205,55356,57096),0,0),b=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57331,55356,57096),0,0),c=j.toDataURL(),b!==c);case"emoji4":return k.fillText(f(55357,56425,55356,57341,8205,55357,56507),0,0),d=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55357,56425,55356,57341,55357,56507),0,0),e=j.toDataURL(),d!==e}return!1}function e(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g,h,i,j=b.createElement("canvas"),k=j.getContext&&j.getContext("2d");for(i=Array("flag","emoji4"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],"flag"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='crayon-css'  href='https://cuiqingcai.com/wp-content/plugins/crayon-syntax-highlighter/css/min/crayon.min.css?ver=_2.7.2_beta' type='text/css' media='all' />
<link rel='stylesheet' id='crayon-theme-github-css'  href='https://cuiqingcai.com/wp-content/plugins/crayon-syntax-highlighter/themes/github/github.css?ver=_2.7.2_beta' type='text/css' media='all' />
<link rel='stylesheet' id='crayon-font-monaco-css'  href='https://cuiqingcai.com/wp-content/plugins/crayon-syntax-highlighter/fonts/monaco.css?ver=_2.7.2_beta' type='text/css' media='all' />
<link rel='stylesheet' id='page-list-style-css'  href='https://cuiqingcai.com/wp-content/plugins/sitemap/css/page-list.css?ver=4.3' type='text/css' media='all' />
<link rel='stylesheet' id='style-css'  href='https://cuiqingcai.com/wp-content/themes/Yusi/style.css?ver=33' type='text/css' media='all' />
<script type='text/javascript' src='//libs.baidu.com/jquery/1.8.3/jquery.min.js?ver=1.0'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var CrayonSyntaxSettings = {"version":"_2.7.2_beta","is_admin":"0","ajaxurl":"https:\/\/cuiqingcai.com\/wp-admin\/admin-ajax.php","prefix":"crayon-","setting":"crayon-setting","selected":"crayon-setting-selected","changed":"crayon-setting-changed","special":"crayon-setting-special","orig_value":"data-orig-value","debug":""};
var CrayonSyntaxStrings = {"copy":"\u4f7f\u7528 %s \u590d\u5236\uff0c\u4f7f\u7528 %s \u7c98\u8d34\u3002","minimize":"\u70b9\u51fb\u5c55\u5f00\u4ee3\u7801"};
/* ]]> */
</script>
<script type='text/javascript' src='https://cuiqingcai.com/wp-content/plugins/crayon-syntax-highlighter/js/min/crayon.min.js?ver=_2.7.2_beta'></script>
<script type='text/javascript' src='https://cuiqingcai.com/wp-content/themes/Yusi/js/jquery.fitvids.js?ver=2.0.110526'></script>
<link rel='https://api.w.org/' href='https://cuiqingcai.com/wp-json/' />
<link rel='prev' title='小白爬虫第三弹之去重去重' href='https://cuiqingcai.com/3314.html' />
<link rel='next' title='小白爬虫第四弹之爬虫快跑（多进程+多线程）' href='https://cuiqingcai.com/3363.html' />
<link rel="canonical" href="https://cuiqingcai.com/3335.html" />
<link rel='shortlink' href='https://cuiqingcai.com/?p=3335' />
<link rel="alternate" type="application/json+oembed" href="https://cuiqingcai.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fcuiqingcai.com%2F3335.html" />
<link rel="alternate" type="text/xml+oembed" href="https://cuiqingcai.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fcuiqingcai.com%2F3335.html&#038;format=xml" />
<meta name="keywords" content="Python, 爬虫, Python">
<meta name="description" content="前言  在上一节中介绍了thread多线程库。python中的多线程其实并不是真正的多线程，并不能做到充分利用多核CPU资源。  如果想要充分利用，在python中大部分情况需要使用多进程，那么这个包就叫做 multiprocessing。  借助它，可以轻松完成从单进程到并发执行的转换。multiprocessing支持子进程、通信和共享数据、执行不同形式的同步，提供了Process、Queue、Pipe、Lock等组件。  那么本节">
        <script type="text/javascript">
            jQuery(document).ready( function() {
                jQuery('.video').fitVids();
            });
        </script><!--[if lt IE 9]><script src="https://cuiqingcai.com/wp-content/themes/Yusi/js/html5.js"></script><![endif]-->

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?3ef185224776ec2561c9f7066ead4f24";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>
<meta name="360-site-verification" content="bdc579accc68a98f1258ebcce2266afa" />
<script type="text/javascript" name="baidu-tc-cerfication" data-appid="5411405" src="//apps.bdimg.com/cloudaapi/lightapp.js"></script>
<link rel="shortcut icon" type="image/x-icon" href="https://cuiqingcai.com/fav.png" />
<script type="text/javascript" src="https://cuiqingcai.com/wp-content/themes/Yusi/js/main.js"></script>
<script type="text/javascript">

</script>
</head>
<body class="post-template-default single single-post postid-3335 single-format-standard">

<header id="header" class="header">
<div class="container-inner">
 <div class="yusi-logo">
                    <a href="/">
                        <h1>
                                                        <span class="yusi-mono">静觅</span>
                                                        <span class="yusi-bloger">崔庆才的个人博客</span>
                                                    </h1>
                    </a>
    </div>
</div>

	<div id="nav-header" class="navbar">
		
		<ul class="nav">
			<li id="menu-item-44" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-44"><a href="https://cuiqingcai.com">首页</a></li>
<li id="menu-item-14" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children menu-item-14"><a href="https://cuiqingcai.com/category/life">生活笔记</a>
<ul class="sub-menu">
	<li id="menu-item-19" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-19"><a href="https://cuiqingcai.com/category/life/notes">个人随笔</a></li>
	<li id="menu-item-18" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-18"><a href="https://cuiqingcai.com/category/life/daily">个人日记</a></li>
	<li id="menu-item-15" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-15"><a href="https://cuiqingcai.com/category/life/presatation">个人展示</a></li>
</ul>
</li>
<li id="menu-item-7" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor menu-item-has-children menu-item-7"><a href="https://cuiqingcai.com/category/technique">技术杂谈</a>
<ul class="sub-menu">
	<li id="menu-item-9" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-9"><a href="https://cuiqingcai.com/category/technique/cc">C/C++</a></li>
	<li id="menu-item-11" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-11"><a href="https://cuiqingcai.com/category/technique/java">Java</a></li>
	<li id="menu-item-17" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-17"><a href="https://cuiqingcai.com/category/technique/php">PHP</a></li>
	<li id="menu-item-153" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-153"><a href="https://cuiqingcai.com/category/technique/html">HTML</a></li>
	<li id="menu-item-960" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-960"><a href="https://cuiqingcai.com/category/technique/python">Python</a></li>
	<li id="menu-item-1277" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1277"><a href="https://cuiqingcai.com/category/technique/javascript">JS</a></li>
	<li id="menu-item-16" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-16"><a href="https://cuiqingcai.com/category/technique/other">Other</a></li>
</ul>
</li>
<li id="menu-item-418" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-418"><a href="https://cuiqingcai.com/category/resources">福利专区</a></li>
<li id="menu-item-851" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-851"><a href="https://cuiqingcai.com/about">关于自己</a></li>
<li id="menu-item-251" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-251"><a href="https://cuiqingcai.com/message">给我留言</a></li>
<li id="menu-item-1131" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1131"><a href="https://cuiqingcai.com/donate">赞助作者</a></li>
<li id="menu-item-4571" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4571"><a href="https://cuiqingcai.com/exchange">技术交流</a></li>
<li style="float:right;">
                    <div class="toggle-search"><i class="fa fa-search"></i></div>
<div class="search-expand" style="display: none;"><div class="search-expand-inner"><form method="get" class="searchform themeform" onsubmit="location.href='https://cuiqingcai.com/?s=' + encodeURIComponent(this.s.value).replace(/%20/g, '+'); return false;" action="/"><div> <input type="ext" class="search" name="s" onblur="if(this.value=='')this.value='search...';" onfocus="if(this.value=='search...')this.value='';" value="search..."></div></form></div></div>
</li>
		</ul>
	</div>
	</div>
</header>
<section class="container"><div class="speedbar">
					<div class="pull-right">
				<i class="fa fa-user"></i> <a href="/wp-login.php?action=register">投稿</a>&nbsp;&nbsp;&nbsp;   <i class="fa fa-power-off"></i> <a href="https://cuiqingcai.com/wp-login.php">登录</a>			</div>
				<div class="toptip"><strong class="text-success"><i class="fa fa-volume-up"></i> </strong>   博主录制的Python3爬虫视频教程已发布！详情请戳<a href="https://cuiqingcai.com/4320.html">Python3爬虫视频教程</a>！希望大家支持！非常感谢！</div>
	</div>
	<div class="content-wrap">
	<div class="content">
<div class="breadcrumbs"><a title="返回首页" href="https://cuiqingcai.com"><i class="fa fa-home"></i></a> <small>></small> <a href="https://cuiqingcai.com/category/technique">技术杂谈</a> <small>></small> <a href="https://cuiqingcai.com/category/technique/python">Python</a> <small>></small> <span class="muted">Python爬虫进阶六之多进程的用法</span></div>
				<header class="article-header">
			<h1 class="article-title"><a href="https://cuiqingcai.com/3335.html">Python爬虫进阶六之多进程的用法</a></h1>
			<div class="meta">
				<span id="mute-category" class="muted"><i class="fa fa-list-alt"></i><a href="https://cuiqingcai.com/category/technique/python"> Python</a></span>				<span class="muted"><i class="fa fa-user"></i> <a href="https://cuiqingcai.com/author/cqcre">崔庆才</a></span>
				<time class="muted"><i class="fa fa-clock-o"></i> 1年前 (2016-11-13)</time>
				<span class="muted"><i class="fa fa-eye"></i> 22693浏览</span>
				<span class="muted"><i class="fa fa-comments-o"></i> <a href="https://cuiqingcai.com/3335.html#comments">10评论</a></span>							</div>
		</header>
<div class="banner banner-post"><a href="https://edu.hellobi.com/course/157"><img src="https://qiniu.cuiqingcai.com/wp-content/uploads/2017/04/横图：崔庆才-自己动手，丰衣足食！Python3网络爬虫实战案例.png" /></a>
</div>		<article class="article-content">
			<h2>前言</h2>
<p>在上一节中介绍了thread多线程库。python中的多线程其实并不是真正的多线程，并不能做到充分利用多核CPU资源。</p>
<p>如果想要充分利用，在python中大部分情况需要使用多进程，那么这个包就叫做 multiprocessing。</p>
<p>借助它，可以轻松完成从单进程到并发执行的转换。multiprocessing支持子进程、通信和共享数据、执行不同形式的同步，提供了Process、Queue、Pipe、Lock等组件。</p>
<p>那么本节要介绍的内容有：</p>
<ul>
<li>Process</li>
<li>Lock</li>
<li>Semaphore</li>
<li>Queue</li>
<li>Pipe</li>
<li>Pool</li>
</ul>
<h2>Process</h2>
<h3>基本使用</h3>
<p>在multiprocessing中，每一个进程都用一个Process类来表示。首先看下它的API</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a692502242dd627845378" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; float: left; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
Process([group [, target [, name [, args [, kwargs]]]]])</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a692502242dd627845378-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a692502242dd627845378-1"><span class="crayon-e">Process</span><span class="crayon-sy">(</span><span class="crayon-sy">[</span><span class="crayon-i">group</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">target</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">name</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">args</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">kwargs</span><span class="crayon-sy">]</span><span class="crayon-sy">]</span><span class="crayon-sy">]</span><span class="crayon-sy">]</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0004 seconds] -->
<p></p>
<ul>
<li>target表示调用对象，你可以传入方法的名字</li>
<li>args表示被调用对象的位置参数元组，比如target是函数a，他有两个参数m，n，那么args就传入(m, n)即可</li>
<li>kwargs表示调用对象的字典</li>
<li>name是别名，相当于给这个进程取一个名字</li>
<li>group分组，实际上不使用</li>
</ul>
<p>我们先用一个实例来感受一下：</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a692502242e7687918909" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; float: left; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div><span class="crayon-language">Python</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
import multiprocessing

def process(num):
    print 'Process:', num

if __name__ == '__main__':
    for i in range(5):
        p = multiprocessing.Process(target=process, args=(i,))
        p.start()</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a692502242e7687918909-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a692502242e7687918909-2">2</div><div class="crayon-num" data-line="crayon-5a692502242e7687918909-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a692502242e7687918909-4">4</div><div class="crayon-num" data-line="crayon-5a692502242e7687918909-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a692502242e7687918909-6">6</div><div class="crayon-num" data-line="crayon-5a692502242e7687918909-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a692502242e7687918909-8">8</div><div class="crayon-num" data-line="crayon-5a692502242e7687918909-9">9</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a692502242e7687918909-1"><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-k ">multiprocessing</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a692502242e7687918909-2">&nbsp;</div><div class="crayon-line" id="crayon-5a692502242e7687918909-3"><span class="crayon-r">def</span><span class="crayon-h"> </span><span class="crayon-e">process</span><span class="crayon-sy">(</span><span class="crayon-v">num</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a692502242e7687918909-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-k ">print</span><span class="crayon-h"> </span><span class="crayon-s">'Process:'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">num</span></div><div class="crayon-line" id="crayon-5a692502242e7687918909-5">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a692502242e7687918909-6"><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-v">__name__</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-s">'__main__'</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5a692502242e7687918909-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-i">i</span><span class="crayon-h"> </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-k ">range</span><span class="crayon-sy">(</span><span class="crayon-cn">5</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a692502242e7687918909-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">p</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-k ">multiprocessing</span><span class="crayon-sy">.</span><span class="crayon-e">Process</span><span class="crayon-sy">(</span><span class="crayon-v">target</span><span class="crayon-o">=</span><span class="crayon-v">process</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">args</span><span class="crayon-o">=</span><span class="crayon-sy">(</span><span class="crayon-v">i</span><span class="crayon-sy">,</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a692502242e7687918909-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">p</span><span class="crayon-sy">.</span><span class="crayon-e">start</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0008 seconds] -->
<p></p>
<p>最简单的创建Process的过程如上所示，target传入函数名，args是函数的参数，是元组的形式，如果只有一个参数，那就是长度为1的元组。</p>
<p>然后调用start()方法即可启动多个进程了。</p>
<p>另外你还可以通过 cpu_count() 方法还有 active_children() 方法获取当前机器的 CPU 核心数量以及得到目前所有的运行的进程。</p>
<p>通过一个实例来感受一下：</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a692502242ea876553948" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; float: left; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div><span class="crayon-language">Python</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
import multiprocessing
import time

def process(num):
    time.sleep(num)
    print 'Process:', num

if __name__ == '__main__':
    for i in range(5):
        p = multiprocessing.Process(target=process, args=(i,))
        p.start()

    print('CPU number:' + str(multiprocessing.cpu_count()))
    for p in multiprocessing.active_children():
        print('Child process name: ' + p.name + ' id: ' + str(p.pid))

    print('Process Ended')</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a692502242ea876553948-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a692502242ea876553948-2">2</div><div class="crayon-num" data-line="crayon-5a692502242ea876553948-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a692502242ea876553948-4">4</div><div class="crayon-num" data-line="crayon-5a692502242ea876553948-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a692502242ea876553948-6">6</div><div class="crayon-num" data-line="crayon-5a692502242ea876553948-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a692502242ea876553948-8">8</div><div class="crayon-num" data-line="crayon-5a692502242ea876553948-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a692502242ea876553948-10">10</div><div class="crayon-num" data-line="crayon-5a692502242ea876553948-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a692502242ea876553948-12">12</div><div class="crayon-num" data-line="crayon-5a692502242ea876553948-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a692502242ea876553948-14">14</div><div class="crayon-num" data-line="crayon-5a692502242ea876553948-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a692502242ea876553948-16">16</div><div class="crayon-num" data-line="crayon-5a692502242ea876553948-17">17</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a692502242ea876553948-1"><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-k ">multiprocessing</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a692502242ea876553948-2"><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-k ">time</span></div><div class="crayon-line" id="crayon-5a692502242ea876553948-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a692502242ea876553948-4"><span class="crayon-r">def</span><span class="crayon-h"> </span><span class="crayon-e">process</span><span class="crayon-sy">(</span><span class="crayon-v">num</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5a692502242ea876553948-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-k ">time</span><span class="crayon-sy">.</span><span class="crayon-e">sleep</span><span class="crayon-sy">(</span><span class="crayon-v">num</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a692502242ea876553948-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-k ">print</span><span class="crayon-h"> </span><span class="crayon-s">'Process:'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">num</span></div><div class="crayon-line" id="crayon-5a692502242ea876553948-7">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a692502242ea876553948-8"><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-v">__name__</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-s">'__main__'</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5a692502242ea876553948-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-i">i</span><span class="crayon-h"> </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-k ">range</span><span class="crayon-sy">(</span><span class="crayon-cn">5</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a692502242ea876553948-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">p</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-k ">multiprocessing</span><span class="crayon-sy">.</span><span class="crayon-e">Process</span><span class="crayon-sy">(</span><span class="crayon-v">target</span><span class="crayon-o">=</span><span class="crayon-v">process</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">args</span><span class="crayon-o">=</span><span class="crayon-sy">(</span><span class="crayon-v">i</span><span class="crayon-sy">,</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a692502242ea876553948-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">p</span><span class="crayon-sy">.</span><span class="crayon-e">start</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a692502242ea876553948-12">&nbsp;</div><div class="crayon-line" id="crayon-5a692502242ea876553948-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-k ">print</span><span class="crayon-sy">(</span><span class="crayon-s">'CPU number:'</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-k ">str</span><span class="crayon-sy">(</span><span class="crayon-k ">multiprocessing</span><span class="crayon-sy">.</span><span class="crayon-e">cpu_count</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a692502242ea876553948-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-i">p</span><span class="crayon-h"> </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-k ">multiprocessing</span><span class="crayon-sy">.</span><span class="crayon-e">active_children</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5a692502242ea876553948-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-k ">print</span><span class="crayon-sy">(</span><span class="crayon-s">'Child process name: '</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">p</span><span class="crayon-sy">.</span><span class="crayon-v">name</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">' id: '</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-k ">str</span><span class="crayon-sy">(</span><span class="crayon-v">p</span><span class="crayon-sy">.</span><span class="crayon-v">pid</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a692502242ea876553948-16">&nbsp;</div><div class="crayon-line" id="crayon-5a692502242ea876553948-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-k ">print</span><span class="crayon-sy">(</span><span class="crayon-s">'Process Ended'</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0013 seconds] -->
<p></p>
<p>运行结果：</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a692502242ee115693738" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; float: left; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
Process: 0
CPU number:8
Child process name: Process-2 id: 9641
Child process name: Process-4 id: 9643
Child process name: Process-5 id: 9644
Child process name: Process-3 id: 9642
Process Ended
Process: 1
Process: 2
Process: 3
Process: 4</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a692502242ee115693738-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a692502242ee115693738-2">2</div><div class="crayon-num" data-line="crayon-5a692502242ee115693738-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a692502242ee115693738-4">4</div><div class="crayon-num" data-line="crayon-5a692502242ee115693738-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a692502242ee115693738-6">6</div><div class="crayon-num" data-line="crayon-5a692502242ee115693738-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a692502242ee115693738-8">8</div><div class="crayon-num" data-line="crayon-5a692502242ee115693738-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a692502242ee115693738-10">10</div><div class="crayon-num" data-line="crayon-5a692502242ee115693738-11">11</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a692502242ee115693738-1"><span class="crayon-v">Process</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">0</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a692502242ee115693738-2"><span class="crayon-e">CPU </span><span class="crayon-v">number</span><span class="crayon-o">:</span><span class="crayon-cn">8</span></div><div class="crayon-line" id="crayon-5a692502242ee115693738-3"><span class="crayon-r">Child</span><span class="crayon-h"> </span><span class="crayon-e">process </span><span class="crayon-v">name</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">Process</span><span class="crayon-o">-</span><span class="crayon-cn">2</span><span class="crayon-h"> </span><span class="crayon-v">id</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">9641</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a692502242ee115693738-4"><span class="crayon-r">Child</span><span class="crayon-h"> </span><span class="crayon-e">process </span><span class="crayon-v">name</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">Process</span><span class="crayon-o">-</span><span class="crayon-cn">4</span><span class="crayon-h"> </span><span class="crayon-v">id</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">9643</span></div><div class="crayon-line" id="crayon-5a692502242ee115693738-5"><span class="crayon-r">Child</span><span class="crayon-h"> </span><span class="crayon-e">process </span><span class="crayon-v">name</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">Process</span><span class="crayon-o">-</span><span class="crayon-cn">5</span><span class="crayon-h"> </span><span class="crayon-v">id</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">9644</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a692502242ee115693738-6"><span class="crayon-r">Child</span><span class="crayon-h"> </span><span class="crayon-e">process </span><span class="crayon-v">name</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">Process</span><span class="crayon-o">-</span><span class="crayon-cn">3</span><span class="crayon-h"> </span><span class="crayon-v">id</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">9642</span></div><div class="crayon-line" id="crayon-5a692502242ee115693738-7"><span class="crayon-e">Process </span><span class="crayon-e">Ended</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a692502242ee115693738-8"><span class="crayon-v">Process</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">1</span></div><div class="crayon-line" id="crayon-5a692502242ee115693738-9"><span class="crayon-v">Process</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">2</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a692502242ee115693738-10"><span class="crayon-v">Process</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">3</span></div><div class="crayon-line" id="crayon-5a692502242ee115693738-11"><span class="crayon-v">Process</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">4</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0008 seconds] -->
<p></p>
<h3>自定义类</h3>
<p>另外你还可以继承Process类，自定义进程类，实现run方法即可。</p>
<p>用一个实例来感受一下：</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a692502242f0920256889" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; float: left; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div><span class="crayon-language">Python</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
from multiprocessing import Process
import time


class MyProcess(Process):
    def __init__(self, loop):
        Process.__init__(self)
        self.loop = loop

    def run(self):
        for count in range(self.loop):
            time.sleep(1)
            print('Pid: ' + str(self.pid) + ' LoopCount: ' + str(count))


if __name__ == '__main__':
    for i in range(2, 5):
        p = MyProcess(i)
        p.start()</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a692502242f0920256889-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a692502242f0920256889-2">2</div><div class="crayon-num" data-line="crayon-5a692502242f0920256889-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a692502242f0920256889-4">4</div><div class="crayon-num" data-line="crayon-5a692502242f0920256889-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a692502242f0920256889-6">6</div><div class="crayon-num" data-line="crayon-5a692502242f0920256889-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a692502242f0920256889-8">8</div><div class="crayon-num" data-line="crayon-5a692502242f0920256889-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a692502242f0920256889-10">10</div><div class="crayon-num" data-line="crayon-5a692502242f0920256889-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a692502242f0920256889-12">12</div><div class="crayon-num" data-line="crayon-5a692502242f0920256889-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a692502242f0920256889-14">14</div><div class="crayon-num" data-line="crayon-5a692502242f0920256889-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a692502242f0920256889-16">16</div><div class="crayon-num" data-line="crayon-5a692502242f0920256889-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a692502242f0920256889-18">18</div><div class="crayon-num" data-line="crayon-5a692502242f0920256889-19">19</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a692502242f0920256889-1"><span class="crayon-st">from</span><span class="crayon-h"> </span><span class="crayon-k ">multiprocessing</span><span class="crayon-h"> </span><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-e">Process</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a692502242f0920256889-2"><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-k ">time</span></div><div class="crayon-line" id="crayon-5a692502242f0920256889-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a692502242f0920256889-4">&nbsp;</div><div class="crayon-line" id="crayon-5a692502242f0920256889-5"><span class="crayon-t">class</span><span class="crayon-h"> </span><span class="crayon-e">MyProcess</span><span class="crayon-sy">(</span><span class="crayon-v">Process</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a692502242f0920256889-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">def</span><span class="crayon-h"> </span><span class="crayon-e">__init__</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">loop</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5a692502242f0920256889-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">Process</span><span class="crayon-sy">.</span><span class="crayon-e">__init__</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a692502242f0920256889-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">loop</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">loop</span></div><div class="crayon-line" id="crayon-5a692502242f0920256889-9">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a692502242f0920256889-10"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">def</span><span class="crayon-h"> </span><span class="crayon-e">run</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5a692502242f0920256889-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-e">count </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-k ">range</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">loop</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a692502242f0920256889-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-k ">time</span><span class="crayon-sy">.</span><span class="crayon-e">sleep</span><span class="crayon-sy">(</span><span class="crayon-cn">1</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a692502242f0920256889-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-k ">print</span><span class="crayon-sy">(</span><span class="crayon-s">'Pid: '</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-k ">str</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">pid</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">' LoopCount: '</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-k ">str</span><span class="crayon-sy">(</span><span class="crayon-v">count</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a692502242f0920256889-14">&nbsp;</div><div class="crayon-line" id="crayon-5a692502242f0920256889-15">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a692502242f0920256889-16"><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-v">__name__</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-s">'__main__'</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5a692502242f0920256889-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-i">i</span><span class="crayon-h"> </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-k ">range</span><span class="crayon-sy">(</span><span class="crayon-cn">2</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">5</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a692502242f0920256889-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">p</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">MyProcess</span><span class="crayon-sy">(</span><span class="crayon-v">i</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a692502242f0920256889-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">p</span><span class="crayon-sy">.</span><span class="crayon-e">start</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0014 seconds] -->
<p></p>
<p>在上面的例子中，我们继承了 Process 这个类，然后实现了run方法。打印出来了进程号和参数。</p>
<p>运行结果：</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a692502242f3637822100" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; float: left; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
Pid: 28116 LoopCount: 0
Pid: 28117 LoopCount: 0
Pid: 28118 LoopCount: 0
Pid: 28116 LoopCount: 1
Pid: 28117 LoopCount: 1
Pid: 28118 LoopCount: 1
Pid: 28117 LoopCount: 2
Pid: 28118 LoopCount: 2
Pid: 28118 LoopCount: 3</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a692502242f3637822100-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a692502242f3637822100-2">2</div><div class="crayon-num" data-line="crayon-5a692502242f3637822100-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a692502242f3637822100-4">4</div><div class="crayon-num" data-line="crayon-5a692502242f3637822100-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a692502242f3637822100-6">6</div><div class="crayon-num" data-line="crayon-5a692502242f3637822100-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a692502242f3637822100-8">8</div><div class="crayon-num" data-line="crayon-5a692502242f3637822100-9">9</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a692502242f3637822100-1"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">28116</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">0</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a692502242f3637822100-2"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">28117</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">0</span></div><div class="crayon-line" id="crayon-5a692502242f3637822100-3"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">28118</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">0</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a692502242f3637822100-4"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">28116</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">1</span></div><div class="crayon-line" id="crayon-5a692502242f3637822100-5"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">28117</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">1</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a692502242f3637822100-6"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">28118</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">1</span></div><div class="crayon-line" id="crayon-5a692502242f3637822100-7"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">28117</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">2</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a692502242f3637822100-8"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">28118</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">2</span></div><div class="crayon-line" id="crayon-5a692502242f3637822100-9"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">28118</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">3</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0007 seconds] -->
<p></p>
<p>可以看到，三个进程分别打印出了2、3、4条结果。</p>
<p>我们可以把一些方法独立的写在每个类里封装好，等用的时候直接初始化一个类运行即可。</p>
<h3>deamon</h3>
<p>在这里介绍一个属性，叫做deamon。每个线程都可以单独设置它的属性，如果设置为True，当父进程结束后，子进程会自动被终止。</p>
<p>用一个实例来感受一下，还是原来的例子，增加了deamon属性：</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a692502242f6277265299" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; float: left; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
from multiprocessing import Process
import time


class MyProcess(Process):
    def __init__(self, loop):
        Process.__init__(self)
        self.loop = loop

    def run(self):
        for count in range(self.loop):
            time.sleep(1)
            print('Pid: ' + str(self.pid) + ' LoopCount: ' + str(count))


if __name__ == '__main__':
    for i in range(2, 5):
        p = MyProcess(i)
        p.daemon = True
        p.start()


    print 'Main process Ended!'</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a692502242f6277265299-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a692502242f6277265299-2">2</div><div class="crayon-num" data-line="crayon-5a692502242f6277265299-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a692502242f6277265299-4">4</div><div class="crayon-num" data-line="crayon-5a692502242f6277265299-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a692502242f6277265299-6">6</div><div class="crayon-num" data-line="crayon-5a692502242f6277265299-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a692502242f6277265299-8">8</div><div class="crayon-num" data-line="crayon-5a692502242f6277265299-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a692502242f6277265299-10">10</div><div class="crayon-num" data-line="crayon-5a692502242f6277265299-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a692502242f6277265299-12">12</div><div class="crayon-num" data-line="crayon-5a692502242f6277265299-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a692502242f6277265299-14">14</div><div class="crayon-num" data-line="crayon-5a692502242f6277265299-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a692502242f6277265299-16">16</div><div class="crayon-num" data-line="crayon-5a692502242f6277265299-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a692502242f6277265299-18">18</div><div class="crayon-num" data-line="crayon-5a692502242f6277265299-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a692502242f6277265299-20">20</div><div class="crayon-num" data-line="crayon-5a692502242f6277265299-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a692502242f6277265299-22">22</div><div class="crayon-num" data-line="crayon-5a692502242f6277265299-23">23</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a692502242f6277265299-1"><span class="crayon-e">from </span><span class="crayon-e">multiprocessing </span><span class="crayon-e">import </span><span class="crayon-e">Process</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a692502242f6277265299-2"><span class="crayon-e">import </span><span class="crayon-e">time</span></div><div class="crayon-line" id="crayon-5a692502242f6277265299-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a692502242f6277265299-4">&nbsp;</div><div class="crayon-line" id="crayon-5a692502242f6277265299-5"><span class="crayon-t">class</span><span class="crayon-h"> </span><span class="crayon-e">MyProcess</span><span class="crayon-sy">(</span><span class="crayon-v">Process</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a692502242f6277265299-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">def </span><span class="crayon-e">__init__</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">loop</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5a692502242f6277265299-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">Process</span><span class="crayon-sy">.</span><span class="crayon-e">__init__</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a692502242f6277265299-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">loop</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">loop</span></div><div class="crayon-line" id="crayon-5a692502242f6277265299-9">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a692502242f6277265299-10"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">def </span><span class="crayon-e">run</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5a692502242f6277265299-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-e">count </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-e">range</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">loop</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a692502242f6277265299-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">time</span><span class="crayon-sy">.</span><span class="crayon-e">sleep</span><span class="crayon-sy">(</span><span class="crayon-cn">1</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a692502242f6277265299-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">print</span><span class="crayon-sy">(</span><span class="crayon-s">'Pid: '</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-e">str</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">pid</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">' LoopCount: '</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-e">str</span><span class="crayon-sy">(</span><span class="crayon-v">count</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a692502242f6277265299-14">&nbsp;</div><div class="crayon-line" id="crayon-5a692502242f6277265299-15">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a692502242f6277265299-16"><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-v">__name__</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-s">'__main__'</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5a692502242f6277265299-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-i">i</span><span class="crayon-h"> </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-e">range</span><span class="crayon-sy">(</span><span class="crayon-cn">2</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">5</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a692502242f6277265299-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">p</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">MyProcess</span><span class="crayon-sy">(</span><span class="crayon-v">i</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a692502242f6277265299-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">p</span><span class="crayon-sy">.</span><span class="crayon-v">daemon</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">True</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a692502242f6277265299-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">p</span><span class="crayon-sy">.</span><span class="crayon-e">start</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a692502242f6277265299-21">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a692502242f6277265299-22">&nbsp;</div><div class="crayon-line" id="crayon-5a692502242f6277265299-23"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">print</span><span class="crayon-h"> </span><span class="crayon-s">'Main process Ended!'</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0013 seconds] -->
<p></p>
<p>在这里，调用的时候增加了设置deamon，最后的主进程（即父进程）打印输出了一句话。</p>
<p>运行结果：</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a692502242f9487590099" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; float: left; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
Main process Ended!</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a692502242f9487590099-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a692502242f9487590099-1"><span class="crayon-e">Main </span><span class="crayon-e">process </span><span class="crayon-v">Ended</span><span class="crayon-o">!</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
<p></p>
<p>结果很简单，因为主进程没有做任何事情，直接输出一句话结束，所以在这时也直接终止了子进程的运行。</p>
<p>这样可以有效防止无控制地生成子进程。如果这样写了，你在关闭这个主程序运行时，就无需额外担心子进程有没有被关闭了。</p>
<p>不过这样并不是我们想要达到的效果呀，能不能让所有子进程都执行完了然后再结束呢？那当然是可以的，只需要加入join()方法即可。</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a692502242fb538042658" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; float: left; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div><span class="crayon-language">Python</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
from multiprocessing import Process
import time


class MyProcess(Process):
    def __init__(self, loop):
        Process.__init__(self)
        self.loop = loop

    def run(self):
        for count in range(self.loop):
            time.sleep(1)
            print('Pid: ' + str(self.pid) + ' LoopCount: ' + str(count))


if __name__ == '__main__':
    for i in range(2, 5):
        p = MyProcess(i)
        p.daemon = True
        p.start()
        p.join()


    print 'Main process Ended!'</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a692502242fb538042658-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a692502242fb538042658-2">2</div><div class="crayon-num" data-line="crayon-5a692502242fb538042658-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a692502242fb538042658-4">4</div><div class="crayon-num" data-line="crayon-5a692502242fb538042658-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a692502242fb538042658-6">6</div><div class="crayon-num" data-line="crayon-5a692502242fb538042658-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a692502242fb538042658-8">8</div><div class="crayon-num" data-line="crayon-5a692502242fb538042658-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a692502242fb538042658-10">10</div><div class="crayon-num" data-line="crayon-5a692502242fb538042658-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a692502242fb538042658-12">12</div><div class="crayon-num" data-line="crayon-5a692502242fb538042658-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a692502242fb538042658-14">14</div><div class="crayon-num" data-line="crayon-5a692502242fb538042658-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a692502242fb538042658-16">16</div><div class="crayon-num" data-line="crayon-5a692502242fb538042658-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a692502242fb538042658-18">18</div><div class="crayon-num" data-line="crayon-5a692502242fb538042658-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a692502242fb538042658-20">20</div><div class="crayon-num" data-line="crayon-5a692502242fb538042658-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a692502242fb538042658-22">22</div><div class="crayon-num" data-line="crayon-5a692502242fb538042658-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a692502242fb538042658-24">24</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a692502242fb538042658-1"><span class="crayon-st">from</span><span class="crayon-h"> </span><span class="crayon-k ">multiprocessing</span><span class="crayon-h"> </span><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-e">Process</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a692502242fb538042658-2"><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-k ">time</span></div><div class="crayon-line" id="crayon-5a692502242fb538042658-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a692502242fb538042658-4">&nbsp;</div><div class="crayon-line" id="crayon-5a692502242fb538042658-5"><span class="crayon-t">class</span><span class="crayon-h"> </span><span class="crayon-e">MyProcess</span><span class="crayon-sy">(</span><span class="crayon-v">Process</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a692502242fb538042658-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">def</span><span class="crayon-h"> </span><span class="crayon-e">__init__</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">loop</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5a692502242fb538042658-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">Process</span><span class="crayon-sy">.</span><span class="crayon-e">__init__</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a692502242fb538042658-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">loop</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">loop</span></div><div class="crayon-line" id="crayon-5a692502242fb538042658-9">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a692502242fb538042658-10"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">def</span><span class="crayon-h"> </span><span class="crayon-e">run</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5a692502242fb538042658-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-e">count </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-k ">range</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">loop</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a692502242fb538042658-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-k ">time</span><span class="crayon-sy">.</span><span class="crayon-e">sleep</span><span class="crayon-sy">(</span><span class="crayon-cn">1</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a692502242fb538042658-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-k ">print</span><span class="crayon-sy">(</span><span class="crayon-s">'Pid: '</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-k ">str</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">pid</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">' LoopCount: '</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-k ">str</span><span class="crayon-sy">(</span><span class="crayon-v">count</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a692502242fb538042658-14">&nbsp;</div><div class="crayon-line" id="crayon-5a692502242fb538042658-15">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a692502242fb538042658-16"><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-v">__name__</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-s">'__main__'</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5a692502242fb538042658-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-i">i</span><span class="crayon-h"> </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-k ">range</span><span class="crayon-sy">(</span><span class="crayon-cn">2</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">5</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a692502242fb538042658-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">p</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">MyProcess</span><span class="crayon-sy">(</span><span class="crayon-v">i</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a692502242fb538042658-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">p</span><span class="crayon-sy">.</span><span class="crayon-v">daemon</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">True</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a692502242fb538042658-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">p</span><span class="crayon-sy">.</span><span class="crayon-e">start</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a692502242fb538042658-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">p</span><span class="crayon-sy">.</span><span class="crayon-e">join</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a692502242fb538042658-22">&nbsp;</div><div class="crayon-line" id="crayon-5a692502242fb538042658-23">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a692502242fb538042658-24"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-k ">print</span><span class="crayon-h"> </span><span class="crayon-s">'Main process Ended!'</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0015 seconds] -->
<p></p>
<p>在这里，每个子进程都调用了join()方法，这样父进程（主进程）就会等待子进程执行完毕。</p>
<p>运行结果：</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a692502242fe126455793" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; float: left; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
Pid: 29902 LoopCount: 0
Pid: 29902 LoopCount: 1
Pid: 29905 LoopCount: 0
Pid: 29905 LoopCount: 1
Pid: 29905 LoopCount: 2
Pid: 29912 LoopCount: 0
Pid: 29912 LoopCount: 1
Pid: 29912 LoopCount: 2
Pid: 29912 LoopCount: 3
Main process Ended!</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a692502242fe126455793-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a692502242fe126455793-2">2</div><div class="crayon-num" data-line="crayon-5a692502242fe126455793-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a692502242fe126455793-4">4</div><div class="crayon-num" data-line="crayon-5a692502242fe126455793-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a692502242fe126455793-6">6</div><div class="crayon-num" data-line="crayon-5a692502242fe126455793-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a692502242fe126455793-8">8</div><div class="crayon-num" data-line="crayon-5a692502242fe126455793-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a692502242fe126455793-10">10</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a692502242fe126455793-1"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">29902</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">0</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a692502242fe126455793-2"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">29902</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">1</span></div><div class="crayon-line" id="crayon-5a692502242fe126455793-3"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">29905</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">0</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a692502242fe126455793-4"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">29905</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">1</span></div><div class="crayon-line" id="crayon-5a692502242fe126455793-5"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">29905</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">2</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a692502242fe126455793-6"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">29912</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">0</span></div><div class="crayon-line" id="crayon-5a692502242fe126455793-7"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">29912</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">1</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a692502242fe126455793-8"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">29912</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">2</span></div><div class="crayon-line" id="crayon-5a692502242fe126455793-9"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">29912</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">3</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a692502242fe126455793-10"><span class="crayon-e">Main </span><span class="crayon-e">process </span><span class="crayon-v">Ended</span><span class="crayon-o">!</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0008 seconds] -->
<p></p>
<p>发现所有子进程都执行完毕之后，父进程最后打印出了结束的结果。</p>
<h2>Lock</h2>
<p>在上面的一些小实例中，你可能会遇到如下的运行结果：</p>
<p><a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2016/11/QQ20161113-0@2x.png"><img class="alignnone wp-image-3385 size-medium" src="http://qiniu.cuiqingcai.com/wp-content/uploads/2016/11/QQ20161113-0@2x-300x126.png" width="300" height="126" srcset="https://qiniu.cuiqingcai.com/wp-content/uploads/2016/11/QQ20161113-0@2x-300x126.png 300w, https://qiniu.cuiqingcai.com/wp-content/uploads/2016/11/QQ20161113-0@2x-768x323.png 768w, https://qiniu.cuiqingcai.com/wp-content/uploads/2016/11/QQ20161113-0@2x.png 950w" sizes="(max-width: 300px) 100vw, 300px" /></a></p>
<p>什么问题？有的输出错位了。这是由于并行导致的，两个进程同时进行了输出，结果第一个进程的换行没有来得及输出，第二个进程就输出了结果。所以导致这种排版的问题。</p>
<p>那这归根结底是因为线程同时资源（输出操作）而导致的。</p>
<p>那怎么来避免这种问题？那自然是在某一时间，只能一个进程输出，其他进程等待。等刚才那个进程输出完毕之后，另一个进程再进行输出。这种现象就叫做“互斥”。</p>
<p>我们可以通过 Lock 来实现，在一个进程输出时，加锁，其他进程等待。等此进程执行结束后，释放锁，其他进程可以进行输出。</p>
<p>我们现用一个实例来感受一下：</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a69250224302267720889" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; float: left; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div><span class="crayon-language">Python</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
from multiprocessing import Process, Lock
import time


class MyProcess(Process):
    def __init__(self, loop, lock):
        Process.__init__(self)
        self.loop = loop
        self.lock = lock

    def run(self):
        for count in range(self.loop):
            time.sleep(0.1)
            #self.lock.acquire()
            print('Pid: ' + str(self.pid) + ' LoopCount: ' + str(count))
            #self.lock.release()

if __name__ == '__main__':
    lock = Lock()
    for i in range(10, 15):
        p = MyProcess(i, lock)
        p.start()</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a69250224302267720889-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224302267720889-2">2</div><div class="crayon-num" data-line="crayon-5a69250224302267720889-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224302267720889-4">4</div><div class="crayon-num" data-line="crayon-5a69250224302267720889-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224302267720889-6">6</div><div class="crayon-num" data-line="crayon-5a69250224302267720889-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224302267720889-8">8</div><div class="crayon-num" data-line="crayon-5a69250224302267720889-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224302267720889-10">10</div><div class="crayon-num" data-line="crayon-5a69250224302267720889-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224302267720889-12">12</div><div class="crayon-num" data-line="crayon-5a69250224302267720889-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224302267720889-14">14</div><div class="crayon-num" data-line="crayon-5a69250224302267720889-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224302267720889-16">16</div><div class="crayon-num" data-line="crayon-5a69250224302267720889-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224302267720889-18">18</div><div class="crayon-num" data-line="crayon-5a69250224302267720889-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224302267720889-20">20</div><div class="crayon-num" data-line="crayon-5a69250224302267720889-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224302267720889-22">22</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a69250224302267720889-1"><span class="crayon-st">from</span><span class="crayon-h"> </span><span class="crayon-k ">multiprocessing</span><span class="crayon-h"> </span><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-v">Process</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">Lock</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224302267720889-2"><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-k ">time</span></div><div class="crayon-line" id="crayon-5a69250224302267720889-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224302267720889-4">&nbsp;</div><div class="crayon-line" id="crayon-5a69250224302267720889-5"><span class="crayon-t">class</span><span class="crayon-h"> </span><span class="crayon-e">MyProcess</span><span class="crayon-sy">(</span><span class="crayon-v">Process</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224302267720889-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">def</span><span class="crayon-h"> </span><span class="crayon-e">__init__</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">loop</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">lock</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5a69250224302267720889-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">Process</span><span class="crayon-sy">.</span><span class="crayon-e">__init__</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224302267720889-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">loop</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">loop</span></div><div class="crayon-line" id="crayon-5a69250224302267720889-9"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">lock</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">lock</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224302267720889-10">&nbsp;</div><div class="crayon-line" id="crayon-5a69250224302267720889-11"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">def</span><span class="crayon-h"> </span><span class="crayon-e">run</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224302267720889-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-e">count </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-k ">range</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">loop</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5a69250224302267720889-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-k ">time</span><span class="crayon-sy">.</span><span class="crayon-e">sleep</span><span class="crayon-sy">(</span><span class="crayon-cn">0.1</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224302267720889-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">#self.lock.acquire()</span></div><div class="crayon-line" id="crayon-5a69250224302267720889-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-k ">print</span><span class="crayon-sy">(</span><span class="crayon-s">'Pid: '</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-k ">str</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">pid</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">' LoopCount: '</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-k ">str</span><span class="crayon-sy">(</span><span class="crayon-v">count</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224302267720889-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">#self.lock.release()</span></div><div class="crayon-line" id="crayon-5a69250224302267720889-17">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224302267720889-18"><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-v">__name__</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-s">'__main__'</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5a69250224302267720889-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">lock</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">Lock</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224302267720889-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-i">i</span><span class="crayon-h"> </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-k ">range</span><span class="crayon-sy">(</span><span class="crayon-cn">10</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">15</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5a69250224302267720889-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">p</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">MyProcess</span><span class="crayon-sy">(</span><span class="crayon-v">i</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">lock</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224302267720889-22"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">p</span><span class="crayon-sy">.</span><span class="crayon-e">start</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0016 seconds] -->
<p></p>
<p>首先看一下不加锁的输出结果：</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a69250224305336956751" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; float: left; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
Pid: 45755 LoopCount: 0
Pid: 45756 LoopCount: 0
Pid: 45757 LoopCount: 0
Pid: 45758 LoopCount: 0
Pid: 45759 LoopCount: 0
Pid: 45755 LoopCount: 1
Pid: 45756 LoopCount: 1
Pid: 45757 LoopCount: 1
Pid: 45758 LoopCount: 1
Pid: 45759 LoopCount: 1
Pid: 45755 LoopCount: 2Pid: 45756 LoopCount: 2

Pid: 45757 LoopCount: 2
Pid: 45758 LoopCount: 2
Pid: 45759 LoopCount: 2
Pid: 45756 LoopCount: 3
Pid: 45755 LoopCount: 3
Pid: 45757 LoopCount: 3
Pid: 45758 LoopCount: 3
Pid: 45759 LoopCount: 3
Pid: 45755 LoopCount: 4
Pid: 45756 LoopCount: 4
Pid: 45757 LoopCount: 4
Pid: 45759 LoopCount: 4
Pid: 45758 LoopCount: 4
Pid: 45756 LoopCount: 5
Pid: 45755 LoopCount: 5
Pid: 45757 LoopCount: 5
Pid: 45759 LoopCount: 5
Pid: 45758 LoopCount: 5
Pid: 45756 LoopCount: 6Pid: 45755 LoopCount: 6

Pid: 45757 LoopCount: 6
Pid: 45759 LoopCount: 6
Pid: 45758 LoopCount: 6
Pid: 45755 LoopCount: 7Pid: 45756 LoopCount: 7

Pid: 45757 LoopCount: 7
Pid: 45758 LoopCount: 7
Pid: 45759 LoopCount: 7
Pid: 45756 LoopCount: 8Pid: 45755 LoopCount: 8

Pid: 45757 LoopCount: 8
Pid: 45758 LoopCount: 8Pid: 45759 LoopCount: 8

Pid: 45755 LoopCount: 9
Pid: 45756 LoopCount: 9
Pid: 45757 LoopCount: 9
Pid: 45758 LoopCount: 9
Pid: 45759 LoopCount: 9
Pid: 45756 LoopCount: 10
Pid: 45757 LoopCount: 10
Pid: 45758 LoopCount: 10
Pid: 45759 LoopCount: 10
Pid: 45757 LoopCount: 11
Pid: 45758 LoopCount: 11
Pid: 45759 LoopCount: 11
Pid: 45758 LoopCount: 12
Pid: 45759 LoopCount: 12
Pid: 45759 LoopCount: 13</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a69250224305336956751-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224305336956751-2">2</div><div class="crayon-num" data-line="crayon-5a69250224305336956751-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224305336956751-4">4</div><div class="crayon-num" data-line="crayon-5a69250224305336956751-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224305336956751-6">6</div><div class="crayon-num" data-line="crayon-5a69250224305336956751-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224305336956751-8">8</div><div class="crayon-num" data-line="crayon-5a69250224305336956751-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224305336956751-10">10</div><div class="crayon-num" data-line="crayon-5a69250224305336956751-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224305336956751-12">12</div><div class="crayon-num" data-line="crayon-5a69250224305336956751-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224305336956751-14">14</div><div class="crayon-num" data-line="crayon-5a69250224305336956751-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224305336956751-16">16</div><div class="crayon-num" data-line="crayon-5a69250224305336956751-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224305336956751-18">18</div><div class="crayon-num" data-line="crayon-5a69250224305336956751-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224305336956751-20">20</div><div class="crayon-num" data-line="crayon-5a69250224305336956751-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224305336956751-22">22</div><div class="crayon-num" data-line="crayon-5a69250224305336956751-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224305336956751-24">24</div><div class="crayon-num" data-line="crayon-5a69250224305336956751-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224305336956751-26">26</div><div class="crayon-num" data-line="crayon-5a69250224305336956751-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224305336956751-28">28</div><div class="crayon-num" data-line="crayon-5a69250224305336956751-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224305336956751-30">30</div><div class="crayon-num" data-line="crayon-5a69250224305336956751-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224305336956751-32">32</div><div class="crayon-num" data-line="crayon-5a69250224305336956751-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224305336956751-34">34</div><div class="crayon-num" data-line="crayon-5a69250224305336956751-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224305336956751-36">36</div><div class="crayon-num" data-line="crayon-5a69250224305336956751-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224305336956751-38">38</div><div class="crayon-num" data-line="crayon-5a69250224305336956751-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224305336956751-40">40</div><div class="crayon-num" data-line="crayon-5a69250224305336956751-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224305336956751-42">42</div><div class="crayon-num" data-line="crayon-5a69250224305336956751-43">43</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224305336956751-44">44</div><div class="crayon-num" data-line="crayon-5a69250224305336956751-45">45</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224305336956751-46">46</div><div class="crayon-num" data-line="crayon-5a69250224305336956751-47">47</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224305336956751-48">48</div><div class="crayon-num" data-line="crayon-5a69250224305336956751-49">49</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224305336956751-50">50</div><div class="crayon-num" data-line="crayon-5a69250224305336956751-51">51</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224305336956751-52">52</div><div class="crayon-num" data-line="crayon-5a69250224305336956751-53">53</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224305336956751-54">54</div><div class="crayon-num" data-line="crayon-5a69250224305336956751-55">55</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224305336956751-56">56</div><div class="crayon-num" data-line="crayon-5a69250224305336956751-57">57</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224305336956751-58">58</div><div class="crayon-num" data-line="crayon-5a69250224305336956751-59">59</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224305336956751-60">60</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a69250224305336956751-1"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45755</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">0</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224305336956751-2"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45756</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">0</span></div><div class="crayon-line" id="crayon-5a69250224305336956751-3"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45757</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">0</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224305336956751-4"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45758</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">0</span></div><div class="crayon-line" id="crayon-5a69250224305336956751-5"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45759</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">0</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224305336956751-6"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45755</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">1</span></div><div class="crayon-line" id="crayon-5a69250224305336956751-7"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45756</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">1</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224305336956751-8"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45757</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">1</span></div><div class="crayon-line" id="crayon-5a69250224305336956751-9"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45758</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">1</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224305336956751-10"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45759</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">1</span></div><div class="crayon-line" id="crayon-5a69250224305336956751-11"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45755</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">2Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45756</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">2</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224305336956751-12">&nbsp;</div><div class="crayon-line" id="crayon-5a69250224305336956751-13"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45757</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">2</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224305336956751-14"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45758</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">2</span></div><div class="crayon-line" id="crayon-5a69250224305336956751-15"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45759</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">2</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224305336956751-16"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45756</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">3</span></div><div class="crayon-line" id="crayon-5a69250224305336956751-17"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45755</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">3</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224305336956751-18"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45757</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">3</span></div><div class="crayon-line" id="crayon-5a69250224305336956751-19"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45758</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">3</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224305336956751-20"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45759</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">3</span></div><div class="crayon-line" id="crayon-5a69250224305336956751-21"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45755</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">4</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224305336956751-22"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45756</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">4</span></div><div class="crayon-line" id="crayon-5a69250224305336956751-23"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45757</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">4</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224305336956751-24"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45759</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">4</span></div><div class="crayon-line" id="crayon-5a69250224305336956751-25"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45758</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">4</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224305336956751-26"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45756</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">5</span></div><div class="crayon-line" id="crayon-5a69250224305336956751-27"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45755</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">5</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224305336956751-28"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45757</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">5</span></div><div class="crayon-line" id="crayon-5a69250224305336956751-29"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45759</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">5</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224305336956751-30"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45758</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">5</span></div><div class="crayon-line" id="crayon-5a69250224305336956751-31"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45756</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">6Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45755</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">6</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224305336956751-32">&nbsp;</div><div class="crayon-line" id="crayon-5a69250224305336956751-33"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45757</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">6</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224305336956751-34"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45759</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">6</span></div><div class="crayon-line" id="crayon-5a69250224305336956751-35"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45758</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">6</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224305336956751-36"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45755</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">7Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45756</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">7</span></div><div class="crayon-line" id="crayon-5a69250224305336956751-37">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224305336956751-38"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45757</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">7</span></div><div class="crayon-line" id="crayon-5a69250224305336956751-39"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45758</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">7</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224305336956751-40"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45759</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">7</span></div><div class="crayon-line" id="crayon-5a69250224305336956751-41"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45756</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">8Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45755</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">8</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224305336956751-42">&nbsp;</div><div class="crayon-line" id="crayon-5a69250224305336956751-43"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45757</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">8</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224305336956751-44"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45758</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">8Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45759</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">8</span></div><div class="crayon-line" id="crayon-5a69250224305336956751-45">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224305336956751-46"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45755</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">9</span></div><div class="crayon-line" id="crayon-5a69250224305336956751-47"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45756</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">9</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224305336956751-48"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45757</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">9</span></div><div class="crayon-line" id="crayon-5a69250224305336956751-49"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45758</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">9</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224305336956751-50"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45759</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">9</span></div><div class="crayon-line" id="crayon-5a69250224305336956751-51"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45756</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">10</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224305336956751-52"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45757</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">10</span></div><div class="crayon-line" id="crayon-5a69250224305336956751-53"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45758</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">10</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224305336956751-54"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45759</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">10</span></div><div class="crayon-line" id="crayon-5a69250224305336956751-55"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45757</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">11</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224305336956751-56"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45758</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">11</span></div><div class="crayon-line" id="crayon-5a69250224305336956751-57"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45759</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">11</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224305336956751-58"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45758</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">12</span></div><div class="crayon-line" id="crayon-5a69250224305336956751-59"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45759</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">12</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224305336956751-60"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45759</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">13</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0045 seconds] -->
<p></p>
<p>可以看到有些输出已经造成了影响。</p>
<p>然后我们对其加锁：</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a69250224308385999603" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; float: left; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div><span class="crayon-language">Python</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
from multiprocessing import Process, Lock
import time


class MyProcess(Process):
    def __init__(self, loop, lock):
        Process.__init__(self)
        self.loop = loop
        self.lock = lock

    def run(self):
        for count in range(self.loop):
            time.sleep(0.1)
            self.lock.acquire()
            print('Pid: ' + str(self.pid) + ' LoopCount: ' + str(count))
            self.lock.release()

if __name__ == '__main__':
    lock = Lock()
    for i in range(10, 15):
        p = MyProcess(i, lock)
        p.start()</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a69250224308385999603-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224308385999603-2">2</div><div class="crayon-num" data-line="crayon-5a69250224308385999603-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224308385999603-4">4</div><div class="crayon-num" data-line="crayon-5a69250224308385999603-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224308385999603-6">6</div><div class="crayon-num" data-line="crayon-5a69250224308385999603-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224308385999603-8">8</div><div class="crayon-num" data-line="crayon-5a69250224308385999603-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224308385999603-10">10</div><div class="crayon-num" data-line="crayon-5a69250224308385999603-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224308385999603-12">12</div><div class="crayon-num" data-line="crayon-5a69250224308385999603-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224308385999603-14">14</div><div class="crayon-num" data-line="crayon-5a69250224308385999603-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224308385999603-16">16</div><div class="crayon-num" data-line="crayon-5a69250224308385999603-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224308385999603-18">18</div><div class="crayon-num" data-line="crayon-5a69250224308385999603-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224308385999603-20">20</div><div class="crayon-num" data-line="crayon-5a69250224308385999603-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224308385999603-22">22</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a69250224308385999603-1"><span class="crayon-st">from</span><span class="crayon-h"> </span><span class="crayon-k ">multiprocessing</span><span class="crayon-h"> </span><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-v">Process</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">Lock</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224308385999603-2"><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-k ">time</span></div><div class="crayon-line" id="crayon-5a69250224308385999603-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224308385999603-4">&nbsp;</div><div class="crayon-line" id="crayon-5a69250224308385999603-5"><span class="crayon-t">class</span><span class="crayon-h"> </span><span class="crayon-e">MyProcess</span><span class="crayon-sy">(</span><span class="crayon-v">Process</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224308385999603-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">def</span><span class="crayon-h"> </span><span class="crayon-e">__init__</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">loop</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">lock</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5a69250224308385999603-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">Process</span><span class="crayon-sy">.</span><span class="crayon-e">__init__</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224308385999603-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">loop</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">loop</span></div><div class="crayon-line" id="crayon-5a69250224308385999603-9"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">lock</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">lock</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224308385999603-10">&nbsp;</div><div class="crayon-line" id="crayon-5a69250224308385999603-11"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">def</span><span class="crayon-h"> </span><span class="crayon-e">run</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224308385999603-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-e">count </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-k ">range</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">loop</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5a69250224308385999603-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-k ">time</span><span class="crayon-sy">.</span><span class="crayon-e">sleep</span><span class="crayon-sy">(</span><span class="crayon-cn">0.1</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224308385999603-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">lock</span><span class="crayon-sy">.</span><span class="crayon-e">acquire</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a69250224308385999603-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-k ">print</span><span class="crayon-sy">(</span><span class="crayon-s">'Pid: '</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-k ">str</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">pid</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">' LoopCount: '</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-k ">str</span><span class="crayon-sy">(</span><span class="crayon-v">count</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224308385999603-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">lock</span><span class="crayon-sy">.</span><span class="crayon-e">release</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a69250224308385999603-17">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224308385999603-18"><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-v">__name__</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-s">'__main__'</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5a69250224308385999603-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">lock</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">Lock</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224308385999603-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-i">i</span><span class="crayon-h"> </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-k ">range</span><span class="crayon-sy">(</span><span class="crayon-cn">10</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">15</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5a69250224308385999603-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">p</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">MyProcess</span><span class="crayon-sy">(</span><span class="crayon-v">i</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">lock</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224308385999603-22"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">p</span><span class="crayon-sy">.</span><span class="crayon-e">start</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0017 seconds] -->
<p></p>
<p>我们在print方法的前后分别添加了获得锁和释放锁的操作。这样就能保证在同一时间只有一个print操作。</p>
<p>看一下运行结果：</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a6925022430b590830299" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; float: left; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
Pid: 45889 LoopCount: 0
Pid: 45890 LoopCount: 0
Pid: 45891 LoopCount: 0
Pid: 45892 LoopCount: 0
Pid: 45893 LoopCount: 0
Pid: 45889 LoopCount: 1
Pid: 45890 LoopCount: 1
Pid: 45891 LoopCount: 1
Pid: 45892 LoopCount: 1
Pid: 45893 LoopCount: 1
Pid: 45889 LoopCount: 2
Pid: 45890 LoopCount: 2
Pid: 45891 LoopCount: 2
Pid: 45892 LoopCount: 2
Pid: 45893 LoopCount: 2
Pid: 45889 LoopCount: 3
Pid: 45890 LoopCount: 3
Pid: 45891 LoopCount: 3
Pid: 45892 LoopCount: 3
Pid: 45893 LoopCount: 3
Pid: 45889 LoopCount: 4
Pid: 45890 LoopCount: 4
Pid: 45891 LoopCount: 4
Pid: 45892 LoopCount: 4
Pid: 45893 LoopCount: 4
Pid: 45889 LoopCount: 5
Pid: 45890 LoopCount: 5
Pid: 45891 LoopCount: 5
Pid: 45892 LoopCount: 5
Pid: 45893 LoopCount: 5
Pid: 45889 LoopCount: 6
Pid: 45890 LoopCount: 6
Pid: 45891 LoopCount: 6
Pid: 45893 LoopCount: 6
Pid: 45892 LoopCount: 6
Pid: 45889 LoopCount: 7
Pid: 45890 LoopCount: 7
Pid: 45891 LoopCount: 7
Pid: 45892 LoopCount: 7
Pid: 45893 LoopCount: 7
Pid: 45889 LoopCount: 8
Pid: 45890 LoopCount: 8
Pid: 45891 LoopCount: 8
Pid: 45892 LoopCount: 8
Pid: 45893 LoopCount: 8
Pid: 45889 LoopCount: 9
Pid: 45890 LoopCount: 9
Pid: 45891 LoopCount: 9
Pid: 45892 LoopCount: 9
Pid: 45893 LoopCount: 9
Pid: 45890 LoopCount: 10
Pid: 45891 LoopCount: 10
Pid: 45892 LoopCount: 10
Pid: 45893 LoopCount: 10
Pid: 45891 LoopCount: 11
Pid: 45892 LoopCount: 11
Pid: 45893 LoopCount: 11
Pid: 45893 LoopCount: 12
Pid: 45892 LoopCount: 12
Pid: 45893 LoopCount: 13</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a6925022430b590830299-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022430b590830299-2">2</div><div class="crayon-num" data-line="crayon-5a6925022430b590830299-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022430b590830299-4">4</div><div class="crayon-num" data-line="crayon-5a6925022430b590830299-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022430b590830299-6">6</div><div class="crayon-num" data-line="crayon-5a6925022430b590830299-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022430b590830299-8">8</div><div class="crayon-num" data-line="crayon-5a6925022430b590830299-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022430b590830299-10">10</div><div class="crayon-num" data-line="crayon-5a6925022430b590830299-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022430b590830299-12">12</div><div class="crayon-num" data-line="crayon-5a6925022430b590830299-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022430b590830299-14">14</div><div class="crayon-num" data-line="crayon-5a6925022430b590830299-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022430b590830299-16">16</div><div class="crayon-num" data-line="crayon-5a6925022430b590830299-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022430b590830299-18">18</div><div class="crayon-num" data-line="crayon-5a6925022430b590830299-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022430b590830299-20">20</div><div class="crayon-num" data-line="crayon-5a6925022430b590830299-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022430b590830299-22">22</div><div class="crayon-num" data-line="crayon-5a6925022430b590830299-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022430b590830299-24">24</div><div class="crayon-num" data-line="crayon-5a6925022430b590830299-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022430b590830299-26">26</div><div class="crayon-num" data-line="crayon-5a6925022430b590830299-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022430b590830299-28">28</div><div class="crayon-num" data-line="crayon-5a6925022430b590830299-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022430b590830299-30">30</div><div class="crayon-num" data-line="crayon-5a6925022430b590830299-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022430b590830299-32">32</div><div class="crayon-num" data-line="crayon-5a6925022430b590830299-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022430b590830299-34">34</div><div class="crayon-num" data-line="crayon-5a6925022430b590830299-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022430b590830299-36">36</div><div class="crayon-num" data-line="crayon-5a6925022430b590830299-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022430b590830299-38">38</div><div class="crayon-num" data-line="crayon-5a6925022430b590830299-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022430b590830299-40">40</div><div class="crayon-num" data-line="crayon-5a6925022430b590830299-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022430b590830299-42">42</div><div class="crayon-num" data-line="crayon-5a6925022430b590830299-43">43</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022430b590830299-44">44</div><div class="crayon-num" data-line="crayon-5a6925022430b590830299-45">45</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022430b590830299-46">46</div><div class="crayon-num" data-line="crayon-5a6925022430b590830299-47">47</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022430b590830299-48">48</div><div class="crayon-num" data-line="crayon-5a6925022430b590830299-49">49</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022430b590830299-50">50</div><div class="crayon-num" data-line="crayon-5a6925022430b590830299-51">51</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022430b590830299-52">52</div><div class="crayon-num" data-line="crayon-5a6925022430b590830299-53">53</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022430b590830299-54">54</div><div class="crayon-num" data-line="crayon-5a6925022430b590830299-55">55</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022430b590830299-56">56</div><div class="crayon-num" data-line="crayon-5a6925022430b590830299-57">57</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022430b590830299-58">58</div><div class="crayon-num" data-line="crayon-5a6925022430b590830299-59">59</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022430b590830299-60">60</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a6925022430b590830299-1"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45889</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">0</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022430b590830299-2"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45890</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">0</span></div><div class="crayon-line" id="crayon-5a6925022430b590830299-3"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45891</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">0</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022430b590830299-4"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45892</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">0</span></div><div class="crayon-line" id="crayon-5a6925022430b590830299-5"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45893</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">0</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022430b590830299-6"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45889</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">1</span></div><div class="crayon-line" id="crayon-5a6925022430b590830299-7"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45890</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">1</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022430b590830299-8"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45891</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">1</span></div><div class="crayon-line" id="crayon-5a6925022430b590830299-9"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45892</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">1</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022430b590830299-10"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45893</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">1</span></div><div class="crayon-line" id="crayon-5a6925022430b590830299-11"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45889</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">2</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022430b590830299-12"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45890</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">2</span></div><div class="crayon-line" id="crayon-5a6925022430b590830299-13"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45891</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">2</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022430b590830299-14"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45892</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">2</span></div><div class="crayon-line" id="crayon-5a6925022430b590830299-15"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45893</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">2</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022430b590830299-16"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45889</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">3</span></div><div class="crayon-line" id="crayon-5a6925022430b590830299-17"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45890</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">3</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022430b590830299-18"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45891</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">3</span></div><div class="crayon-line" id="crayon-5a6925022430b590830299-19"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45892</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">3</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022430b590830299-20"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45893</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">3</span></div><div class="crayon-line" id="crayon-5a6925022430b590830299-21"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45889</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">4</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022430b590830299-22"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45890</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">4</span></div><div class="crayon-line" id="crayon-5a6925022430b590830299-23"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45891</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">4</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022430b590830299-24"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45892</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">4</span></div><div class="crayon-line" id="crayon-5a6925022430b590830299-25"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45893</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">4</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022430b590830299-26"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45889</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">5</span></div><div class="crayon-line" id="crayon-5a6925022430b590830299-27"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45890</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">5</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022430b590830299-28"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45891</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">5</span></div><div class="crayon-line" id="crayon-5a6925022430b590830299-29"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45892</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">5</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022430b590830299-30"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45893</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">5</span></div><div class="crayon-line" id="crayon-5a6925022430b590830299-31"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45889</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">6</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022430b590830299-32"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45890</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">6</span></div><div class="crayon-line" id="crayon-5a6925022430b590830299-33"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45891</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">6</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022430b590830299-34"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45893</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">6</span></div><div class="crayon-line" id="crayon-5a6925022430b590830299-35"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45892</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">6</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022430b590830299-36"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45889</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">7</span></div><div class="crayon-line" id="crayon-5a6925022430b590830299-37"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45890</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">7</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022430b590830299-38"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45891</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">7</span></div><div class="crayon-line" id="crayon-5a6925022430b590830299-39"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45892</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">7</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022430b590830299-40"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45893</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">7</span></div><div class="crayon-line" id="crayon-5a6925022430b590830299-41"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45889</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">8</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022430b590830299-42"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45890</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">8</span></div><div class="crayon-line" id="crayon-5a6925022430b590830299-43"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45891</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">8</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022430b590830299-44"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45892</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">8</span></div><div class="crayon-line" id="crayon-5a6925022430b590830299-45"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45893</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">8</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022430b590830299-46"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45889</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">9</span></div><div class="crayon-line" id="crayon-5a6925022430b590830299-47"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45890</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">9</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022430b590830299-48"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45891</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">9</span></div><div class="crayon-line" id="crayon-5a6925022430b590830299-49"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45892</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">9</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022430b590830299-50"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45893</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">9</span></div><div class="crayon-line" id="crayon-5a6925022430b590830299-51"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45890</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">10</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022430b590830299-52"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45891</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">10</span></div><div class="crayon-line" id="crayon-5a6925022430b590830299-53"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45892</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">10</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022430b590830299-54"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45893</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">10</span></div><div class="crayon-line" id="crayon-5a6925022430b590830299-55"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45891</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">11</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022430b590830299-56"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45892</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">11</span></div><div class="crayon-line" id="crayon-5a6925022430b590830299-57"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45893</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">11</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022430b590830299-58"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45893</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">12</span></div><div class="crayon-line" id="crayon-5a6925022430b590830299-59"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45892</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">12</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022430b590830299-60"><span class="crayon-v">Pid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">45893</span><span class="crayon-h"> </span><span class="crayon-v">LoopCount</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">13</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0046 seconds] -->
<p></p>
<p>嗯，一切都没问题了。</p>
<p>所以在访问临界资源时，使用Lock就可以避免进程同时占用资源而导致的一些问题。</p>
<h2>Semaphore</h2>
<p>信号量，是在进程同步过程中一个比较重要的角色。可以控制临界资源的数量，保证各个进程之间的互斥和同步。</p>
<p>如果你学过操作系统，那么一定对这方面非常了解，如果你还不了解信号量是什么，可以参考</p>
<p><a class="dl link" href="http://blog.csdn.net/qinxiongxu/article/details/7830537">信号量解析</a></p>
<p>来了解一下它是做什么的。</p>
<p>那么接下来我们就用一个实例来演示一下进程之间利用Semaphore做到同步和互斥，以及控制临界资源数量。</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a6925022430f250402253" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; float: left; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div><span class="crayon-language">Python</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
from multiprocessing import Process, Semaphore, Lock, Queue
import time

buffer = Queue(10)
empty = Semaphore(2)
full = Semaphore(0)
lock = Lock()

class Consumer(Process):

    def run(self):
        global buffer, empty, full, lock
        while True:
            full.acquire()
            lock.acquire()
            buffer.get()
            print('Consumer pop an element')
            time.sleep(1)
            lock.release()
            empty.release()


class Producer(Process):
    def run(self):
        global buffer, empty, full, lock
        while True:
            empty.acquire()
            lock.acquire()
            buffer.put(1)
            print('Producer append an element')
            time.sleep(1)
            lock.release()
            full.release()


if __name__ == '__main__':
    p = Producer()
    c = Consumer()
    p.daemon = c.daemon = True
    p.start()
    c.start()
    p.join()
    c.join()
    print 'Ended!'</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a6925022430f250402253-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022430f250402253-2">2</div><div class="crayon-num" data-line="crayon-5a6925022430f250402253-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022430f250402253-4">4</div><div class="crayon-num" data-line="crayon-5a6925022430f250402253-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022430f250402253-6">6</div><div class="crayon-num" data-line="crayon-5a6925022430f250402253-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022430f250402253-8">8</div><div class="crayon-num" data-line="crayon-5a6925022430f250402253-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022430f250402253-10">10</div><div class="crayon-num" data-line="crayon-5a6925022430f250402253-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022430f250402253-12">12</div><div class="crayon-num" data-line="crayon-5a6925022430f250402253-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022430f250402253-14">14</div><div class="crayon-num" data-line="crayon-5a6925022430f250402253-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022430f250402253-16">16</div><div class="crayon-num" data-line="crayon-5a6925022430f250402253-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022430f250402253-18">18</div><div class="crayon-num" data-line="crayon-5a6925022430f250402253-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022430f250402253-20">20</div><div class="crayon-num" data-line="crayon-5a6925022430f250402253-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022430f250402253-22">22</div><div class="crayon-num" data-line="crayon-5a6925022430f250402253-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022430f250402253-24">24</div><div class="crayon-num" data-line="crayon-5a6925022430f250402253-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022430f250402253-26">26</div><div class="crayon-num" data-line="crayon-5a6925022430f250402253-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022430f250402253-28">28</div><div class="crayon-num" data-line="crayon-5a6925022430f250402253-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022430f250402253-30">30</div><div class="crayon-num" data-line="crayon-5a6925022430f250402253-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022430f250402253-32">32</div><div class="crayon-num" data-line="crayon-5a6925022430f250402253-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022430f250402253-34">34</div><div class="crayon-num" data-line="crayon-5a6925022430f250402253-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022430f250402253-36">36</div><div class="crayon-num" data-line="crayon-5a6925022430f250402253-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022430f250402253-38">38</div><div class="crayon-num" data-line="crayon-5a6925022430f250402253-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022430f250402253-40">40</div><div class="crayon-num" data-line="crayon-5a6925022430f250402253-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022430f250402253-42">42</div><div class="crayon-num" data-line="crayon-5a6925022430f250402253-43">43</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022430f250402253-44">44</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a6925022430f250402253-1"><span class="crayon-st">from</span><span class="crayon-h"> </span><span class="crayon-k ">multiprocessing</span><span class="crayon-h"> </span><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-v">Process</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">Semaphore</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">Lock</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-k ">Queue</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022430f250402253-2"><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-k ">time</span></div><div class="crayon-line" id="crayon-5a6925022430f250402253-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022430f250402253-4"><span class="crayon-k ">buffer</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-k ">Queue</span><span class="crayon-sy">(</span><span class="crayon-cn">10</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a6925022430f250402253-5"><span class="crayon-v">empty</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">Semaphore</span><span class="crayon-sy">(</span><span class="crayon-cn">2</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022430f250402253-6"><span class="crayon-v">full</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">Semaphore</span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a6925022430f250402253-7"><span class="crayon-v">lock</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">Lock</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022430f250402253-8">&nbsp;</div><div class="crayon-line" id="crayon-5a6925022430f250402253-9"><span class="crayon-t">class</span><span class="crayon-h"> </span><span class="crayon-e">Consumer</span><span class="crayon-sy">(</span><span class="crayon-v">Process</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022430f250402253-10">&nbsp;</div><div class="crayon-line" id="crayon-5a6925022430f250402253-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">def</span><span class="crayon-h"> </span><span class="crayon-e">run</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022430f250402253-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">global</span><span class="crayon-h"> </span><span class="crayon-k ">buffer</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">empty</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">full</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">lock</span></div><div class="crayon-line" id="crayon-5a6925022430f250402253-13"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">while</span><span class="crayon-h"> </span><span class="crayon-t">True</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022430f250402253-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">full</span><span class="crayon-sy">.</span><span class="crayon-e">acquire</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a6925022430f250402253-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">lock</span><span class="crayon-sy">.</span><span class="crayon-e">acquire</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022430f250402253-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-k ">buffer</span><span class="crayon-sy">.</span><span class="crayon-e">get</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a6925022430f250402253-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-k ">print</span><span class="crayon-sy">(</span><span class="crayon-s">'Consumer pop an element'</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022430f250402253-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-k ">time</span><span class="crayon-sy">.</span><span class="crayon-e">sleep</span><span class="crayon-sy">(</span><span class="crayon-cn">1</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a6925022430f250402253-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">lock</span><span class="crayon-sy">.</span><span class="crayon-e">release</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022430f250402253-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">empty</span><span class="crayon-sy">.</span><span class="crayon-e">release</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a6925022430f250402253-21">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022430f250402253-22">&nbsp;</div><div class="crayon-line" id="crayon-5a6925022430f250402253-23"><span class="crayon-t">class</span><span class="crayon-h"> </span><span class="crayon-e">Producer</span><span class="crayon-sy">(</span><span class="crayon-v">Process</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022430f250402253-24"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">def</span><span class="crayon-h"> </span><span class="crayon-e">run</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5a6925022430f250402253-25"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">global</span><span class="crayon-h"> </span><span class="crayon-k ">buffer</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">empty</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">full</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">lock</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022430f250402253-26"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">while</span><span class="crayon-h"> </span><span class="crayon-t">True</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5a6925022430f250402253-27"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">empty</span><span class="crayon-sy">.</span><span class="crayon-e">acquire</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022430f250402253-28"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">lock</span><span class="crayon-sy">.</span><span class="crayon-e">acquire</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a6925022430f250402253-29"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-k ">buffer</span><span class="crayon-sy">.</span><span class="crayon-e">put</span><span class="crayon-sy">(</span><span class="crayon-cn">1</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022430f250402253-30"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-k ">print</span><span class="crayon-sy">(</span><span class="crayon-s">'Producer append an element'</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a6925022430f250402253-31"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-k ">time</span><span class="crayon-sy">.</span><span class="crayon-e">sleep</span><span class="crayon-sy">(</span><span class="crayon-cn">1</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022430f250402253-32"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">lock</span><span class="crayon-sy">.</span><span class="crayon-e">release</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a6925022430f250402253-33"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">full</span><span class="crayon-sy">.</span><span class="crayon-e">release</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022430f250402253-34">&nbsp;</div><div class="crayon-line" id="crayon-5a6925022430f250402253-35">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022430f250402253-36"><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-v">__name__</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-s">'__main__'</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5a6925022430f250402253-37"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">p</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">Producer</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022430f250402253-38"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">c</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">Consumer</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a6925022430f250402253-39"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">p</span><span class="crayon-sy">.</span><span class="crayon-v">daemon</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">c</span><span class="crayon-sy">.</span><span class="crayon-v">daemon</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">True</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022430f250402253-40"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">p</span><span class="crayon-sy">.</span><span class="crayon-e">start</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a6925022430f250402253-41"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">c</span><span class="crayon-sy">.</span><span class="crayon-e">start</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022430f250402253-42"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">p</span><span class="crayon-sy">.</span><span class="crayon-e">join</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a6925022430f250402253-43"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">c</span><span class="crayon-sy">.</span><span class="crayon-e">join</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022430f250402253-44"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-k ">print</span><span class="crayon-h"> </span><span class="crayon-s">'Ended!'</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0027 seconds] -->
<p></p>
<p>如上代码实现了注明的生产者和消费者问题，定义了两个进程类，一个是消费者，一个是生产者。</p>
<p>定义了一个共享队列，利用了Queue数据结构，然后定义了两个信号量，一个代表缓冲区空余数，一个表示缓冲区占用数。</p>
<p>生产者Producer使用empty.acquire()方法来占用一个缓冲区位置，然后缓冲区空闲区大小减小1，接下来进行加锁，对缓冲区进行操作。然后释放锁，然后让代表占用的缓冲区位置数量+1，消费者则相反。</p>
<p>运行结果如下：</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a69250224312681541866" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; float: left; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
Producer append an element
Producer append an element
Consumer pop an element
Consumer pop an element
Producer append an element
Producer append an element
Consumer pop an element
Consumer pop an element
Producer append an element
Producer append an element
Consumer pop an element
Consumer pop an element
Producer append an element
Producer append an element</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a69250224312681541866-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224312681541866-2">2</div><div class="crayon-num" data-line="crayon-5a69250224312681541866-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224312681541866-4">4</div><div class="crayon-num" data-line="crayon-5a69250224312681541866-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224312681541866-6">6</div><div class="crayon-num" data-line="crayon-5a69250224312681541866-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224312681541866-8">8</div><div class="crayon-num" data-line="crayon-5a69250224312681541866-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224312681541866-10">10</div><div class="crayon-num" data-line="crayon-5a69250224312681541866-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224312681541866-12">12</div><div class="crayon-num" data-line="crayon-5a69250224312681541866-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224312681541866-14">14</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a69250224312681541866-1"><span class="crayon-e">Producer </span><span class="crayon-e">append </span><span class="crayon-e">an </span><span class="crayon-e">element</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224312681541866-2"><span class="crayon-e">Producer </span><span class="crayon-e">append </span><span class="crayon-e">an </span><span class="crayon-e">element</span></div><div class="crayon-line" id="crayon-5a69250224312681541866-3"><span class="crayon-e">Consumer </span><span class="crayon-e">pop </span><span class="crayon-e">an </span><span class="crayon-e">element</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224312681541866-4"><span class="crayon-e">Consumer </span><span class="crayon-e">pop </span><span class="crayon-e">an </span><span class="crayon-e">element</span></div><div class="crayon-line" id="crayon-5a69250224312681541866-5"><span class="crayon-e">Producer </span><span class="crayon-e">append </span><span class="crayon-e">an </span><span class="crayon-e">element</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224312681541866-6"><span class="crayon-e">Producer </span><span class="crayon-e">append </span><span class="crayon-e">an </span><span class="crayon-e">element</span></div><div class="crayon-line" id="crayon-5a69250224312681541866-7"><span class="crayon-e">Consumer </span><span class="crayon-e">pop </span><span class="crayon-e">an </span><span class="crayon-e">element</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224312681541866-8"><span class="crayon-e">Consumer </span><span class="crayon-e">pop </span><span class="crayon-e">an </span><span class="crayon-e">element</span></div><div class="crayon-line" id="crayon-5a69250224312681541866-9"><span class="crayon-e">Producer </span><span class="crayon-e">append </span><span class="crayon-e">an </span><span class="crayon-e">element</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224312681541866-10"><span class="crayon-e">Producer </span><span class="crayon-e">append </span><span class="crayon-e">an </span><span class="crayon-e">element</span></div><div class="crayon-line" id="crayon-5a69250224312681541866-11"><span class="crayon-e">Consumer </span><span class="crayon-e">pop </span><span class="crayon-e">an </span><span class="crayon-e">element</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224312681541866-12"><span class="crayon-e">Consumer </span><span class="crayon-e">pop </span><span class="crayon-e">an </span><span class="crayon-e">element</span></div><div class="crayon-line" id="crayon-5a69250224312681541866-13"><span class="crayon-e">Producer </span><span class="crayon-e">append </span><span class="crayon-e">an </span><span class="crayon-e">element</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224312681541866-14"><span class="crayon-e">Producer </span><span class="crayon-e">append </span><span class="crayon-e">an </span><span class="crayon-v">element</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0006 seconds] -->
<p></p>
<p>可以发现两个进程在交替运行，生产者先放入缓冲区物品，然后消费者取出，不停地进行循环。</p>
<p>通过上面的例子来体会一下信号量的用法。</p>
<h2>Queue</h2>
<p>在上面的例子中我们使用了Queue，可以作为进程通信的共享队列使用。</p>
<p>在上面的程序中，如果你把Queue换成普通的list，是完全起不到效果的。即使在一个进程中改变了这个list，在另一个进程也不能获取到它的状态。</p>
<p>因此进程间的通信，队列需要用Queue。当然这里的队列指的是 multiprocessing.Queue</p>
<p>依然是用上面那个例子，我们一个进程向队列中放入数据，然后另一个进程取出数据。</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a69250224315690115006" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; float: left; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
from multiprocessing import Process, Semaphore, Lock, Queue
import time
from random import random

buffer = Queue(10)
empty = Semaphore(2)
full = Semaphore(0)
lock = Lock()

class Consumer(Process):

    def run(self):
        global buffer, empty, full, lock
        while True:
            full.acquire()
            lock.acquire()
            print 'Consumer get', buffer.get()
            time.sleep(1)
            lock.release()
            empty.release()


class Producer(Process):
    def run(self):
        global buffer, empty, full, lock
        while True:
            empty.acquire()
            lock.acquire()
            num = random()
            print 'Producer put ', num
            buffer.put(num)
            time.sleep(1)
            lock.release()
            full.release()


if __name__ == '__main__':
    p = Producer()
    c = Consumer()
    p.daemon = c.daemon = True
    p.start()
    c.start()
    p.join()
    c.join()
    print 'Ended!'</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a69250224315690115006-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224315690115006-2">2</div><div class="crayon-num" data-line="crayon-5a69250224315690115006-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224315690115006-4">4</div><div class="crayon-num" data-line="crayon-5a69250224315690115006-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224315690115006-6">6</div><div class="crayon-num" data-line="crayon-5a69250224315690115006-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224315690115006-8">8</div><div class="crayon-num" data-line="crayon-5a69250224315690115006-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224315690115006-10">10</div><div class="crayon-num" data-line="crayon-5a69250224315690115006-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224315690115006-12">12</div><div class="crayon-num" data-line="crayon-5a69250224315690115006-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224315690115006-14">14</div><div class="crayon-num" data-line="crayon-5a69250224315690115006-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224315690115006-16">16</div><div class="crayon-num" data-line="crayon-5a69250224315690115006-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224315690115006-18">18</div><div class="crayon-num" data-line="crayon-5a69250224315690115006-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224315690115006-20">20</div><div class="crayon-num" data-line="crayon-5a69250224315690115006-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224315690115006-22">22</div><div class="crayon-num" data-line="crayon-5a69250224315690115006-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224315690115006-24">24</div><div class="crayon-num" data-line="crayon-5a69250224315690115006-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224315690115006-26">26</div><div class="crayon-num" data-line="crayon-5a69250224315690115006-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224315690115006-28">28</div><div class="crayon-num" data-line="crayon-5a69250224315690115006-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224315690115006-30">30</div><div class="crayon-num" data-line="crayon-5a69250224315690115006-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224315690115006-32">32</div><div class="crayon-num" data-line="crayon-5a69250224315690115006-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224315690115006-34">34</div><div class="crayon-num" data-line="crayon-5a69250224315690115006-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224315690115006-36">36</div><div class="crayon-num" data-line="crayon-5a69250224315690115006-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224315690115006-38">38</div><div class="crayon-num" data-line="crayon-5a69250224315690115006-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224315690115006-40">40</div><div class="crayon-num" data-line="crayon-5a69250224315690115006-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224315690115006-42">42</div><div class="crayon-num" data-line="crayon-5a69250224315690115006-43">43</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224315690115006-44">44</div><div class="crayon-num" data-line="crayon-5a69250224315690115006-45">45</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a69250224315690115006-1"><span class="crayon-e">from </span><span class="crayon-e">multiprocessing </span><span class="crayon-e">import </span><span class="crayon-v">Process</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">Semaphore</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">Lock</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">Queue</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224315690115006-2"><span class="crayon-e">import </span><span class="crayon-e">time</span></div><div class="crayon-line" id="crayon-5a69250224315690115006-3"><span class="crayon-e">from </span><span class="crayon-e">random </span><span class="crayon-e">import </span><span class="crayon-e">random</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224315690115006-4">&nbsp;</div><div class="crayon-line" id="crayon-5a69250224315690115006-5"><span class="crayon-v">buffer</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">Queue</span><span class="crayon-sy">(</span><span class="crayon-cn">10</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224315690115006-6"><span class="crayon-v">empty</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">Semaphore</span><span class="crayon-sy">(</span><span class="crayon-cn">2</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a69250224315690115006-7"><span class="crayon-v">full</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">Semaphore</span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224315690115006-8"><span class="crayon-v">lock</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">Lock</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a69250224315690115006-9">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224315690115006-10"><span class="crayon-t">class</span><span class="crayon-h"> </span><span class="crayon-e">Consumer</span><span class="crayon-sy">(</span><span class="crayon-v">Process</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5a69250224315690115006-11">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224315690115006-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">def </span><span class="crayon-e">run</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5a69250224315690115006-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">global</span><span class="crayon-h"> </span><span class="crayon-v">buffer</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">empty</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">full</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">lock</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224315690115006-14"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">while</span><span class="crayon-h"> </span><span class="crayon-t">True</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5a69250224315690115006-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">full</span><span class="crayon-sy">.</span><span class="crayon-e">acquire</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224315690115006-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">lock</span><span class="crayon-sy">.</span><span class="crayon-e">acquire</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a69250224315690115006-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">print</span><span class="crayon-h"> </span><span class="crayon-s">'Consumer get'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">buffer</span><span class="crayon-sy">.</span><span class="crayon-e">get</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224315690115006-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">time</span><span class="crayon-sy">.</span><span class="crayon-e">sleep</span><span class="crayon-sy">(</span><span class="crayon-cn">1</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a69250224315690115006-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">lock</span><span class="crayon-sy">.</span><span class="crayon-e">release</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224315690115006-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">empty</span><span class="crayon-sy">.</span><span class="crayon-e">release</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a69250224315690115006-21">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224315690115006-22">&nbsp;</div><div class="crayon-line" id="crayon-5a69250224315690115006-23"><span class="crayon-t">class</span><span class="crayon-h"> </span><span class="crayon-e">Producer</span><span class="crayon-sy">(</span><span class="crayon-v">Process</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224315690115006-24"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">def </span><span class="crayon-e">run</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5a69250224315690115006-25"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">global</span><span class="crayon-h"> </span><span class="crayon-v">buffer</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">empty</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">full</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">lock</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224315690115006-26"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">while</span><span class="crayon-h"> </span><span class="crayon-t">True</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5a69250224315690115006-27"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">empty</span><span class="crayon-sy">.</span><span class="crayon-e">acquire</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224315690115006-28"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">lock</span><span class="crayon-sy">.</span><span class="crayon-e">acquire</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a69250224315690115006-29"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">num</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">random</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224315690115006-30"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">print</span><span class="crayon-h"> </span><span class="crayon-s">'Producer put '</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">num</span></div><div class="crayon-line" id="crayon-5a69250224315690115006-31"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">buffer</span><span class="crayon-sy">.</span><span class="crayon-e">put</span><span class="crayon-sy">(</span><span class="crayon-v">num</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224315690115006-32"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">time</span><span class="crayon-sy">.</span><span class="crayon-e">sleep</span><span class="crayon-sy">(</span><span class="crayon-cn">1</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a69250224315690115006-33"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">lock</span><span class="crayon-sy">.</span><span class="crayon-e">release</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224315690115006-34"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">full</span><span class="crayon-sy">.</span><span class="crayon-e">release</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a69250224315690115006-35">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224315690115006-36">&nbsp;</div><div class="crayon-line" id="crayon-5a69250224315690115006-37"><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-v">__name__</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-s">'__main__'</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224315690115006-38"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">p</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">Producer</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a69250224315690115006-39"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">c</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">Consumer</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224315690115006-40"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">p</span><span class="crayon-sy">.</span><span class="crayon-v">daemon</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">c</span><span class="crayon-sy">.</span><span class="crayon-v">daemon</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">True</span></div><div class="crayon-line" id="crayon-5a69250224315690115006-41"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">p</span><span class="crayon-sy">.</span><span class="crayon-e">start</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224315690115006-42"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">c</span><span class="crayon-sy">.</span><span class="crayon-e">start</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a69250224315690115006-43"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">p</span><span class="crayon-sy">.</span><span class="crayon-e">join</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224315690115006-44"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">c</span><span class="crayon-sy">.</span><span class="crayon-e">join</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a69250224315690115006-45"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">print</span><span class="crayon-h"> </span><span class="crayon-s">'Ended!'</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0024 seconds] -->
<p></p>
<p>运行结果：</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a69250224318311999623" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; float: left; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
Producer put  0.719213647437
Producer put  0.44287326683
Consumer get 0.719213647437
Consumer get 0.44287326683
Producer put  0.722859424381
Producer put  0.525321338921
Consumer get 0.722859424381
Consumer get 0.525321338921</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a69250224318311999623-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224318311999623-2">2</div><div class="crayon-num" data-line="crayon-5a69250224318311999623-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224318311999623-4">4</div><div class="crayon-num" data-line="crayon-5a69250224318311999623-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224318311999623-6">6</div><div class="crayon-num" data-line="crayon-5a69250224318311999623-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224318311999623-8">8</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a69250224318311999623-1"><span class="crayon-e">Producer </span><span class="crayon-i">put</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-cn">0.719213647437</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224318311999623-2"><span class="crayon-e">Producer </span><span class="crayon-i">put</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-cn">0.44287326683</span></div><div class="crayon-line" id="crayon-5a69250224318311999623-3"><span class="crayon-e">Consumer </span><span class="crayon-i">get</span><span class="crayon-h"> </span><span class="crayon-cn">0.719213647437</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224318311999623-4"><span class="crayon-e">Consumer </span><span class="crayon-i">get</span><span class="crayon-h"> </span><span class="crayon-cn">0.44287326683</span></div><div class="crayon-line" id="crayon-5a69250224318311999623-5"><span class="crayon-e">Producer </span><span class="crayon-i">put</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-cn">0.722859424381</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224318311999623-6"><span class="crayon-e">Producer </span><span class="crayon-i">put</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-cn">0.525321338921</span></div><div class="crayon-line" id="crayon-5a69250224318311999623-7"><span class="crayon-e">Consumer </span><span class="crayon-i">get</span><span class="crayon-h"> </span><span class="crayon-cn">0.722859424381</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224318311999623-8"><span class="crayon-e">Consumer </span><span class="crayon-i">get</span><span class="crayon-h"> </span><span class="crayon-cn">0.525321338921</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0003 seconds] -->
<p></p>
<p>可以看到生产者放入队列中数据，然后消费者将数据取出来。</p>
<p>get方法有两个参数，blocked和timeout，意思为阻塞和超时时间。默认blocked是true，即阻塞式。</p>
<p>当一个队列为空的时候如果再用get取则会阻塞，所以这时候就需要吧blocked设置为false，即非阻塞式，实际上它就会调用get_nowait()方法，此时还需要设置一个超时时间，在这么长的时间内还没有取到队列元素，那就抛出Queue.Empty异常。</p>
<p>当一个队列为满的时候如果再用put放则会阻塞，所以这时候就需要吧blocked设置为false，即非阻塞式，实际上它就会调用put_nowait()方法，此时还需要设置一个超时时间，在这么长的时间内还没有放进去元素，那就抛出Queue.Full异常。</p>
<p>另外队列中常用的方法</p>
<p>Queue.qsize() 返回队列的大小 ，不过在 Mac OS 上没法运行。</p>
<p>原因：</p>
<blockquote>
<p class="">def qsize(self):<br />
# Raises NotImplementedError on Mac OSX because of broken sem_getvalue()<br />
return self._maxsize &#8211; self._sem._semlock._get_value()</p>
</blockquote>
<p>Queue.empty() 如果队列为空，返回True, 反之False</p>
<p>Queue.full() 如果队列满了，返回True,反之False</p>
<p>Queue.get([block[, timeout]]) 获取队列，timeout等待时间</p>
<p>Queue.get_nowait() 相当Queue.get(False)</p>
<p>Queue.put(item) 阻塞式写入队列，timeout等待时间</p>
<p>Queue.put_nowait(item) 相当Queue.put(item, False)</p>
<h2>Pipe</h2>
<p>管道，顾名思义，一端发一端收。</p>
<p>Pipe可以是单向(half-duplex)，也可以是双向(duplex)。我们通过mutiprocessing.Pipe(duplex=False)创建单向管道 (默认为双向)。一个进程从PIPE一端输入对象，然后被PIPE另一端的进程接收，单向管道只允许管道一端的进程输入，而双向管道则允许从两端输入。</p>
<p>用一个实例来感受一下：</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a6925022431c249707365" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; float: left; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
from multiprocessing import Process, Pipe


class Consumer(Process):
    def __init__(self, pipe):
        Process.__init__(self)
        self.pipe = pipe

    def run(self):
        self.pipe.send('Consumer Words')
        print 'Consumer Received:', self.pipe.recv()


class Producer(Process):
    def __init__(self, pipe):
        Process.__init__(self)
        self.pipe = pipe

    def run(self):
        print 'Producer Received:', self.pipe.recv()
        self.pipe.send('Producer Words')


if __name__ == '__main__':
    pipe = Pipe()
    p = Producer(pipe[0])
    c = Consumer(pipe[1])
    p.daemon = c.daemon = True
    p.start()
    c.start()
    p.join()
    c.join()
    print 'Ended!'</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a6925022431c249707365-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022431c249707365-2">2</div><div class="crayon-num" data-line="crayon-5a6925022431c249707365-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022431c249707365-4">4</div><div class="crayon-num" data-line="crayon-5a6925022431c249707365-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022431c249707365-6">6</div><div class="crayon-num" data-line="crayon-5a6925022431c249707365-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022431c249707365-8">8</div><div class="crayon-num" data-line="crayon-5a6925022431c249707365-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022431c249707365-10">10</div><div class="crayon-num" data-line="crayon-5a6925022431c249707365-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022431c249707365-12">12</div><div class="crayon-num" data-line="crayon-5a6925022431c249707365-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022431c249707365-14">14</div><div class="crayon-num" data-line="crayon-5a6925022431c249707365-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022431c249707365-16">16</div><div class="crayon-num" data-line="crayon-5a6925022431c249707365-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022431c249707365-18">18</div><div class="crayon-num" data-line="crayon-5a6925022431c249707365-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022431c249707365-20">20</div><div class="crayon-num" data-line="crayon-5a6925022431c249707365-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022431c249707365-22">22</div><div class="crayon-num" data-line="crayon-5a6925022431c249707365-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022431c249707365-24">24</div><div class="crayon-num" data-line="crayon-5a6925022431c249707365-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022431c249707365-26">26</div><div class="crayon-num" data-line="crayon-5a6925022431c249707365-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022431c249707365-28">28</div><div class="crayon-num" data-line="crayon-5a6925022431c249707365-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022431c249707365-30">30</div><div class="crayon-num" data-line="crayon-5a6925022431c249707365-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022431c249707365-32">32</div><div class="crayon-num" data-line="crayon-5a6925022431c249707365-33">33</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a6925022431c249707365-1"><span class="crayon-e">from </span><span class="crayon-e">multiprocessing </span><span class="crayon-e">import </span><span class="crayon-v">Process</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">Pipe</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022431c249707365-2">&nbsp;</div><div class="crayon-line" id="crayon-5a6925022431c249707365-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022431c249707365-4"><span class="crayon-t">class</span><span class="crayon-h"> </span><span class="crayon-e">Consumer</span><span class="crayon-sy">(</span><span class="crayon-v">Process</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5a6925022431c249707365-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">def </span><span class="crayon-e">__init__</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">pipe</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022431c249707365-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">Process</span><span class="crayon-sy">.</span><span class="crayon-e">__init__</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a6925022431c249707365-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">pipe</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">pipe</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022431c249707365-8">&nbsp;</div><div class="crayon-line" id="crayon-5a6925022431c249707365-9"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">def </span><span class="crayon-e">run</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022431c249707365-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">pipe</span><span class="crayon-sy">.</span><span class="crayon-e">send</span><span class="crayon-sy">(</span><span class="crayon-s">'Consumer Words'</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a6925022431c249707365-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">print</span><span class="crayon-h"> </span><span class="crayon-s">'Consumer Received:'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">pipe</span><span class="crayon-sy">.</span><span class="crayon-e">recv</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022431c249707365-12">&nbsp;</div><div class="crayon-line" id="crayon-5a6925022431c249707365-13">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022431c249707365-14"><span class="crayon-t">class</span><span class="crayon-h"> </span><span class="crayon-e">Producer</span><span class="crayon-sy">(</span><span class="crayon-v">Process</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5a6925022431c249707365-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">def </span><span class="crayon-e">__init__</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">pipe</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022431c249707365-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">Process</span><span class="crayon-sy">.</span><span class="crayon-e">__init__</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a6925022431c249707365-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">pipe</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">pipe</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022431c249707365-18">&nbsp;</div><div class="crayon-line" id="crayon-5a6925022431c249707365-19"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">def </span><span class="crayon-e">run</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022431c249707365-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">print</span><span class="crayon-h"> </span><span class="crayon-s">'Producer Received:'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">pipe</span><span class="crayon-sy">.</span><span class="crayon-e">recv</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a6925022431c249707365-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">pipe</span><span class="crayon-sy">.</span><span class="crayon-e">send</span><span class="crayon-sy">(</span><span class="crayon-s">'Producer Words'</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022431c249707365-22">&nbsp;</div><div class="crayon-line" id="crayon-5a6925022431c249707365-23">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022431c249707365-24"><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-v">__name__</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-s">'__main__'</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5a6925022431c249707365-25"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">pipe</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">Pipe</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022431c249707365-26"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">p</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">Producer</span><span class="crayon-sy">(</span><span class="crayon-v">pipe</span><span class="crayon-sy">[</span><span class="crayon-cn">0</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a6925022431c249707365-27"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">c</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">Consumer</span><span class="crayon-sy">(</span><span class="crayon-v">pipe</span><span class="crayon-sy">[</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022431c249707365-28"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">p</span><span class="crayon-sy">.</span><span class="crayon-v">daemon</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">c</span><span class="crayon-sy">.</span><span class="crayon-v">daemon</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">True</span></div><div class="crayon-line" id="crayon-5a6925022431c249707365-29"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">p</span><span class="crayon-sy">.</span><span class="crayon-e">start</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022431c249707365-30"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">c</span><span class="crayon-sy">.</span><span class="crayon-e">start</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a6925022431c249707365-31"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">p</span><span class="crayon-sy">.</span><span class="crayon-e">join</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022431c249707365-32"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">c</span><span class="crayon-sy">.</span><span class="crayon-e">join</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a6925022431c249707365-33"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">print</span><span class="crayon-h"> </span><span class="crayon-s">'Ended!'</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0018 seconds] -->
<p></p>
<p>在这里声明了一个默认为双向的管道，然后将管道的两端分别传给两个进程。两个进程互相收发。观察一下结果：</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a69250224323902252250" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; float: left; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
Producer Received: Consumer Words
Consumer Received: Producer Words
Ended!</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a69250224323902252250-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224323902252250-2">2</div><div class="crayon-num" data-line="crayon-5a69250224323902252250-3">3</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a69250224323902252250-1"><span class="crayon-e">Producer </span><span class="crayon-v">Received</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">Consumer </span><span class="crayon-e">Words</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224323902252250-2"><span class="crayon-e">Consumer </span><span class="crayon-v">Received</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">Producer </span><span class="crayon-e">Words</span></div><div class="crayon-line" id="crayon-5a69250224323902252250-3"><span class="crayon-v">Ended</span><span class="crayon-o">!</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->
<p></p>
<p>以上是对pipe的简单介绍。</p>
<h2>Pool</h2>
<p>在利用Python进行系统管理的时候，特别是同时操作多个文件目录，或者远程控制多台主机，并行操作可以节约大量的时间。当被操作对象数目不大时，可以直接利用multiprocessing中的Process动态成生多个进程，十几个还好，但如果是上百个，上千个目标，手动的去限制进程数量却又太过繁琐，此时可以发挥进程池的功效。<br />
Pool可以提供指定数量的进程，供用户调用，当有新的请求提交到pool中时，如果池还没有满，那么就会创建一个新的进程用来执行该请求；但如果池中的进程数已经达到规定最大值，那么该请求就会等待，直到池中有进程结束，才会创建新的进程来它。</p>
<p>在这里需要了解阻塞和非阻塞的概念。</p>
<p>阻塞和非阻塞关注的是程序在等待调用结果（消息，返回值）时的状态。</p>
<p>阻塞即要等到回调结果出来，在有结果之前，当前进程会被挂起。</p>
<p>Pool的用法有阻塞和非阻塞两种方式。非阻塞即为添加进程后，不一定非要等到改进程执行完就添加其他进程运行，阻塞则相反。</p>
<p>现用一个实例感受一下非阻塞的用法：</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a69250224327574222689" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; float: left; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div><span class="crayon-language">Python</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
from multiprocessing import Lock, Pool
import time


def function(index):
    print 'Start process: ', index
    time.sleep(3)
    print 'End process', index


if __name__ == '__main__':
    pool = Pool(processes=3)
    for i in xrange(4):
        pool.apply_async(function, (i,))

    print "Started processes"
    pool.close()
    pool.join()
    print "Subprocess done."</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a69250224327574222689-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224327574222689-2">2</div><div class="crayon-num" data-line="crayon-5a69250224327574222689-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224327574222689-4">4</div><div class="crayon-num" data-line="crayon-5a69250224327574222689-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224327574222689-6">6</div><div class="crayon-num" data-line="crayon-5a69250224327574222689-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224327574222689-8">8</div><div class="crayon-num" data-line="crayon-5a69250224327574222689-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224327574222689-10">10</div><div class="crayon-num" data-line="crayon-5a69250224327574222689-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224327574222689-12">12</div><div class="crayon-num" data-line="crayon-5a69250224327574222689-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224327574222689-14">14</div><div class="crayon-num" data-line="crayon-5a69250224327574222689-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224327574222689-16">16</div><div class="crayon-num" data-line="crayon-5a69250224327574222689-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224327574222689-18">18</div><div class="crayon-num" data-line="crayon-5a69250224327574222689-19">19</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a69250224327574222689-1"><span class="crayon-st">from</span><span class="crayon-h"> </span><span class="crayon-k ">multiprocessing</span><span class="crayon-h"> </span><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-v">Lock</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">Pool</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224327574222689-2"><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-k ">time</span></div><div class="crayon-line" id="crayon-5a69250224327574222689-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224327574222689-4">&nbsp;</div><div class="crayon-line" id="crayon-5a69250224327574222689-5"><span class="crayon-r">def</span><span class="crayon-h"> </span><span class="crayon-e">function</span><span class="crayon-sy">(</span><span class="crayon-v">index</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224327574222689-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-k ">print</span><span class="crayon-h"> </span><span class="crayon-s">'Start process: '</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">index</span></div><div class="crayon-line" id="crayon-5a69250224327574222689-7"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-k ">time</span><span class="crayon-sy">.</span><span class="crayon-e">sleep</span><span class="crayon-sy">(</span><span class="crayon-cn">3</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224327574222689-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-k ">print</span><span class="crayon-h"> </span><span class="crayon-s">'End process'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">index</span></div><div class="crayon-line" id="crayon-5a69250224327574222689-9">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224327574222689-10">&nbsp;</div><div class="crayon-line" id="crayon-5a69250224327574222689-11"><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-v">__name__</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-s">'__main__'</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224327574222689-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">pool</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">Pool</span><span class="crayon-sy">(</span><span class="crayon-v">processes</span><span class="crayon-o">=</span><span class="crayon-cn">3</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a69250224327574222689-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-i">i</span><span class="crayon-h"> </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-k ">xrange</span><span class="crayon-sy">(</span><span class="crayon-cn">4</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224327574222689-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">pool</span><span class="crayon-sy">.</span><span class="crayon-e">apply_async</span><span class="crayon-sy">(</span><span class="crayon-v">function</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">i</span><span class="crayon-sy">,</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a69250224327574222689-15">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224327574222689-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-k ">print</span><span class="crayon-h"> </span><span class="crayon-s">"Started processes"</span></div><div class="crayon-line" id="crayon-5a69250224327574222689-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">pool</span><span class="crayon-sy">.</span><span class="crayon-e">close</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224327574222689-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">pool</span><span class="crayon-sy">.</span><span class="crayon-e">join</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a69250224327574222689-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-k ">print</span><span class="crayon-h"> </span><span class="crayon-s">"Subprocess done."</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0011 seconds] -->
<p></p>
<p>在这里利用了apply_async方法，即非阻塞。</p>
<p>运行结果：</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a6925022432a709749736" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; float: left; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
Started processes
Start process: Start process:  0 
1
Start process:  2
End processEnd process 0 
1
Start process:  3
End process 2
End process 3
Subprocess done.</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a6925022432a709749736-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022432a709749736-2">2</div><div class="crayon-num" data-line="crayon-5a6925022432a709749736-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022432a709749736-4">4</div><div class="crayon-num" data-line="crayon-5a6925022432a709749736-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022432a709749736-6">6</div><div class="crayon-num" data-line="crayon-5a6925022432a709749736-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022432a709749736-8">8</div><div class="crayon-num" data-line="crayon-5a6925022432a709749736-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022432a709749736-10">10</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a6925022432a709749736-1"><span class="crayon-e">Started </span><span class="crayon-e">processes</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022432a709749736-2"><span class="crayon-e">Start </span><span class="crayon-v">process</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">Start </span><span class="crayon-v">process</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-cn">0</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-5a6925022432a709749736-3"><span class="crayon-cn">1</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022432a709749736-4"><span class="crayon-e">Start </span><span class="crayon-v">process</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-cn">2</span></div><div class="crayon-line" id="crayon-5a6925022432a709749736-5"><span class="crayon-st">End</span><span class="crayon-h"> </span><span class="crayon-e">processEnd </span><span class="crayon-i">process</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022432a709749736-6"><span class="crayon-cn">1</span></div><div class="crayon-line" id="crayon-5a6925022432a709749736-7"><span class="crayon-e">Start </span><span class="crayon-v">process</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-cn">3</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022432a709749736-8"><span class="crayon-st">End</span><span class="crayon-h"> </span><span class="crayon-i">process</span><span class="crayon-h"> </span><span class="crayon-cn">2</span></div><div class="crayon-line" id="crayon-5a6925022432a709749736-9"><span class="crayon-st">End</span><span class="crayon-h"> </span><span class="crayon-i">process</span><span class="crayon-h"> </span><span class="crayon-cn">3</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022432a709749736-10"><span class="crayon-e">Subprocess </span><span class="crayon-v">done</span><span class="crayon-sy">.</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0004 seconds] -->
<p></p>
<p>可以发现在这里添加三个进程进去后，立马就开始执行，不用非要等到某个进程结束后再添加新的进程进去。</p>
<p>下面再看看阻塞的用法：</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a6925022432c571870701" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; float: left; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div><span class="crayon-language">Python</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
from multiprocessing import Lock, Pool
import time


def function(index):
    print 'Start process: ', index
    time.sleep(3)
    print 'End process', index


if __name__ == '__main__':
    pool = Pool(processes=3)
    for i in xrange(4):
        pool.apply(function, (i,))

    print "Started processes"
    pool.close()
    pool.join()
    print "Subprocess done."</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a6925022432c571870701-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022432c571870701-2">2</div><div class="crayon-num" data-line="crayon-5a6925022432c571870701-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022432c571870701-4">4</div><div class="crayon-num" data-line="crayon-5a6925022432c571870701-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022432c571870701-6">6</div><div class="crayon-num" data-line="crayon-5a6925022432c571870701-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022432c571870701-8">8</div><div class="crayon-num" data-line="crayon-5a6925022432c571870701-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022432c571870701-10">10</div><div class="crayon-num" data-line="crayon-5a6925022432c571870701-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022432c571870701-12">12</div><div class="crayon-num" data-line="crayon-5a6925022432c571870701-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022432c571870701-14">14</div><div class="crayon-num" data-line="crayon-5a6925022432c571870701-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022432c571870701-16">16</div><div class="crayon-num" data-line="crayon-5a6925022432c571870701-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022432c571870701-18">18</div><div class="crayon-num" data-line="crayon-5a6925022432c571870701-19">19</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a6925022432c571870701-1"><span class="crayon-st">from</span><span class="crayon-h"> </span><span class="crayon-k ">multiprocessing</span><span class="crayon-h"> </span><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-v">Lock</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">Pool</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022432c571870701-2"><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-k ">time</span></div><div class="crayon-line" id="crayon-5a6925022432c571870701-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022432c571870701-4">&nbsp;</div><div class="crayon-line" id="crayon-5a6925022432c571870701-5"><span class="crayon-r">def</span><span class="crayon-h"> </span><span class="crayon-e">function</span><span class="crayon-sy">(</span><span class="crayon-v">index</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022432c571870701-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-k ">print</span><span class="crayon-h"> </span><span class="crayon-s">'Start process: '</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">index</span></div><div class="crayon-line" id="crayon-5a6925022432c571870701-7"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-k ">time</span><span class="crayon-sy">.</span><span class="crayon-e">sleep</span><span class="crayon-sy">(</span><span class="crayon-cn">3</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022432c571870701-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-k ">print</span><span class="crayon-h"> </span><span class="crayon-s">'End process'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">index</span></div><div class="crayon-line" id="crayon-5a6925022432c571870701-9">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022432c571870701-10">&nbsp;</div><div class="crayon-line" id="crayon-5a6925022432c571870701-11"><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-v">__name__</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-s">'__main__'</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022432c571870701-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">pool</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">Pool</span><span class="crayon-sy">(</span><span class="crayon-v">processes</span><span class="crayon-o">=</span><span class="crayon-cn">3</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a6925022432c571870701-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-i">i</span><span class="crayon-h"> </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-k ">xrange</span><span class="crayon-sy">(</span><span class="crayon-cn">4</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022432c571870701-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">pool</span><span class="crayon-sy">.</span><span class="crayon-k ">apply</span><span class="crayon-sy">(</span><span class="crayon-v">function</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">i</span><span class="crayon-sy">,</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a6925022432c571870701-15">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022432c571870701-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-k ">print</span><span class="crayon-h"> </span><span class="crayon-s">"Started processes"</span></div><div class="crayon-line" id="crayon-5a6925022432c571870701-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">pool</span><span class="crayon-sy">.</span><span class="crayon-e">close</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022432c571870701-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">pool</span><span class="crayon-sy">.</span><span class="crayon-e">join</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a6925022432c571870701-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-k ">print</span><span class="crayon-h"> </span><span class="crayon-s">"Subprocess done."</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0011 seconds] -->
<p></p>
<p>在这里只需要把apply_async改成apply即可。</p>
<p>运行结果如下：</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a6925022432f628743382" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; float: left; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
Start process:  0
End process 0
Start process:  1
End process 1
Start process:  2
End process 2
Start process:  3
End process 3
Started processes
Subprocess done.</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a6925022432f628743382-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022432f628743382-2">2</div><div class="crayon-num" data-line="crayon-5a6925022432f628743382-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022432f628743382-4">4</div><div class="crayon-num" data-line="crayon-5a6925022432f628743382-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022432f628743382-6">6</div><div class="crayon-num" data-line="crayon-5a6925022432f628743382-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022432f628743382-8">8</div><div class="crayon-num" data-line="crayon-5a6925022432f628743382-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022432f628743382-10">10</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a6925022432f628743382-1"><span class="crayon-e">Start </span><span class="crayon-v">process</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-cn">0</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022432f628743382-2"><span class="crayon-st">End</span><span class="crayon-h"> </span><span class="crayon-i">process</span><span class="crayon-h"> </span><span class="crayon-cn">0</span></div><div class="crayon-line" id="crayon-5a6925022432f628743382-3"><span class="crayon-e">Start </span><span class="crayon-v">process</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-cn">1</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022432f628743382-4"><span class="crayon-st">End</span><span class="crayon-h"> </span><span class="crayon-i">process</span><span class="crayon-h"> </span><span class="crayon-cn">1</span></div><div class="crayon-line" id="crayon-5a6925022432f628743382-5"><span class="crayon-e">Start </span><span class="crayon-v">process</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-cn">2</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022432f628743382-6"><span class="crayon-st">End</span><span class="crayon-h"> </span><span class="crayon-i">process</span><span class="crayon-h"> </span><span class="crayon-cn">2</span></div><div class="crayon-line" id="crayon-5a6925022432f628743382-7"><span class="crayon-e">Start </span><span class="crayon-v">process</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-cn">3</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022432f628743382-8"><span class="crayon-st">End</span><span class="crayon-h"> </span><span class="crayon-i">process</span><span class="crayon-h"> </span><span class="crayon-cn">3</span></div><div class="crayon-line" id="crayon-5a6925022432f628743382-9"><span class="crayon-e">Started </span><span class="crayon-e">processes</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022432f628743382-10"><span class="crayon-e">Subprocess </span><span class="crayon-v">done</span><span class="crayon-sy">.</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0004 seconds] -->
<p></p>
<p>这样一来就好理解了吧？</p>
<p>下面对函数进行解释：</p>
<p>apply_async(func[, args[, kwds[, callback]]]) 它是非阻塞，apply(func[, args[, kwds]])是阻塞的。</p>
<p>close() 关闭pool，使其不在接受新的任务。</p>
<p>terminate() 结束工作进程，不在处理未完成的任务。</p>
<p>join() 主进程阻塞，等待子进程的退出， join方法要在close或terminate之后使用。</p>
<p>当然每个进程可以在各自的方法返回一个结果。apply或apply_async方法可以拿到这个结果并进一步进行处理。</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a69250224332239062435" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; float: left; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
from multiprocessing import Lock, Pool
import time


def function(index):
    print 'Start process: ', index
    time.sleep(3)
    print 'End process', index
    return index

if __name__ == '__main__':
    pool = Pool(processes=3)
    for i in xrange(4):
        result = pool.apply_async(function, (i,))
        print result.get()
    print "Started processes"
    pool.close()
    pool.join()
    print "Subprocess done."</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a69250224332239062435-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224332239062435-2">2</div><div class="crayon-num" data-line="crayon-5a69250224332239062435-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224332239062435-4">4</div><div class="crayon-num" data-line="crayon-5a69250224332239062435-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224332239062435-6">6</div><div class="crayon-num" data-line="crayon-5a69250224332239062435-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224332239062435-8">8</div><div class="crayon-num" data-line="crayon-5a69250224332239062435-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224332239062435-10">10</div><div class="crayon-num" data-line="crayon-5a69250224332239062435-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224332239062435-12">12</div><div class="crayon-num" data-line="crayon-5a69250224332239062435-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224332239062435-14">14</div><div class="crayon-num" data-line="crayon-5a69250224332239062435-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224332239062435-16">16</div><div class="crayon-num" data-line="crayon-5a69250224332239062435-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224332239062435-18">18</div><div class="crayon-num" data-line="crayon-5a69250224332239062435-19">19</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a69250224332239062435-1"><span class="crayon-e">from </span><span class="crayon-e">multiprocessing </span><span class="crayon-e">import </span><span class="crayon-v">Lock</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">Pool</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224332239062435-2"><span class="crayon-e">import </span><span class="crayon-e">time</span></div><div class="crayon-line" id="crayon-5a69250224332239062435-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224332239062435-4">&nbsp;</div><div class="crayon-line" id="crayon-5a69250224332239062435-5"><span class="crayon-e">def </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">index</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224332239062435-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">print</span><span class="crayon-h"> </span><span class="crayon-s">'Start process: '</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">index</span></div><div class="crayon-line" id="crayon-5a69250224332239062435-7"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">time</span><span class="crayon-sy">.</span><span class="crayon-e">sleep</span><span class="crayon-sy">(</span><span class="crayon-cn">3</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224332239062435-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">print</span><span class="crayon-h"> </span><span class="crayon-s">'End process'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">index</span></div><div class="crayon-line" id="crayon-5a69250224332239062435-9"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-e">index</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224332239062435-10">&nbsp;</div><div class="crayon-line" id="crayon-5a69250224332239062435-11"><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-v">__name__</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-s">'__main__'</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224332239062435-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">pool</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">Pool</span><span class="crayon-sy">(</span><span class="crayon-v">processes</span><span class="crayon-o">=</span><span class="crayon-cn">3</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a69250224332239062435-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-i">i</span><span class="crayon-h"> </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-e">xrange</span><span class="crayon-sy">(</span><span class="crayon-cn">4</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224332239062435-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">result</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">pool</span><span class="crayon-sy">.</span><span class="crayon-e">apply_async</span><span class="crayon-sy">(</span><span class="crayon-t">function</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">i</span><span class="crayon-sy">,</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a69250224332239062435-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">print </span><span class="crayon-v">result</span><span class="crayon-sy">.</span><span class="crayon-e">get</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224332239062435-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">print</span><span class="crayon-h"> </span><span class="crayon-s">"Started processes"</span></div><div class="crayon-line" id="crayon-5a69250224332239062435-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">pool</span><span class="crayon-sy">.</span><span class="crayon-e">close</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224332239062435-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">pool</span><span class="crayon-sy">.</span><span class="crayon-e">join</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a69250224332239062435-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">print</span><span class="crayon-h"> </span><span class="crayon-s">"Subprocess done."</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0011 seconds] -->
<p></p>
<p>运行结果：</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a69250224334009807021" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; float: left; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
Start process:  0
End process 0
0
Start process:  1
End process 1
1
Start process:  2
End process 2
2
Start process:  3
End process 3
3
Started processes
Subprocess done.</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a69250224334009807021-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224334009807021-2">2</div><div class="crayon-num" data-line="crayon-5a69250224334009807021-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224334009807021-4">4</div><div class="crayon-num" data-line="crayon-5a69250224334009807021-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224334009807021-6">6</div><div class="crayon-num" data-line="crayon-5a69250224334009807021-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224334009807021-8">8</div><div class="crayon-num" data-line="crayon-5a69250224334009807021-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224334009807021-10">10</div><div class="crayon-num" data-line="crayon-5a69250224334009807021-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224334009807021-12">12</div><div class="crayon-num" data-line="crayon-5a69250224334009807021-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224334009807021-14">14</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a69250224334009807021-1"><span class="crayon-e">Start </span><span class="crayon-v">process</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-cn">0</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224334009807021-2"><span class="crayon-st">End</span><span class="crayon-h"> </span><span class="crayon-i">process</span><span class="crayon-h"> </span><span class="crayon-cn">0</span></div><div class="crayon-line" id="crayon-5a69250224334009807021-3"><span class="crayon-cn">0</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224334009807021-4"><span class="crayon-e">Start </span><span class="crayon-v">process</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-cn">1</span></div><div class="crayon-line" id="crayon-5a69250224334009807021-5"><span class="crayon-st">End</span><span class="crayon-h"> </span><span class="crayon-i">process</span><span class="crayon-h"> </span><span class="crayon-cn">1</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224334009807021-6"><span class="crayon-cn">1</span></div><div class="crayon-line" id="crayon-5a69250224334009807021-7"><span class="crayon-e">Start </span><span class="crayon-v">process</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-cn">2</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224334009807021-8"><span class="crayon-st">End</span><span class="crayon-h"> </span><span class="crayon-i">process</span><span class="crayon-h"> </span><span class="crayon-cn">2</span></div><div class="crayon-line" id="crayon-5a69250224334009807021-9"><span class="crayon-cn">2</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224334009807021-10"><span class="crayon-e">Start </span><span class="crayon-v">process</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-cn">3</span></div><div class="crayon-line" id="crayon-5a69250224334009807021-11"><span class="crayon-st">End</span><span class="crayon-h"> </span><span class="crayon-i">process</span><span class="crayon-h"> </span><span class="crayon-cn">3</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224334009807021-12"><span class="crayon-cn">3</span></div><div class="crayon-line" id="crayon-5a69250224334009807021-13"><span class="crayon-e">Started </span><span class="crayon-e">processes</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224334009807021-14"><span class="crayon-e">Subprocess </span><span class="crayon-v">done</span><span class="crayon-sy">.</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0005 seconds] -->
<p></p>
<p>另外还有一个非常好用的map方法。</p>
<p>如果你现在有一堆数据要处理，每一项都需要经过一个方法来处理，那么map非常适合。</p>
<p>比如现在你有一个数组，包含了所有的URL，而现在已经有了一个方法用来抓取每个URL内容并解析，那么可以直接在map的第一个参数传入方法名，第二个参数传入URL数组。</p>
<p>现在我们用一个实例来感受一下：</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a69250224337327397359" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; float: left; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
from multiprocessing import Pool
import requests
from requests.exceptions import ConnectionError


def scrape(url):
    try:
        print requests.get(url)
    except ConnectionError:
        print 'Error Occured ', url
    finally:
        print 'URL ', url, ' Scraped'


if __name__ == '__main__':
    pool = Pool(processes=3)
    urls = [
        'https://www.baidu.com',
        'http://www.meituan.com/',
        'http://blog.csdn.net/',
        'http://xxxyxxx.net'
    ]
    pool.map(scrape, urls)</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a69250224337327397359-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224337327397359-2">2</div><div class="crayon-num" data-line="crayon-5a69250224337327397359-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224337327397359-4">4</div><div class="crayon-num" data-line="crayon-5a69250224337327397359-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224337327397359-6">6</div><div class="crayon-num" data-line="crayon-5a69250224337327397359-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224337327397359-8">8</div><div class="crayon-num" data-line="crayon-5a69250224337327397359-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224337327397359-10">10</div><div class="crayon-num" data-line="crayon-5a69250224337327397359-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224337327397359-12">12</div><div class="crayon-num" data-line="crayon-5a69250224337327397359-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224337327397359-14">14</div><div class="crayon-num" data-line="crayon-5a69250224337327397359-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224337327397359-16">16</div><div class="crayon-num" data-line="crayon-5a69250224337327397359-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224337327397359-18">18</div><div class="crayon-num" data-line="crayon-5a69250224337327397359-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224337327397359-20">20</div><div class="crayon-num" data-line="crayon-5a69250224337327397359-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a69250224337327397359-22">22</div><div class="crayon-num" data-line="crayon-5a69250224337327397359-23">23</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a69250224337327397359-1"><span class="crayon-e">from </span><span class="crayon-e">multiprocessing </span><span class="crayon-e">import </span><span class="crayon-e">Pool</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224337327397359-2"><span class="crayon-e">import </span><span class="crayon-e">requests</span></div><div class="crayon-line" id="crayon-5a69250224337327397359-3"><span class="crayon-e">from </span><span class="crayon-v">requests</span><span class="crayon-sy">.</span><span class="crayon-e">exceptions </span><span class="crayon-e">import </span><span class="crayon-e">ConnectionError</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224337327397359-4">&nbsp;</div><div class="crayon-line" id="crayon-5a69250224337327397359-5">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224337327397359-6"><span class="crayon-e">def </span><span class="crayon-e">scrape</span><span class="crayon-sy">(</span><span class="crayon-v">url</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5a69250224337327397359-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">try</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224337327397359-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">print </span><span class="crayon-v">requests</span><span class="crayon-sy">.</span><span class="crayon-e">get</span><span class="crayon-sy">(</span><span class="crayon-v">url</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a69250224337327397359-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">except </span><span class="crayon-v">ConnectionError</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224337327397359-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">print</span><span class="crayon-h"> </span><span class="crayon-s">'Error Occured '</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">url</span></div><div class="crayon-line" id="crayon-5a69250224337327397359-11"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">finally</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224337327397359-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">print</span><span class="crayon-h"> </span><span class="crayon-s">'URL '</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">url</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">' Scraped'</span></div><div class="crayon-line" id="crayon-5a69250224337327397359-13">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224337327397359-14">&nbsp;</div><div class="crayon-line" id="crayon-5a69250224337327397359-15"><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-v">__name__</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-s">'__main__'</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224337327397359-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">pool</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">Pool</span><span class="crayon-sy">(</span><span class="crayon-v">processes</span><span class="crayon-o">=</span><span class="crayon-cn">3</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a69250224337327397359-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">urls</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224337327397359-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">'https://www.baidu.com'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a69250224337327397359-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">'http://www.meituan.com/'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224337327397359-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">'http://blog.csdn.net/'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a69250224337327397359-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">'http://xxxyxxx.net'</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a69250224337327397359-22"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-5a69250224337327397359-23"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">pool</span><span class="crayon-sy">.</span><span class="crayon-e">map</span><span class="crayon-sy">(</span><span class="crayon-v">scrape</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">urls</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0010 seconds] -->
<p></p>
<p>在这里初始化一个Pool，指定进程数为3，如果不指定，那么会自动根据CPU内核来分配进程数。</p>
<p>然后有一个链接列表，map函数可以遍历每个URL，然后对其分别执行scrape方法。</p>
<p>运行结果：</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a6925022433b105747967" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; float: left; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
&lt;Response [403]&gt;
URL  http://blog.csdn.net/  Scraped
&lt;Response [200]&gt;
URL  https://www.baidu.com  Scraped
Error Occured  http://xxxyxxx.net
URL  http://xxxyxxx.net  Scraped
&lt;Response [200]&gt;
URL  http://www.meituan.com/  Scraped</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a6925022433b105747967-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022433b105747967-2">2</div><div class="crayon-num" data-line="crayon-5a6925022433b105747967-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022433b105747967-4">4</div><div class="crayon-num" data-line="crayon-5a6925022433b105747967-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022433b105747967-6">6</div><div class="crayon-num" data-line="crayon-5a6925022433b105747967-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6925022433b105747967-8">8</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a6925022433b105747967-1"><span class="crayon-o">&lt;</span><span class="crayon-i">Response</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-cn">403</span><span class="crayon-sy">]</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022433b105747967-2"><span class="crayon-e">URL&nbsp;&nbsp;</span><span class="crayon-v">http</span><span class="crayon-o">:</span><span class="crayon-c">//blog.csdn.net/&nbsp;&nbsp;Scraped</span></div><div class="crayon-line" id="crayon-5a6925022433b105747967-3"><span class="crayon-o">&lt;</span><span class="crayon-i">Response</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-cn">200</span><span class="crayon-sy">]</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022433b105747967-4"><span class="crayon-e">URL&nbsp;&nbsp;</span><span class="crayon-v">https</span><span class="crayon-o">:</span><span class="crayon-c">//www.baidu.com&nbsp;&nbsp;Scraped</span></div><div class="crayon-line" id="crayon-5a6925022433b105747967-5"><span class="crayon-e">Error </span><span class="crayon-e">Occured&nbsp;&nbsp;</span><span class="crayon-v">http</span><span class="crayon-o">:</span><span class="crayon-c">//xxxyxxx.net</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022433b105747967-6"><span class="crayon-e">URL&nbsp;&nbsp;</span><span class="crayon-v">http</span><span class="crayon-o">:</span><span class="crayon-c">//xxxyxxx.net&nbsp;&nbsp;Scraped</span></div><div class="crayon-line" id="crayon-5a6925022433b105747967-7"><span class="crayon-o">&lt;</span><span class="crayon-i">Response</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-cn">200</span><span class="crayon-sy">]</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6925022433b105747967-8"><span class="crayon-e">URL&nbsp;&nbsp;</span><span class="crayon-v">http</span><span class="crayon-o">:</span><span class="crayon-c">//www.meituan.com/&nbsp;&nbsp;Scraped</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0004 seconds] -->
<p></p>
<p>可以看到遍历就这么轻松地实现了。</p>
<h2>结语</h2>
<p>多进程multiprocessing相比多线程功能强大太多，而且使用范围更广，希望本文对大家有帮助！</p>
<h2>本文参考</h2>
<p><a href="https://docs.python.org/2/library/multiprocessing.html">https://docs.python.org/2/library/multiprocessing.html</a></p>
<p><a href="http://www.cnblogs.com/vamei/archive/2012/10/12/2721484.html">http://www.cnblogs.com/vamei/archive/2012/10/12/2721484.html</a></p>
<p><a href="http://www.cnblogs.com/kaituorensheng/p/4445418.html">http://www.cnblogs.com/kaituorensheng/p/4445418.html</a></p>
<p><a href="https://my.oschina.net/yangyanxing/blog/296052">https://my.oschina.net/yangyanxing/blog/296052</a></p>
<p>转载请注明：<a href="https://cuiqingcai.com">静觅</a> &raquo; <a href="https://cuiqingcai.com/3335.html">Python爬虫进阶六之多进程的用法</a></p>

      
<div class="article-social">
			<a href="javascript:;" data-action="ding" data-id="3335" id="Addlike" class="action"><i class="fa fa-heart-o"></i>喜欢 (<span class="count">58</span>)</a><span class="or">or</span><span class="action action-share bdsharebuttonbox"><i class="fa fa-share-alt"></i>分享 (<span class="bds_count" data-cmd="count" title="累计分享0次">0</span>)<div class="action-popover"><div class="popover top in"><div class="arrow"></div><div class="popover-content"><a href="#" class="sinaweibo fa fa-weibo" data-cmd="tsina" title="分享到新浪微博"></a><a href="#" class="bds_qzone fa fa-star" data-cmd="qzone" title="分享到QQ空间"></a><a href="#" class="tencentweibo fa fa-tencent-weibo" data-cmd="tqq" title="分享到腾讯微博"></a><a href="#" class="qq fa fa-qq" data-cmd="sqq" title="分享到QQ好友"></a><a href="#" class="bds_renren fa fa-renren" data-cmd="renren" title="分享到人人网"></a><a href="#" class="bds_weixin fa fa-weixin" data-cmd="weixin" title="分享到微信"></a><a href="#" class="bds_more fa fa-ellipsis-h" data-cmd="more"></a></div></div></div></span>	
</div>
	</article>	
				<div style="background:#fff;padding-bottom:20px;font-size:14px;">
			<p style="text-align: center;margin-bottom:20px;padding:0px 20px">您的支持是博主写作最大的动力，如果您喜欢我的文章，感觉我的文章对您有帮助，请狠狠点击下面的</p>
			<p style="text-align: center;"><a href="http://cuiqingcai.com/donate"> <input style="width: 310px; margin: 10px auto 0px; background-color: #f58a87; color: #ffffff; height: 40px; border: none; font-family: 'Microsoft Yahei'; font-size: 16px; letter-spacing: 2px;" type="button" value="我要小额赞助" /></a>
		</div>
		<div class="">
    <div id="qrcodes">
        <div class="row">
            <div class="col-xs-12 col-md-4">
                <div class="p-sm" style="overflow: hidden; padding-bottom: 15px;">
                    <p class="text-center">想结交更多的朋友吗?</p>
                    <p class="text-center">来进击的Coder瞧瞧吧</p>
                    <div class="text-center">
                        <img class="code-img"
                             src="http://qiniu.cuiqingcai.com/wp-content/uploads/2017/05/QRCode1.png"/>
                    </div>
                    <div class="text-center">
                        <p style="color: #e9415a; font-size: 15px;">进击的Coder</p>
                        <p>
                            <span>QQ群号 </span><span style="color: #e9415a; font-size: 15px; margin-bottom: 45px;"> 99350970  </span><a class="btn btn-xs btn-danger"
                                                                                                                                       href="http://shang.qq.com/wpa/qunwpa?idkey=31ed8a7d15339353ad090379bb9243118f90220324a7a0f4b453bce52dcd02b6"
                                                                                                                                       target="_blank">立即加入</a>
                        </p>
                    </div>
                </div>
            </div>

            <div class="col-xs-12 col-md-4">
                <div class="p-sm" style="overflow: hidden; padding-bottom: 15px;">
                    <p class="text-center">进击的Coder灌水太多?</p>
                    <p class="text-center">这里是纯粹的技术领地</p>
                    <div class="text-center">
                        <img class="code-img"
                             src="http://qiniu.cuiqingcai.com/wp-content/uploads/2017/05/QRCode2.png"/>
                    </div>
                    <div class="text-center">
                        <p style="color: #18A57D; font-size: 15px;">激进的Coder</p>
                        <p>
                            <span>QQ群号 </span><span style="color: #18A57D; font-size: 15px; margin-bottom: 45px;"> 627725766  </span><a target="_blank" class="btn btn-xs" style="background-color: #18A57D"
                                                                                                                                        href="//shang.qq.com/wpa/qunwpa?idkey=6096ee3de52a5a948a9fe45178ed9e9ba9084b909815c5f7775b85f4734fdda1">立即加入</a>
                        </p>
                    </div>
                </div>
            </div>
            <div class="col-xs-12 col-md-4">
                <div class="p-sm" style="overflow: hidden; padding-bottom: 15px;">
                    <p class="text-center">想找人聊天解闷？想要学习干货？</p>
                    <p class="text-center">微信公众号进击的Coder为你打造</p>
                    <div class="text-center">
                        <img class="code-img"
                             src="http://qiniu.cuiqingcai.com/wp-content/uploads/2017/05/qrcode_for_gh_5b0546ddd2d0_430.jpg"/>
                    </div>
                    <div class="text-center">
                        <p style="color: #e9415a; font-size: 15px;">进击的Coder</p>
                        <p>
                            <span>微信公众号 </span><span style="color: #e9415a; font-size: 15px; margin-bottom: 45px;"> 扫一扫关注</span>
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <style>
    #qrcodes {
        min-height: 350px;
    background: white;
    }
    #qrcodes .btn {
        background-color: #eb586f;
        height: 22px;
        line-height: 22px !important;
        font-size: 12px;
        color: white;padding: initial;font-size: 12px;width: 65px;
    }
    .article-content #qrcodes{
        text-indent: 0px !important;
    }
    .article-content #qrcodes a {
        color: white;
    }
    #qrcodes .btn:hover {
        color: white;
    }
    #qrcodes .code-img {
        width: 180px;
    }
    </style>
    <style>
        #qrcodes * {
            -webkit-box-sizing: border-box;
            -moz-box-sizing: border-box;
            box-sizing: border-box;
        }
        *:before,
        *:after {
            -webkit-box-sizing: border-box;
            -moz-box-sizing: border-box;
            box-sizing: border-box;
        }
        .row {
            margin-right: -15px;
            margin-left: -15px;
        }
        .col-xs-1, .col-sm-1, .col-md-1, .col-lg-1, .col-xs-2, .col-sm-2, .col-md-2, .col-lg-2, .col-xs-3, .col-sm-3, .col-md-3, .col-lg-3, .col-xs-4, .col-sm-4, .col-md-4, .col-lg-4, .col-xs-5, .col-sm-5, .col-md-5, .col-lg-5, .col-xs-6, .col-sm-6, .col-md-6, .col-lg-6, .col-xs-7, .col-sm-7, .col-md-7, .col-lg-7, .col-xs-8, .col-sm-8, .col-md-8, .col-lg-8, .col-xs-9, .col-sm-9, .col-md-9, .col-lg-9, .col-xs-10, .col-sm-10, .col-md-10, .col-lg-10, .col-xs-11, .col-sm-11, .col-md-11, .col-lg-11, .col-xs-12, .col-sm-12, .col-md-12, .col-lg-12 {
            position: relative;
            min-height: 1px;
            padding-right: 15px;
            padding-left: 15px;
        }
        .col-xs-1, .col-xs-2, .col-xs-3, .col-xs-4, .col-xs-5, .col-xs-6, .col-xs-7, .col-xs-8, .col-xs-9, .col-xs-10, .col-xs-11, .col-xs-12 {
            float: left;
        }
        .col-xs-12 {
            width: 100%;
        }
        .col-xs-11 {
            width: 91.66666667%;
        }
        .col-xs-10 {
            width: 83.33333333%;
        }
        .col-xs-9 {
            width: 75%;
        }
        .col-xs-8 {
            width: 66.66666667%;
        }
        .col-xs-7 {
            width: 58.33333333%;
        }
        .col-xs-6 {
            width: 50%;
        }
        .col-xs-5 {
            width: 41.66666667%;
        }
        .col-xs-4 {
            width: 33.33333333%;
        }
        .col-xs-3 {
            width: 25%;
        }
        .col-xs-2 {
            width: 16.66666667%;
        }
        .col-xs-1 {
            width: 8.33333333%;
        }
        .col-xs-pull-12 {
            right: 100%;
        }
        .col-xs-pull-11 {
            right: 91.66666667%;
        }
        .col-xs-pull-10 {
            right: 83.33333333%;
        }
        .col-xs-pull-9 {
            right: 75%;
        }
        .col-xs-pull-8 {
            right: 66.66666667%;
        }
        .col-xs-pull-7 {
            right: 58.33333333%;
        }
        .col-xs-pull-6 {
            right: 50%;
        }
        .col-xs-pull-5 {
            right: 41.66666667%;
        }
        .col-xs-pull-4 {
            right: 33.33333333%;
        }
        .col-xs-pull-3 {
            right: 25%;
        }
        .col-xs-pull-2 {
            right: 16.66666667%;
        }
        .col-xs-pull-1 {
            right: 8.33333333%;
        }
        .col-xs-pull-0 {
            right: auto;
        }
        .col-xs-push-12 {
            left: 100%;
        }
        .col-xs-push-11 {
            left: 91.66666667%;
        }
        .col-xs-push-10 {
            left: 83.33333333%;
        }
        .col-xs-push-9 {
            left: 75%;
        }
        .col-xs-push-8 {
            left: 66.66666667%;
        }
        .col-xs-push-7 {
            left: 58.33333333%;
        }
        .col-xs-push-6 {
            left: 50%;
        }
        .col-xs-push-5 {
            left: 41.66666667%;
        }
        .col-xs-push-4 {
            left: 33.33333333%;
        }
        .col-xs-push-3 {
            left: 25%;
        }
        .col-xs-push-2 {
            left: 16.66666667%;
        }
        .col-xs-push-1 {
            left: 8.33333333%;
        }
        .col-xs-push-0 {
            left: auto;
        }
        .col-xs-offset-12 {
            margin-left: 100%;
        }
        .col-xs-offset-11 {
            margin-left: 91.66666667%;
        }
        .col-xs-offset-10 {
            margin-left: 83.33333333%;
        }
        .col-xs-offset-9 {
            margin-left: 75%;
        }
        .col-xs-offset-8 {
            margin-left: 66.66666667%;
        }
        .col-xs-offset-7 {
            margin-left: 58.33333333%;
        }
        .col-xs-offset-6 {
            margin-left: 50%;
        }
        .col-xs-offset-5 {
            margin-left: 41.66666667%;
        }
        .col-xs-offset-4 {
            margin-left: 33.33333333%;
        }
        .col-xs-offset-3 {
            margin-left: 25%;
        }
        .col-xs-offset-2 {
            margin-left: 16.66666667%;
        }
        .col-xs-offset-1 {
            margin-left: 8.33333333%;
        }
        .col-xs-offset-0 {
            margin-left: 0;
        }
        @media (min-width: 768px) {
            .col-sm-1, .col-sm-2, .col-sm-3, .col-sm-4, .col-sm-5, .col-sm-6, .col-sm-7, .col-sm-8, .col-sm-9, .col-sm-10, .col-sm-11, .col-sm-12 {
                float: left;
            }
            .col-sm-12 {
                width: 100%;
            }
            .col-sm-11 {
                width: 91.66666667%;
            }
            .col-sm-10 {
                width: 83.33333333%;
            }
            .col-sm-9 {
                width: 75%;
            }
            .col-sm-8 {
                width: 66.66666667%;
            }
            .col-sm-7 {
                width: 58.33333333%;
            }
            .col-sm-6 {
                width: 50%;
            }
            .col-sm-5 {
                width: 41.66666667%;
            }
            .col-sm-4 {
                width: 33.33333333%;
            }
            .col-sm-3 {
                width: 25%;
            }
            .col-sm-2 {
                width: 16.66666667%;
            }
            .col-sm-1 {
                width: 8.33333333%;
            }
            .col-sm-pull-12 {
                right: 100%;
            }
            .col-sm-pull-11 {
                right: 91.66666667%;
            }
            .col-sm-pull-10 {
                right: 83.33333333%;
            }
            .col-sm-pull-9 {
                right: 75%;
            }
            .col-sm-pull-8 {
                right: 66.66666667%;
            }
            .col-sm-pull-7 {
                right: 58.33333333%;
            }
            .col-sm-pull-6 {
                right: 50%;
            }
            .col-sm-pull-5 {
                right: 41.66666667%;
            }
            .col-sm-pull-4 {
                right: 33.33333333%;
            }
            .col-sm-pull-3 {
                right: 25%;
            }
            .col-sm-pull-2 {
                right: 16.66666667%;
            }
            .col-sm-pull-1 {
                right: 8.33333333%;
            }
            .col-sm-pull-0 {
                right: auto;
            }
            .col-sm-push-12 {
                left: 100%;
            }
            .col-sm-push-11 {
                left: 91.66666667%;
            }
            .col-sm-push-10 {
                left: 83.33333333%;
            }
            .col-sm-push-9 {
                left: 75%;
            }
            .col-sm-push-8 {
                left: 66.66666667%;
            }
            .col-sm-push-7 {
                left: 58.33333333%;
            }
            .col-sm-push-6 {
                left: 50%;
            }
            .col-sm-push-5 {
                left: 41.66666667%;
            }
            .col-sm-push-4 {
                left: 33.33333333%;
            }
            .col-sm-push-3 {
                left: 25%;
            }
            .col-sm-push-2 {
                left: 16.66666667%;
            }
            .col-sm-push-1 {
                left: 8.33333333%;
            }
            .col-sm-push-0 {
                left: auto;
            }
            .col-sm-offset-12 {
                margin-left: 100%;
            }
            .col-sm-offset-11 {
                margin-left: 91.66666667%;
            }
            .col-sm-offset-10 {
                margin-left: 83.33333333%;
            }
            .col-sm-offset-9 {
                margin-left: 75%;
            }
            .col-sm-offset-8 {
                margin-left: 66.66666667%;
            }
            .col-sm-offset-7 {
                margin-left: 58.33333333%;
            }
            .col-sm-offset-6 {
                margin-left: 50%;
            }
            .col-sm-offset-5 {
                margin-left: 41.66666667%;
            }
            .col-sm-offset-4 {
                margin-left: 33.33333333%;
            }
            .col-sm-offset-3 {
                margin-left: 25%;
            }
            .col-sm-offset-2 {
                margin-left: 16.66666667%;
            }
            .col-sm-offset-1 {
                margin-left: 8.33333333%;
            }
            .col-sm-offset-0 {
                margin-left: 0;
            }
        }
        @media (min-width: 992px) {
            .col-md-1, .col-md-2, .col-md-3, .col-md-4, .col-md-5, .col-md-6, .col-md-7, .col-md-8, .col-md-9, .col-md-10, .col-md-11, .col-md-12 {
                float: left;
            }
            .col-md-12 {
                width: 100%;
            }
            .col-md-11 {
                width: 91.66666667%;
            }
            .col-md-10 {
                width: 83.33333333%;
            }
            .col-md-9 {
                width: 75%;
            }
            .col-md-8 {
                width: 66.66666667%;
            }
            .col-md-7 {
                width: 58.33333333%;
            }
            .col-md-6 {
                width: 50%;
            }
            .col-md-5 {
                width: 41.66666667%;
            }
            .col-md-4 {
                width: 33.33333333%;
            }
            .col-md-3 {
                width: 25%;
            }
            .col-md-2 {
                width: 16.66666667%;
            }
            .col-md-1 {
                width: 8.33333333%;
            }
            .col-md-pull-12 {
                right: 100%;
            }
            .col-md-pull-11 {
                right: 91.66666667%;
            }
            .col-md-pull-10 {
                right: 83.33333333%;
            }
            .col-md-pull-9 {
                right: 75%;
            }
            .col-md-pull-8 {
                right: 66.66666667%;
            }
            .col-md-pull-7 {
                right: 58.33333333%;
            }
            .col-md-pull-6 {
                right: 50%;
            }
            .col-md-pull-5 {
                right: 41.66666667%;
            }
            .col-md-pull-4 {
                right: 33.33333333%;
            }
            .col-md-pull-3 {
                right: 25%;
            }
            .col-md-pull-2 {
                right: 16.66666667%;
            }
            .col-md-pull-1 {
                right: 8.33333333%;
            }
            .col-md-pull-0 {
                right: auto;
            }
            .col-md-push-12 {
                left: 100%;
            }
            .col-md-push-11 {
                left: 91.66666667%;
            }
            .col-md-push-10 {
                left: 83.33333333%;
            }
            .col-md-push-9 {
                left: 75%;
            }
            .col-md-push-8 {
                left: 66.66666667%;
            }
            .col-md-push-7 {
                left: 58.33333333%;
            }
            .col-md-push-6 {
                left: 50%;
            }
            .col-md-push-5 {
                left: 41.66666667%;
            }
            .col-md-push-4 {
                left: 33.33333333%;
            }
            .col-md-push-3 {
                left: 25%;
            }
            .col-md-push-2 {
                left: 16.66666667%;
            }
            .col-md-push-1 {
                left: 8.33333333%;
            }
            .col-md-push-0 {
                left: auto;
            }
            .col-md-offset-12 {
                margin-left: 100%;
            }
            .col-md-offset-11 {
                margin-left: 91.66666667%;
            }
            .col-md-offset-10 {
                margin-left: 83.33333333%;
            }
            .col-md-offset-9 {
                margin-left: 75%;
            }
            .col-md-offset-8 {
                margin-left: 66.66666667%;
            }
            .col-md-offset-7 {
                margin-left: 58.33333333%;
            }
            .col-md-offset-6 {
                margin-left: 50%;
            }
            .col-md-offset-5 {
                margin-left: 41.66666667%;
            }
            .col-md-offset-4 {
                margin-left: 33.33333333%;
            }
            .col-md-offset-3 {
                margin-left: 25%;
            }
            .col-md-offset-2 {
                margin-left: 16.66666667%;
            }
            .col-md-offset-1 {
                margin-left: 8.33333333%;
            }
            .col-md-offset-0 {
                margin-left: 0;
            }
        }
        @media (min-width: 1200px) {
            .col-lg-1, .col-lg-2, .col-lg-3, .col-lg-4, .col-lg-5, .col-lg-6, .col-lg-7, .col-lg-8, .col-lg-9, .col-lg-10, .col-lg-11, .col-lg-12 {
                float: left;
            }
            .col-lg-12 {
                width: 100%;
            }
            .col-lg-11 {
                width: 91.66666667%;
            }
            .col-lg-10 {
                width: 83.33333333%;
            }
            .col-lg-9 {
                width: 75%;
            }
            .col-lg-8 {
                width: 66.66666667%;
            }
            .col-lg-7 {
                width: 58.33333333%;
            }
            .col-lg-6 {
                width: 50%;
            }
            .col-lg-5 {
                width: 41.66666667%;
            }
            .col-lg-4 {
                width: 33.33333333%;
            }
            .col-lg-3 {
                width: 25%;
            }
            .col-lg-2 {
                width: 16.66666667%;
            }
            .col-lg-1 {
                width: 8.33333333%;
            }
            .col-lg-pull-12 {
                right: 100%;
            }
            .col-lg-pull-11 {
                right: 91.66666667%;
            }
            .col-lg-pull-10 {
                right: 83.33333333%;
            }
            .col-lg-pull-9 {
                right: 75%;
            }
            .col-lg-pull-8 {
                right: 66.66666667%;
            }
            .col-lg-pull-7 {
                right: 58.33333333%;
            }
            .col-lg-pull-6 {
                right: 50%;
            }
            .col-lg-pull-5 {
                right: 41.66666667%;
            }
            .col-lg-pull-4 {
                right: 33.33333333%;
            }
            .col-lg-pull-3 {
                right: 25%;
            }
            .col-lg-pull-2 {
                right: 16.66666667%;
            }
            .col-lg-pull-1 {
                right: 8.33333333%;
            }
            .col-lg-pull-0 {
                right: auto;
            }
            .col-lg-push-12 {
                left: 100%;
            }
            .col-lg-push-11 {
                left: 91.66666667%;
            }
            .col-lg-push-10 {
                left: 83.33333333%;
            }
            .col-lg-push-9 {
                left: 75%;
            }
            .col-lg-push-8 {
                left: 66.66666667%;
            }
            .col-lg-push-7 {
                left: 58.33333333%;
            }
            .col-lg-push-6 {
                left: 50%;
            }
            .col-lg-push-5 {
                left: 41.66666667%;
            }
            .col-lg-push-4 {
                left: 33.33333333%;
            }
            .col-lg-push-3 {
                left: 25%;
            }
            .col-lg-push-2 {
                left: 16.66666667%;
            }
            .col-lg-push-1 {
                left: 8.33333333%;
            }
            .col-lg-push-0 {
                left: auto;
            }
            .col-lg-offset-12 {
                margin-left: 100%;
            }
            .col-lg-offset-11 {
                margin-left: 91.66666667%;
            }
            .col-lg-offset-10 {
                margin-left: 83.33333333%;
            }
            .col-lg-offset-9 {
                margin-left: 75%;
            }
            .col-lg-offset-8 {
                margin-left: 66.66666667%;
            }
            .col-lg-offset-7 {
                margin-left: 58.33333333%;
            }
            .col-lg-offset-6 {
                margin-left: 50%;
            }
            .col-lg-offset-5 {
                margin-left: 41.66666667%;
            }
            .col-lg-offset-4 {
                margin-left: 33.33333333%;
            }
            .col-lg-offset-3 {
                margin-left: 25%;
            }
            .col-lg-offset-2 {
                margin-left: 16.66666667%;
            }
            .col-lg-offset-1 {
                margin-left: 8.33333333%;
            }
            .col-lg-offset-0 {
                margin-left: 0;
            }
        }
    </style>
</div>
		<footer class="article-footer">
			<div class="article-tags"><i class="fa fa-tags"></i><a href="https://cuiqingcai.com/tag/python" rel="tag">Python</a><a href="https://cuiqingcai.com/tag/%e7%88%ac%e8%99%ab" rel="tag">爬虫</a></div>		</footer>
	<nav class="article-nav">
			<span class="article-nav-prev"><i class="fa fa-angle-double-left"></i> <a href="https://cuiqingcai.com/3314.html" rel="prev">小白爬虫第三弹之去重去重</a></span>
			<span class="article-nav-next"><a href="https://cuiqingcai.com/3363.html" rel="next">小白爬虫第四弹之爬虫快跑（多进程+多线程）</a>  <i class="fa fa-angle-double-right"></i></span>
		</nav>

		<div class="related_top">
			<div class="related_posts"><ul class="related_img">

		<li class="related_box"  >
		<a href="https://cuiqingcai.com/5006.html" title="在阿里云上测试Gerapy教程" target="_blank">
<img src="https://cuiqingcai.com/wp-content/themes/Yusi/timthumb.php?src=https://qiniu.cuiqingcai.com/wp-content/uploads/2018/01/Selection_020.png&h=110&w=185&q=90&zc=1&ct=1" alt="在阿里云上测试Gerapy教程" />	<br><span class="r_title">在阿里云上测试Gerapy教程</span></a>
		</li>
	
		<li class="related_box"  >
		<a href="https://cuiqingcai.com/4959.html" title="跟繁琐的命令行说拜拜！Gerapy分布式爬虫管理框架来袭！" target="_blank">
<img src="https://cuiqingcai.com/wp-content/themes/Yusi/timthumb.php?src=https://qiniu.cuiqingcai.com/wp-content/uploads/2018/01/49.jpeg&h=110&w=185&q=90&zc=1&ct=1" alt="跟繁琐的命令行说拜拜！Gerapy分布式爬虫管理框架来袭！" />	<br><span class="r_title">跟繁琐的命令行说拜拜！Gerapy分布式爬虫管理框架来袭！</span></a>
		</li>
	
		<li class="related_box"  >
		<a href="https://cuiqingcai.com/4816.html" title="自建免费PYTHON爬虫代理IP池" target="_blank">
<img src="https://cuiqingcai.com/wp-content/themes/Yusi/timthumb.php?src=http://qiniu.cuiqingcai.com/wp-content/uploads/2016/10/9555112.jpg&h=110&w=185&q=90&zc=1&ct=1" alt="自建免费PYTHON爬虫代理IP池" />	<br><span class="r_title">自建免费PYTHON爬虫代理IP池</span></a>
		</li>
	
		<li class="related_box"  >
		<a href="https://cuiqingcai.com/4791.html" title="轻型爬虫框架" target="_blank">
<img src="https://cuiqingcai.com/wp-content/themes/Yusi/timthumb.php?src=http://qiniu.cuiqingcai.com/wp-content/uploads/2017/02/QQ图片20170205084843.jpg&h=110&w=185&q=90&zc=1&ct=1" alt="轻型爬虫框架" />	<br><span class="r_title">轻型爬虫框架</span></a>
		</li>
	</ul>

<div class="relates">
<ul>
<li><i class="fa fa-minus"></i><a href="https://cuiqingcai.com/5006.html">在阿里云上测试Gerapy教程</a></li><li><i class="fa fa-minus"></i><a href="https://cuiqingcai.com/4959.html">跟繁琐的命令行说拜拜！Gerapy分布式爬虫管理框架来袭！</a></li><li><i class="fa fa-minus"></i><a href="https://cuiqingcai.com/4816.html">自建免费PYTHON爬虫代理IP池</a></li><li><i class="fa fa-minus"></i><a href="https://cuiqingcai.com/4791.html">轻型爬虫框架</a></li><li><i class="fa fa-minus"></i><a href="https://cuiqingcai.com/4778.html">Neo4j简介及Py2Neo的用法</a></li><li><i class="fa fa-minus"></i><a href="https://cuiqingcai.com/4607.html">获取知乎问题答案并转换为MarkDown文件</a></li><li><i class="fa fa-minus"></i><a href="https://cuiqingcai.com/4465.html">密码保护：免登录新浪微博爬虫系列之第一篇  单博主微博及评论数据</a></li><li><i class="fa fa-minus"></i><a href="https://cuiqingcai.com/4380.html">利用Scrapy爬取知乎用户详细信息并存至MongoDB</a></li>
</ul></div></div>		</div>
						<a name="comments"></a>
<div id="SOHUCS" sid="3335"></div> 
<script type="text/javascript"> 
(function(){ 
    var appid = 'cyse2vKeA'; 
    var conf = 'prod_e440e40ef998fc11db594040d810aefb'; 
    var width = window.innerWidth || document.documentElement.clientWidth; 
    if (width < 960) { 
        window.document.write('<script id="changyan_mobile_js" charset="utf-8" type="text/javascript" src="https://changyan.sohu.com/upload/mobile/wap-js/changyan_mobile.js?client_id=' + appid + '&conf=' + conf + '"><\/script>'); 
    } else { 
        var loadJs=function(d,a){var c=document.getElementsByTagName("head")[0]||document.head||document.documentElement;var b=document.createElement("script");b.setAttribute("type","text/javascript");b.setAttribute("charset","UTF-8");b.setAttribute("src",d);if(typeof a==="function"){if(window.attachEvent){b.onreadystatechange=function(){var e=b.readyState;if(e==="loaded"||e==="complete"){b.onreadystatechange=null;a()}}}else{b.onload=a}}c.appendChild(b)};loadJs("https://changyan.sohu.com/upload/changyan.js",function(){window.changyan.api.config({appid:appid,conf:conf})}); 
    }})(); 
</script>            
<div id="ds-ssr" style="display:none">
		            <ol id="commentlist">
                		<li class="comment even thread-even depth-1" id="li-comment-4466">
			<article id="comment-4466" class="comment">
				<footer class="comment-meta">
					<cite class="comment-author vcard">
						<span class="fn">血色玫瑰</span> on <a rel="nofollow" href="https://cuiqingcai.com/3335.html#comment-4466"><time pubdate datetime="2017-10-03T11:44:06+00:00">2017年10月3日 at 上午11:44</time></a> <span class="says">said:</span>					</cite>
				</footer>
	
				<div class="comment-content"><p>信号量代码经过测试，的确是在Linux下运行没问题</p>
</div>
				
			</article>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-4286">
			<article id="comment-4286" class="comment">
				<footer class="comment-meta">
					<cite class="comment-author vcard">
						<span class="fn">SUNNYFILES</span> on <a rel="nofollow" href="https://cuiqingcai.com/3335.html#comment-4286"><time pubdate datetime="2017-07-27T21:45:23+00:00">2017年7月27日 at 下午9:45</time></a> <span class="says">said:</span>					</cite>
				</footer>
	
				<div class="comment-content"><p>你好博主，这里信号量的代码Producer执行了两次任务之后就不动了。我在网上搜了下，将全局变量改成对象创建时的参数传入的时候代码就能够正常运行了。这是什么原因？？是因为全局变量不能传递到子进程的原因吗？？</p>
</div>
				
			</article>
		<ul class="children">
		<li class="comment even depth-2" id="li-comment-4361">
			<article id="comment-4361" class="comment">
				<footer class="comment-meta">
					<cite class="comment-author vcard">
						<span class="fn">陈俊</span> on <a rel="nofollow" href="https://cuiqingcai.com/3335.html#comment-4361"><time pubdate datetime="2017-08-22T16:29:04+00:00">2017年8月22日 at 下午4:29</time></a> <span class="says">said:</span>					</cite>
				</footer>
	
				<div class="comment-content"><p>在linux 下运行没问题，在windowns下运行有问题</p>
</div>
				
			</article>
		</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
		<li class="comment odd alt thread-even depth-1" id="li-comment-3301">
			<article id="comment-3301" class="comment">
				<footer class="comment-meta">
					<cite class="comment-author vcard">
						<span class="fn">思达メ小贝</span> on <a rel="nofollow" href="https://cuiqingcai.com/3335.html#comment-3301"><time pubdate datetime="2017-02-09T11:10:56+00:00">2017年2月9日 at 上午11:10</time></a> <span class="says">said:</span>					</cite>
				</footer>
	
				<div class="comment-content"><p>博主，在“当然每个进程可以在各自的方法返回一个结果。apply或apply_async方法可以拿到这个结果并进一步进行处理”这这一步的代码例子中，使用pool.apply_asyc好像也是阻塞式执行啊？process2必须得等到process1执行完才可以？</p>
</div>
				
			</article>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-hala even thread-odd thread-alt depth-1" id="li-comment-3049">
			<article id="comment-3049" class="comment">
				<footer class="comment-meta">
					<cite class="comment-author vcard">
						<span class="fn">hala</span> on <a rel="nofollow" href="https://cuiqingcai.com/3335.html#comment-3049"><time pubdate datetime="2016-12-23T16:32:07+00:00">2016年12月23日 at 下午4:32</time></a> <span class="says">said:</span>					</cite>
				</footer>
	
				<div class="comment-content"><p>有Semaphore的例子运行都有问题&#8230;会打印2个信息然后一直卡着没反应</p>
</div>
				
			</article>
		<ul class="children">
		<li class="comment odd alt depth-2" id="li-comment-3399">
			<article id="comment-3399" class="comment">
				<footer class="comment-meta">
					<cite class="comment-author vcard">
						<span class="fn"><a href='http://t.qq.com/david007-li' rel='external nofollow' class='url'>David</a></span> on <a rel="nofollow" href="https://cuiqingcai.com/3335.html#comment-3399"><time pubdate datetime="2017-02-22T11:16:44+00:00">2017年2月22日 at 上午11:16</time></a> <span class="says">said:</span>					</cite>
				</footer>
	
				<div class="comment-content"><p>不能用全局变量global，要用参数，代码修改如下：from multiprocessing import Process, Semaphore, Lock, Queueimport timeclass Consumer(Process):    def <strong>init</strong>(self, buffer, empty, full, lock):        Process.<strong>init</strong>(self)        self.buffer = buffer        self.empty = empty        self.full = full        self.lock = lock    def run(self):        while True:            self.full.acquire()            self.lock.acquire()            self.buffer.get()            print(&#8216;Consumer pop an element&#8217;)            time.sleep(1)            self.lock.release()            self.empty.release()class Producer(Process):    def <strong>init</strong>(self, buffer, empty, full, lock):        Process.<strong>init</strong>(self)        self.buffer = buffer        self.empty = empty        self.full = full        self.lock = lock    def run(self):        while True:            self.empty.acquire()            self.lock.acquire()            self.buffer.put(1)            print(&#8216;Producer append an element&#8217;)            time.sleep(1)            self.lock.release()            self.full.release()if <strong>name</strong> == &#8216;<strong>main</strong>&#8216;:    buffer = Queue(10)    empty = Semaphore(2)    full = Semaphore(0)    lock = Lock()    p = Producer(buffer, empty, full, lock)    c = Consumer(buffer, empty, full, lock)    p.daemon = c.daemon = True    p.start()    c.start()    p.join()    c.join()    print &#8216;Ended!&#8217;</p>
</div>
				
			</article>
		</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="li-comment-2781">
			<article id="comment-2781" class="comment">
				<footer class="comment-meta">
					<cite class="comment-author vcard">
						<span class="fn"><a href='http://t.qq.com/b254550205' rel='external nofollow' class='url'>SN9DEVIL</a></span> on <a rel="nofollow" href="https://cuiqingcai.com/3335.html#comment-2781"><time pubdate datetime="2016-11-21T12:32:57+00:00">2016年11月21日 at 下午12:32</time></a> <span class="says">said:</span>					</cite>
				</footer>
	
				<div class="comment-content"><p>博主你好，pool.map 这个方法，我每次爬取比较大量的数据，就是传入的列表比较大，爬取到一半总会pool.map这个地方 报错IndexError: list index out of range。 我的list是用 for i in range（） 生成的，想不出为什么会超出范围。</p>
</div>
				
			</article>
		<ul class="children">
		<li class="comment byuser comment-author-cqcre bypostauthor odd alt depth-2" id="li-comment-2785">
			<article id="comment-2785" class="comment">
				<footer class="comment-meta">
					<cite class="comment-author vcard">
						<span class="fn"><a href='http://www.baidu.com/p/崔庆才' rel='external nofollow' class='url'>崔庆才</a></span> on <a rel="nofollow" href="https://cuiqingcai.com/3335.html#comment-2785"><time pubdate datetime="2016-11-22T12:50:13+00:00">2016年11月22日 at 下午12:50</time></a> <span class="says">said:</span>					</cite>
				</footer>
	
				<div class="comment-content"><p>你好代码发我一下邮箱？cqc@cuiqingcai.com</p>
</div>
				
			</article>
		<ul class="children">
		<li class="comment even depth-3" id="li-comment-2789">
			<article id="comment-2789" class="comment">
				<footer class="comment-meta">
					<cite class="comment-author vcard">
						<span class="fn"><a href='http://t.qq.com/b254550205' rel='external nofollow' class='url'>SN9DEVIL</a></span> on <a rel="nofollow" href="https://cuiqingcai.com/3335.html#comment-2789"><time pubdate datetime="2016-11-22T16:04:53+00:00">2016年11月22日 at 下午4:04</time></a> <span class="says">said:</span>					</cite>
				</footer>
	
				<div class="comment-content"><p>已发 麻烦您了</p>
</div>
				
			</article>
		</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
		<li class="comment odd alt depth-2" id="li-comment-3200">
			<article id="comment-3200" class="comment">
				<footer class="comment-meta">
					<cite class="comment-author vcard">
						<span class="fn"><a href='http://weibo.com/3480005685' rel='external nofollow' class='url'>大大大大大圈圈</a></span> on <a rel="nofollow" href="https://cuiqingcai.com/3335.html#comment-3200"><time pubdate datetime="2017-01-22T23:14:01+00:00">2017年1月22日 at 下午11:14</time></a> <span class="says">said:</span>					</cite>
				</footer>
	
				<div class="comment-content"><p>请问问题解决没有?</p>
</div>
				
			</article>
		</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
            </ol>

		    </div>
			
	</div>
</div>
<aside class="sidebar">	
<div class="widget widget_text"><div class="textwidget"><div class="social">

<a href="https://weibo.com/cuiqingcai" rel="external nofollow" title="新浪微博" target="_blank"><i class="sinaweibo fa fa-weibo"></i></a><a  href="http://t.qq.com/CQCcqc123456?preview" rel="external nofollow" title="腾讯微博" target="_blank"><i class="tencentweibo fa fa-tencent-weibo"></i></a><a class="weixin"><i class="weixins fa fa-weixin"></i><div class="weixin-popover"><div class="popover bottom in"><div class="arrow"></div><div class="popover-title"></div><div class="popover-content"><img src="https://cuiqingcai.com/wp-content/themes/Yusi/img/weixin.gif" ></div></div></div></a>
<a href="http://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&email=cqc@cuiqingcai.com" rel="external nofollow" title="Email" target="_blank"><i class="email fa fa-envelope-o"></i></a><a href="?feed=rss2" rel="external nofollow" target="_blank"  title="订阅本站"><i class="rss fa fa-rss"></i></a>
</div></div></div>

<div class="widget widget_metaslider_widget"><div class="title"><h2>热门专题</h2></div><!-- meta slider -->
<div style="width: 100%;" class="metaslider metaslider-nivo metaslider-2698 ml-slider meta-slider">
    
    <div id="metaslider_container_2698">
        <div class='slider-wrapper theme-bar'>
            <div class='ribbon'></div>
            <div id='metaslider_2698' class='nivoSlider'>
                <a href="https://cuiqingcai.com/1052.html" target="_blank"><img src="https://qiniu.cuiqingcai.com/wp-content/uploads/2015/04/wallpaper_5263464.jpg" height="300" width="320" data-title="Python爬虫学习系列教程" title="Python爬虫学习系列教程" alt="Python爬虫学习系列教程" class="slider-2698 slide-1720" /></a>
                <a href="https://cuiqingcai.com/4320.html" target="_blank"><img src="https://qiniu.cuiqingcai.com/wp-content/uploads/2015/02/wallpaper_5226849-1.jpg" height="300" width="320" data-title="Python3爬虫学习视频教程" title="OpenGL绘图系列教程" alt="OpenGL绘图系列教程" class="slider-2698 slide-951" /></a>
                <a href="https://cuiqingcai.com/4352.html" target="_blank"><img src="https://qiniu.cuiqingcai.com/wp-content/uploads/2016/03/20-234x220.jpg" height="300" width="320" data-title="小白学爬虫系列教程" alt="" class="slider-2698 slide-4372" /></a>
            </div>
        </div>
        
    </div>
    <script type="text/javascript">
        var metaslider_2698 = function($) {
            $('#metaslider_2698').nivoSlider({ 
                boxCols:7,
                boxRows:5,
                pauseTime:3000,
                effect:"random",
                controlNav:false,
                directionNav:true,
                pauseOnHover:true,
                animSpeed:600,
                prevText:"&lt;",
                nextText:"&gt;",
                slices:15,
                manualAdvance:false
            });
        };
        var timer_metaslider_2698 = function() {
            var slider = !window.jQuery ? window.setTimeout(timer_metaslider_2698, 100) : !jQuery.isReady ? window.setTimeout(timer_metaslider_2698, 1) : metaslider_2698(window.jQuery);
        };
        timer_metaslider_2698();
    </script>
</div>
<!--// meta slider--></div><div class="widget widget_text">			<div class="textwidget"><img src="https://qiniu.cuiqingcai.com/wp-content/uploads/2018/01/zhifubao.png"/></div>
		</div><div class="widget widget_archive"><div class="title"><h2>文章归档</h2></div>		<ul>
			<li><a href='https://cuiqingcai.com/date/2018/01'>2018年一月</a></li>
	<li><a href='https://cuiqingcai.com/date/2017/12'>2017年十二月</a></li>
	<li><a href='https://cuiqingcai.com/date/2017/11'>2017年十一月</a></li>
	<li><a href='https://cuiqingcai.com/date/2017/10'>2017年十月</a></li>
	<li><a href='https://cuiqingcai.com/date/2017/09'>2017年九月</a></li>
	<li><a href='https://cuiqingcai.com/date/2017/08'>2017年八月</a></li>
	<li><a href='https://cuiqingcai.com/date/2017/07'>2017年七月</a></li>
	<li><a href='https://cuiqingcai.com/date/2017/06'>2017年六月</a></li>
	<li><a href='https://cuiqingcai.com/date/2017/05'>2017年五月</a></li>
	<li><a href='https://cuiqingcai.com/date/2017/04'>2017年四月</a></li>
	<li><a href='https://cuiqingcai.com/date/2017/03'>2017年三月</a></li>
	<li><a href='https://cuiqingcai.com/date/2017/02'>2017年二月</a></li>
	<li><a href='https://cuiqingcai.com/date/2017/01'>2017年一月</a></li>
	<li><a href='https://cuiqingcai.com/date/2016/12'>2016年十二月</a></li>
	<li><a href='https://cuiqingcai.com/date/2016/11'>2016年十一月</a></li>
	<li><a href='https://cuiqingcai.com/date/2016/10'>2016年十月</a></li>
	<li><a href='https://cuiqingcai.com/date/2016/09'>2016年九月</a></li>
	<li><a href='https://cuiqingcai.com/date/2016/08'>2016年八月</a></li>
	<li><a href='https://cuiqingcai.com/date/2016/07'>2016年七月</a></li>
	<li><a href='https://cuiqingcai.com/date/2016/06'>2016年六月</a></li>
	<li><a href='https://cuiqingcai.com/date/2016/03'>2016年三月</a></li>
	<li><a href='https://cuiqingcai.com/date/2016/02'>2016年二月</a></li>
	<li><a href='https://cuiqingcai.com/date/2016/01'>2016年一月</a></li>
	<li><a href='https://cuiqingcai.com/date/2015/12'>2015年十二月</a></li>
	<li><a href='https://cuiqingcai.com/date/2015/11'>2015年十一月</a></li>
	<li><a href='https://cuiqingcai.com/date/2015/10'>2015年十月</a></li>
	<li><a href='https://cuiqingcai.com/date/2015/09'>2015年九月</a></li>
	<li><a href='https://cuiqingcai.com/date/2015/08'>2015年八月</a></li>
	<li><a href='https://cuiqingcai.com/date/2015/07'>2015年七月</a></li>
	<li><a href='https://cuiqingcai.com/date/2015/06'>2015年六月</a></li>
	<li><a href='https://cuiqingcai.com/date/2015/05'>2015年五月</a></li>
	<li><a href='https://cuiqingcai.com/date/2015/04'>2015年四月</a></li>
	<li><a href='https://cuiqingcai.com/date/2015/03'>2015年三月</a></li>
	<li><a href='https://cuiqingcai.com/date/2015/02'>2015年二月</a></li>
	<li><a href='https://cuiqingcai.com/date/2015/01'>2015年一月</a></li>
	<li><a href='https://cuiqingcai.com/date/2014/12'>2014年十二月</a></li>
	<li><a href='https://cuiqingcai.com/date/2014/11'>2014年十一月</a></li>
	<li><a href='https://cuiqingcai.com/date/2014/10'>2014年十月</a></li>
	<li><a href='https://cuiqingcai.com/date/2014/09'>2014年九月</a></li>
		</ul>
		</div><div class="widget widget_text"><div class="title"><h2>交流分享</h2></div>			<div class="textwidget"><div class="p-sm" style="overflow:hidden;padding-bottom:15px">
<p class="text-center">
想一起交流学习经验吗？来进击的Coder瞧瞧吧
</p>
<div class="text-center" style="float:left">
<img src="http://qiniu.cuiqingcai.com/wp-content/uploads/2016/12/QQqun.png" style="width:250px"/>
</div>
<div class="text-left" style="float:left;padding-top: 10px;width:90px">
<p>学习？交流？分享？吐槽？</p>
<p>尽在</p>
<p style="
    color: #E9415A;
    font-size: 15px;">进击的Coder</p>
<p>QQ群号</p>
<p style="
    color: #E9415A;
    font-size: 15px;margin-bottom:45px">99350970</p>
<a style="background-color: #EB586F;
    height: 16px;
    display: block;
    line-height: 16px;
    font-size: 13px;" class="btn btn-xs btn-danger" target="_blank" href="http://shang.qq.com/wpa/qunwpa?idkey=31ed8a7d15339353ad090379bb9243118f90220324a7a0f4b453bce52dcd02b6">立即加入</a>
</div>
</div></div>
		</div><div class="widget widget_text"><div class="title"><h2>微信公众号</h2></div>			<div class="textwidget"><div class="p-sm" style="overflow:hidden;padding-bottom:12px">
<p class="text-center">
学习累了吧，扫个码玩玩吧~
</p>
<div class="text-center" style="float:left">
<img src="http://qiniu.cuiqingcai.com/wp-content/uploads/2017/05/qrcode_for_gh_5b0546ddd2d0_430.jpg" style="width:250px"/>
</div>
<div class="text-left" style="float:left;padding-top: 10px;width:90px">
<p>想找人聊天解闷？<br />想要学习干货？<br />想要更多福利？</p>
<p>尽在</p>
<p style="
    color: #E9415A;
    font-size: 15px;">进击的Coder</p>
<p>公众号搜索</p>
<a style="background-color: #EB586F;
    height: 16px;
    display: block;
    line-height: 14px; width: 70px;
    font-size: 12px;" class="btn btn-xs btn-danger" target="_blank">进击的Coder</a>
</div>
</div></div>
		</div><div class="widget d_postlist"><div class="title"><h2>猜你喜欢</h2></div><ul><li><a href="https://cuiqingcai.com/990.html" title="Python爬虫实战一之爬取糗事百科段子" ><span class="thumbnail"><img src="https://cuiqingcai.com/wp-content/themes/Yusi/timthumb.php?src=https://qiniu.cuiqingcai.com/wp-content/uploads/2015/02/wallpaper_5228661.jpg&h=64&w=100&q=90&zc=1&ct=1" alt="Python爬虫实战一之爬取糗事百科段子" /></span><span class="text">Python爬虫实战一之爬取糗事百科段子</span><span class="muted">2015-02-17</span><span class="muted">644评论</span></a></li>
<li><a href="https://cuiqingcai.com/993.html" title="Python爬虫实战二之爬取百度贴吧帖子" ><span class="thumbnail"><img src="https://cuiqingcai.com/wp-content/themes/Yusi/timthumb.php?src=https://qiniu.cuiqingcai.com/wp-content/uploads/2015/02/wallpaper_5265936.jpg&h=64&w=100&q=90&zc=1&ct=1" alt="Python爬虫实战二之爬取百度贴吧帖子" /></span><span class="text">Python爬虫实战二之爬取百度贴吧帖子</span><span class="muted">2015-02-17</span><span class="muted">215评论</span></a></li>
<li><a href="https://cuiqingcai.com/3179.html" title="小白爬虫第一弹之抓取妹子图" ><span class="thumbnail"><img src="https://cuiqingcai.com/wp-content/themes/Yusi/timthumb.php?src=https://qiniu.cuiqingcai.com/wp-content/uploads/2016/10/1-1506261ZI7.jpg&h=64&w=100&q=90&zc=1&ct=1" alt="小白爬虫第一弹之抓取妹子图" /></span><span class="text">小白爬虫第一弹之抓取妹子图</span><span class="muted">2016-10-28</span><span class="muted">175评论</span></a></li>
<li><a href="https://cuiqingcai.com/1001.html" title="Python爬虫实战四之抓取淘宝MM照片" ><span class="thumbnail"><img src="https://cuiqingcai.com/wp-content/themes/Yusi/timthumb.php?src=https://qiniu.cuiqingcai.com/wp-content/uploads/2015/02/wallpaper_5270641.jpg&h=64&w=100&q=90&zc=1&ct=1" alt="Python爬虫实战四之抓取淘宝MM照片" /></span><span class="text">Python爬虫实战四之抓取淘宝MM照片</span><span class="muted">2015-02-20</span><span class="muted">160评论</span></a></li>
<li><a href="https://cuiqingcai.com/2652.html" title="Python爬虫进阶四之PySpider的用法" ><span class="thumbnail"><img src="https://cuiqingcai.com/wp-content/themes/Yusi/timthumb.php?src=https://qiniu.cuiqingcai.com/wp-content/uploads/2016/03/兔小妖39.jpg&h=64&w=100&q=90&zc=1&ct=1" alt="Python爬虫进阶四之PySpider的用法" /></span><span class="text">Python爬虫进阶四之PySpider的用法</span><span class="muted">2016-03-26</span><span class="muted">156评论</span></a></li>
<li><a href="https://cuiqingcai.com/1076.html" title="Python爬虫实战五之模拟登录淘宝并获取所有订单" ><span class="thumbnail"><img src="https://cuiqingcai.com/wp-content/themes/Yusi/timthumb.php?src=https://qiniu.cuiqingcai.com/wp-content/uploads/2015/02/wallpaper_5226152.jpg&h=64&w=100&q=90&zc=1&ct=1" alt="Python爬虫实战五之模拟登录淘宝并获取所有订单" /></span><span class="text">Python爬虫实战五之模拟登录淘宝并获取所有订单</span><span class="muted">2015-02-24</span><span class="muted">136评论</span></a></li>
<li><a href="https://cuiqingcai.com/968.html" title="Python爬虫入门六之Cookie的使用" ><span class="thumbnail"><img src="https://cuiqingcai.com/wp-content/themes/Yusi/timthumb.php?src=https://qiniu.cuiqingcai.com/wp-content/uploads/2015/02/wallpaper_5258536-1.jpg&h=64&w=100&q=90&zc=1&ct=1" alt="Python爬虫入门六之Cookie的使用" /></span><span class="text">Python爬虫入门六之Cookie的使用</span><span class="muted">2015-02-15</span><span class="muted">132评论</span></a></li>
<li><a href="https://cuiqingcai.com/3472.html" title="小白进阶之Scrapy第一篇" ><span class="thumbnail"><img src="https://cuiqingcai.com/wp-content/themes/Yusi/timthumb.php?src=https://qiniu.cuiqingcai.com/wp-content/uploads/2016/07/DSC00123.jpg&h=64&w=100&q=90&zc=1&ct=1" alt="小白进阶之Scrapy第一篇" /></span><span class="text">小白进阶之Scrapy第一篇</span><span class="muted">2016-12-07</span><span class="muted">123评论</span></a></li>
<li><a href="https://cuiqingcai.com/1052.html" title="Python爬虫学习系列教程" ><span class="thumbnail"><img src="https://cuiqingcai.com/wp-content/themes/Yusi/timthumb.php?src=https://qiniu.cuiqingcai.com/wp-content/uploads/2015/02/wallpaper_5254665-e1424499272248.jpg&h=64&w=100&q=90&zc=1&ct=1" alt="Python爬虫学习系列教程" /></span><span class="text">Python爬虫学习系列教程</span><span class="muted">2015-02-21</span><span class="muted">112评论</span></a></li>
<li><a href="https://cuiqingcai.com/2416.html" title="弃用多说，改用畅言" ><span class="thumbnail"><img src="https://cuiqingcai.com/wp-content/themes/Yusi/timthumb.php?src=https://qiniu.cuiqingcai.com/wp-content/uploads/2016/02/bg1-e1454442892955.jpg&h=64&w=100&q=90&zc=1&ct=1" alt="弃用多说，改用畅言" /></span><span class="text">弃用多说，改用畅言</span><span class="muted">2016-02-03</span><span class="muted">84评论</span></a></li>
</ul></div><div class="widget d_tag"><div class="title"><h2>标签云</h2></div><div class="d_tags"><a title="45个话题" href="https://cuiqingcai.com/tag/python">Python (45)</a><a title="39个话题" href="https://cuiqingcai.com/tag/%e7%88%ac%e8%99%ab">爬虫 (39)</a><a title="31个话题" href="https://cuiqingcai.com/tag/php">PHP (31)</a><a title="21个话题" href="https://cuiqingcai.com/tag/js">JS (21)</a><a title="12个话题" href="https://cuiqingcai.com/tag/html">HTML (12)</a><a title="11个话题" href="https://cuiqingcai.com/tag/opengl">OpenGL (11)</a><a title="9个话题" href="https://cuiqingcai.com/tag/jquery">jQuery (9)</a><a title="7个话题" href="https://cuiqingcai.com/tag/linux">Linux (7)</a><a title="7个话题" href="https://cuiqingcai.com/tag/wordpress">WordPress (7)</a><a title="7个话题" href="https://cuiqingcai.com/tag/winpcap">Winpcap (7)</a><a title="6个话题" href="https://cuiqingcai.com/tag/css">CSS (6)</a><a title="6个话题" href="https://cuiqingcai.com/tag/security">Security (6)</a><a title="6个话题" href="https://cuiqingcai.com/tag/%e6%b7%b1%e5%ba%a6%e5%ad%a6%e4%b9%a0">深度学习 (6)</a><a title="6个话题" href="https://cuiqingcai.com/tag/tensorflow">TensorFlow (6)</a><a title="4个话题" href="https://cuiqingcai.com/tag/git">Git (4)</a><a title="4个话题" href="https://cuiqingcai.com/tag/bootstrap">Bootstrap (4)</a><a title="4个话题" href="https://cuiqingcai.com/tag/net">Net (4)</a><a title="3个话题" href="https://cuiqingcai.com/tag/java">Java (3)</a><a title="3个话题" href="https://cuiqingcai.com/tag/mysql">Mysql (3)</a><a title="2个话题" href="https://cuiqingcai.com/tag/cocos2d-x">Cocos2d-x (2)</a><a title="2个话题" href="https://cuiqingcai.com/tag/jsp">JSP (2)</a><a title="2个话题" href="https://cuiqingcai.com/tag/matlab">Matlab (2)</a><a title="2个话题" href="https://cuiqingcai.com/tag/photoshop">Photoshop (2)</a><a title="2个话题" href="https://cuiqingcai.com/tag/less">LESS (2)</a><a title="2个话题" href="https://cuiqingcai.com/tag/sass">SASS (2)</a><a title="1个话题" href="https://cuiqingcai.com/tag/json">Json (1)</a><a title="1个话题" href="https://cuiqingcai.com/tag/redis">Redis (1)</a><a title="1个话题" href="https://cuiqingcai.com/tag/nginx">Nginx (1)</a><a title="1个话题" href="https://cuiqingcai.com/tag/appium">Appium (1)</a><a title="1个话题" href="https://cuiqingcai.com/tag/gulp">Gulp (1)</a><a title="1个话题" href="https://cuiqingcai.com/tag/laravel">Laravel (1)</a><a title="1个话题" href="https://cuiqingcai.com/tag/%e6%b5%8b%e8%af%95">测试 (1)</a><a title="1个话题" href="https://cuiqingcai.com/tag/app">APP (1)</a><a title="1个话题" href="https://cuiqingcai.com/tag/ssh">SSH (1)</a><a title="1个话题" href="https://cuiqingcai.com/tag/scrapy%e5%88%86%e5%b8%83%e5%bc%8f">Scrapy分布式 (1)</a><a title="1个话题" href="https://cuiqingcai.com/tag/%e8%a7%86%e9%a2%91">视频 (1)</a><a title="1个话题" href="https://cuiqingcai.com/tag/python3">Python3 (1)</a><a title="1个话题" href="https://cuiqingcai.com/tag/scrapy">Scrapy (1)</a><a title="1个话题" href="https://cuiqingcai.com/tag/%e7%9f%a5%e4%b9%8e">知乎 (1)</a><a title="1个话题" href="https://cuiqingcai.com/tag/neo4j">Neo4j (1)</a><a title="1个话题" href="https://cuiqingcai.com/tag/http">HTTP (1)</a></div></div><div class="widget widget_links"><div class="title"><h2>友情链接</h2></div>
	<ul class='xoxo blogroll'>
<li><a href="http://www.99banzou.com" target="_blank">99伴奏网</a></li>
<li><a href="http://www.anotherhome.net" target="_blank">Anotherhome</a></li>
<li><a href="http://zhouchenwen.com" rel="acquaintance" target="_blank">ColdCoder</a></li>
<li><a href="https://www.3maio.com" target="_blank">Cpphp</a></li>
<li><a href="http://www.spotty.com.cn/" target="_blank">DevNews</a></li>
<li><a href="http://www.findspace.name" target="_blank">Findspace</a></li>
<li><a href="http://blog.hickwu.com/" target="_blank">Hick</a></li>
<li><a href="http://www.jankl.com/">jank</a></li>
<li><a href="http://www.keen8.com/">keen8博客</a></li>
<li><a href="http://lise.io/" target="_blank">Keep It Simple</a></li>
<li><a href="http://www.k2zone.cn/" target="_blank">kTWO</a></li>
<li><a href="http://monkeyblog.cn/">Monkey前端博客</a></li>
<li><a href="http://www.newbieblog.cc/" target="_blank">newbie&#039;blog</a></li>
<li><a href="http://www.urselect.com/?aid=dnk9st" target="_blank">nopcommerce</a></li>
<li><a href="http://www.imop.us/" target="_blank">phper.yang</a></li>
<li><a href="http://www.shangzekai.xyz">Shang</a></li>
<li><a href="http://wonderlee.me">Wonder’s Land</a></li>
<li><a href="http://wxinjie.cn/">XJIE</a></li>
<li><a href="http://www.paurl.com/">互联网运营</a></li>
<li><a href="http://www.atrail.cn/" target="_blank">从前以后</a></li>
<li><a href="http://lanbing510.info" target="_blank">冰蓝</a></li>
<li><a href="http://www.61mon.com/" target="_blank">刘毅</a></li>
<li><a href="http://www.superqq.com/">刚刚在线</a></li>
<li><a href="http://qianxunclub.com/" target="_blank">千寻啊千寻</a></li>
<li><a href="http://kodcloud.com/">可道云</a></li>
<li><a href="http://www.lvtao.net" target="_blank">吕滔博客</a></li>
<li><a href="https://wujunze.com" target="_blank">吴钧泽博客</a></li>
<li><a href="http://www.hellobi.com/" target="_blank">天善智能</a></li>
<li><a href="http://www.fddcn.cn" target="_blank">奋斗的承诺</a></li>
<li><a href="http://www.jrady.cn/" target="_blank">宏愿</a></li>
<li><a href="http://www.cenchong.com/" target="_blank">岑冲个人博客</a></li>
<li><a href="https://upliu.net/" target="_blank">开飞机的小蜗牛</a></li>
<li><a href="http://www.chrafz.com/">张弦先生</a></li>
<li><a href="http://www.503error.com/">张志明的个人博客</a></li>
<li><a href="https://www.sastdoglcy.cn/" target="_blank">成长的柚子</a></li>
<li><a href="http://www.jishux.com/" target="_blank">技术栈</a></li>
<li><a href="https://seofangfa.com" target="_blank">方法SEO顾问</a></li>
<li><a href="http://www.lishengcn.cn/" target="_blank">李胜的脚步</a></li>
<li><a href="http://liaoyuming.cn" rel="acquaintance" target="_blank">永远站</a></li>
<li><a href="http://www.hubwiz.com" target="_blank">汇智网</a></li>
<li><a href="http://frankchen.xyz/" target="_blank">江南消夏</a></li>
<li><a href="http://bysocket.com" target="_blank">泥瓦匠BYSocket</a></li>
<li><a href="http://www.xiaoxiangyucuo.com/">潇湘雨错</a></li>
<li><a href="http://www.xiongge.club/">熊哥club</a></li>
<li><a href="https://geekspider.org/" target="_blank">爬虫实验室</a></li>
<li><a href="http://www.aihongxin.com/">爱红心 爱分享</a></li>
<li><a href="http://blog.wangjingxin.top/">王镜鑫的博客</a></li>
<li><a href="http://zerlong.com/" target="_blank">知语</a></li>
<li><a href="https://www.binblogs.cn" target="_blank">码农De边缘世界</a></li>
<li><a href="http://ibloger.net" target="_blank">程序喵</a></li>
<li><a href="http://www.numberer.net/" target="_blank">第二导航</a></li>
<li><a href="http://blog.csdn.net/lu_wei_wei">米四度的思考</a></li>
<li><a href="http://www.zoeys.cn/" target="_blank">糊糊</a></li>
<li><a href="https://www.carlstedt.cn/">紫杉倒影</a></li>
<li><a href="http://www.laodong.me" target="_blank">老董博客</a></li>
<li><a href="http://zangyiwei.com">臧义伟博客</a></li>
<li><a href="http://www.lanqibing.com/" target="_blank">蓝骑兵</a></li>
<li><a href="http://www.zhan0929.cc">詹加兵个人博客</a></li>
<li><a href="http://zhaoshuai.me/%20" target="_blank">赵帅的个人博客</a></li>
<li><a href="http://blog.zfuyun.top/">赵浮云博客</a></li>
<li><a href="http://www.leyle.com/" target="_blank">遗落岛</a></li>

	</ul>
</div>
<div class="widget widget_text"><div class="title"><h2>精品推荐</h2></div>			<div class="textwidget"><div class="side-ad">
<script type="text/javascript">
var cpro_id="u2578794";
(window["cproStyleApi"] = window["cproStyleApi"] || {})[cpro_id]={at:"3",rsi0:"300",rsi1:"250",pat:"17",tn:"baiduCustNativeAD",rss1:"#FFFFFF",conBW:"1",adp:"1",ptt:"0",titFF:"%E5%BE%AE%E8%BD%AF%E9%9B%85%E9%BB%91",titFS:"14",rss2:"#00a67c",titSU:"0"}
</script>
<script src="https://cpro.baidustatic.com/cpro/ui/c.js" type="text/javascript"></script>
</div>
<style>
#BAIDU_SSP__wrapper_u2578794_1 {
display:none;
}
#BAIDU_SSP__wrapper_u2578794_0 #iframeu2578794_0  .bd-logo2 {
display:none !important;
}
</style></div>
		</div><div class="widget widget_text"><div class="title"><h2>新浪微博</h2></div>			<div class="textwidget"><iframe width="100%" height="550" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=550&fansRow=2&ptype=1&speed=0&skin=1&isTitle=0&noborder=0&isWeibo=1&isFans=1&uid=2830678474&verifier=7468dc7b&dpc=1"></iframe></div>
		</div><div class="widget widget_text"><div class="title"><h2>热门评论</h2></div>			<div class="textwidget"><div style="background:#fff;margin-top:5px;padding:0 20px 10px 10px;display:none">
			<div id="cyReping" role="cylabs" data-use="reping"></div>	
			<script type="text/javascript" charset="utf-8" src="http://changyan.itc.cn/js/lib/jquery.js"></script>
			<script type="text/javascript" charset="utf-8" src="https://changyan.sohu.com/js/changyan.labs.https.js?appid=cyse2vKeA"></script>
            	</div></div>
		</div><div class="widget widget_text"><div class="title"><h2>交流问答</h2></div>			<div class="textwidget"><div class="p-sm">
<p style="
    margin-left: 20px;
    color: #00a67c;
">遇到问题没有解决方案？来论坛提问吧</p><p style="
    margin-left: 10px;
">
<a href="http://bbs.cuiqingcai.com/">
<input type="button" value="点我提问" style="width: 310px; margin: 10px auto 0px; background-color: rgb(245, 138, 135); color: rgb(255, 255, 255); height: 40px; border: none; font-family: 'Microsoft Yahei'; font-size: 16px; letter-spacing: 2px;" onmouseover="this.style.backgroundColor='rgb(252, 125, 121)'" onmouseout="this.style.backgroundColor='#F58A87'"/></a>
</p></div></div>
		</div><div class="widget widget_text">			<div class="textwidget"><p><a href="https://edu.hellobi.com/course/157"><br />
<img src="http://qiniu.cuiqingcai.com/wp-content/uploads/2017/04/WechatIMG258.jpeg"/><br />
</a></p>
</div>
		</div></aside></section>
<footer class="footer">
    <div class="footer-inner">
        <div class="copyright pull-left">
         <a href="https://cuiqingcai.com " title="静觅">静觅</a> 版权所有丨采用<a href="http://yusi123.com/"> 欲思 </a>主题丨基于<a href="http://cn.wordpress.org/" title="WordPress"> WordPress </a>构建   © 2015丨托管于 <a rel="nofollow" target="_blank" href="http://www.aliyun.com/">阿里云主机</a> & <a rel="nofollow" target="_blank" href="http://www.qiniu.com/">七牛云存储 </a>丨鲁ICP备14030596号
		 <div>
			<script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_1253486800'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s4.cnzz.com/z_stat.php%3Fid%3D1253486800%26online%3D1%26show%3Dline' type='text/javascript'%3E%3C/script%3E"));</script>
		 </div>
		</div>
        
    </div>
</footer>

<link rel='stylesheet' id='metaslider-nivo-slider-css'  href='https://cuiqingcai.com/wp-content/plugins/ml-slider/assets/sliders/nivoslider/nivo-slider.css?ver=3.5' type='text/css' media='all' property='stylesheet' />
<link rel='stylesheet' id='metaslider-public-css'  href='https://cuiqingcai.com/wp-content/plugins/ml-slider/assets/metaslider/public.css?ver=3.5' type='text/css' media='all' property='stylesheet' />
<link rel='stylesheet' id='metaslider-nivo-slider-bar-css'  href='https://cuiqingcai.com/wp-content/plugins/ml-slider/assets/sliders/nivoslider/themes/bar/bar.css?ver=3.5' type='text/css' media='all' property='stylesheet' />
<script type='text/javascript'>
/* <![CDATA[ */
var viewsCacheL10n = {"admin_ajax_url":"https:\/\/cuiqingcai.com\/wp-admin\/admin-ajax.php","post_id":"3335"};
/* ]]> */
</script>
<script type='text/javascript' src='https://cuiqingcai.com/wp-content/plugins/wp-postviews/postviews-cache.js?ver=1.68'></script>
<script type='text/javascript' src='https://cuiqingcai.com/wp-content/themes/Yusi/js/jquery.js?ver=1.0'></script>
<script type='text/javascript' src='https://cuiqingcai.com/wp-includes/js/wp-embed.min.js?ver=4.7.3'></script>
<script type='text/javascript' src='https://cuiqingcai.com/wp-content/plugins/ml-slider/assets/sliders/nivoslider/jquery.nivo.slider.pack.js?ver=3.5'></script>
<script>with(document)0[(getElementsByTagName("head")[0]||body).appendChild(createElement("script")).src="http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion="+~(-new Date()/36e5)];</script><!-- xuanfu -->
 <script type="text/javascript">
    /*300*25 创建于 2015-02-23*/
    var cpro_id = "u1959047";
</script>
<script src="https://cpro.baidustatic.com/cpro/ui/s.js" type="text/javascript"></script>
<script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3F3ef185224776ec2561c9f7066ead4f24' type='text/javascript'%3E%3C/script%3E"));
</script>
<script>
setTimeout(function(){
	
$('#cpv6_left_lower,#cpv6_right_lower').css({
'width': 0
});
}, 500);
</script>
<script type="text/javascript">
$(document).ready(function(){
	var imgs = new Array();
	imgs[0] = 'http://qiniu.cuiqingcai.com/wp-content/uploads/2015/05/20150525111154.jpg';
	imgs[1] = 'http://qiniu.cuiqingcai.com/wp-content/uploads/2015/05/20150525111447.jpg';
	imgs[2] = 'http://qiniu.cuiqingcai.com/wp-content/uploads/2015/05/20150525112058.jpg';
	imgs[3] = 'http://qiniu.cuiqingcai.com/wp-content/uploads/2015/05/20150525112112.jpg';
	imgs[4] = 'http://qiniu.cuiqingcai.com/wp-content/uploads/2015/05/20150525112129.jpg';
	imgs[5] = 'http://qiniu.cuiqingcai.com/wp-content/uploads/2015/05/20150525112155.jpg';
	$('.ds-avatar img[src*="cdncache"], .ds-avatar img[src*="avatar-50"]').each(function(){
		var rand = Math.floor(Math.random()*imgs.length);
		$(this).attr("src",imgs[rand]);
	})
});
</script>
</body>
</html>
<!-- Dynamic page generated in 0.393 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2018-01-25 08:29:54 -->

<!-- super cache -->